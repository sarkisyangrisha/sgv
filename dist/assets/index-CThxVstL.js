function zx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Jp={exports:{}},ac={},Xp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),Wx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),qx=Symbol.for("react.profiler"),Gx=Symbol.for("react.provider"),Zx=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Kx=Symbol.for("react.suspense"),Yx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),Nh=Symbol.iterator;function Xx(t){return t===null||typeof t!="object"?null:(t=Nh&&t[Nh]||t["@@iterator"],typeof t=="function"?t:null)}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg=Object.assign,rg={};function Di(t,e,r){this.props=t,this.context=e,this.refs=rg,this.updater=r||eg}Di.prototype.isReactComponent={};Di.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Di.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ng(){}ng.prototype=Di.prototype;function ef(t,e,r){this.props=t,this.context=e,this.refs=rg,this.updater=r||eg}var tf=ef.prototype=new ng;tf.constructor=ef;tg(tf,Di.prototype);tf.isPureReactComponent=!0;var Sh=Array.isArray,sg=Object.prototype.hasOwnProperty,rf={current:null},ig={key:!0,ref:!0,__self:!0,__source:!0};function ag(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)sg.call(e,n)&&!ig.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),f=0;f<o;f++)c[f]=arguments[f+2];s.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:fo,type:t,key:i,ref:a,props:s,_owner:rf.current}}function ew(t,e){return{$$typeof:fo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nf(t){return typeof t=="object"&&t!==null&&t.$$typeof===fo}function tw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Eh=/\/+/g;function Qc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tw(""+t.key):e.toString(36)}function Qo(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fo:case Vx:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Qc(a,0):n,Sh(s)?(r="",t!=null&&(r=t.replace(Eh,"$&/")+"/"),Qo(s,e,r,"",function(f){return f})):s!=null&&(nf(s)&&(s=ew(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Eh,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Sh(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Qc(i,o);a+=Qo(i,e,r,c,s)}else if(c=Xx(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Qc(i,o++),a+=Qo(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Eo(t,e,r){if(t==null)return t;var n=[],s=0;return Qo(t,n,"","",function(i){return e.call(r,i,s++)}),n}function rw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Ko={transition:null},nw={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ko,ReactCurrentOwner:rf};function og(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:Eo,forEach:function(t,e,r){Eo(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Eo(t,function(){e++}),e},toArray:function(t){return Eo(t,function(e){return e})||[]},only:function(t){if(!nf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=Di;Oe.Fragment=Wx;Oe.Profiler=qx;Oe.PureComponent=ef;Oe.StrictMode=Hx;Oe.Suspense=Kx;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nw;Oe.act=og;Oe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=tg({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=rf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)sg.call(e,c)&&!ig.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var f=0;f<c;f++)o[f]=arguments[f+2];n.children=o}return{$$typeof:fo,type:t.type,key:s,ref:i,props:n,_owner:a}};Oe.createContext=function(t){return t={$$typeof:Zx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gx,_context:t},t.Consumer=t};Oe.createElement=ag;Oe.createFactory=function(t){var e=ag.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:Qx,render:t}};Oe.isValidElement=nf;Oe.lazy=function(t){return{$$typeof:Jx,_payload:{_status:-1,_result:t},_init:rw}};Oe.memo=function(t,e){return{$$typeof:Yx,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=Ko.transition;Ko.transition={};try{t()}finally{Ko.transition=e}};Oe.unstable_act=og;Oe.useCallback=function(t,e){return Vt.current.useCallback(t,e)};Oe.useContext=function(t){return Vt.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return Vt.current.useEffect(t,e)};Oe.useId=function(){return Vt.current.useId()};Oe.useImperativeHandle=function(t,e,r){return Vt.current.useImperativeHandle(t,e,r)};Oe.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return Vt.current.useMemo(t,e)};Oe.useReducer=function(t,e,r){return Vt.current.useReducer(t,e,r)};Oe.useRef=function(t){return Vt.current.useRef(t)};Oe.useState=function(t){return Vt.current.useState(t)};Oe.useSyncExternalStore=function(t,e,r){return Vt.current.useSyncExternalStore(t,e,r)};Oe.useTransition=function(){return Vt.current.useTransition()};Oe.version="18.3.1";Xp.exports=Oe;var V=Xp.exports;const nr=Yp(V),sw=zx({__proto__:null,default:nr},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=V,aw=Symbol.for("react.element"),ow=Symbol.for("react.fragment"),lw=Object.prototype.hasOwnProperty,cw=iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uw={key:!0,ref:!0,__self:!0,__source:!0};function lg(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)lw.call(e,n)&&!uw.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:aw,type:t,key:i,ref:a,props:s,_owner:cw.current}}ac.Fragment=ow;ac.jsx=lg;ac.jsxs=lg;Jp.exports=ac;var l=Jp.exports,cg={exports:{}},ur={},ug={exports:{}},dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,z){var $=B.length;B.push(z);e:for(;0<$;){var J=$-1>>>1,K=B[J];if(0<s(K,z))B[J]=z,B[$]=K,$=J;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var z=B[0],$=B.pop();if($!==z){B[0]=$;e:for(var J=0,K=B.length,ne=K>>>1;J<ne;){var F=2*(J+1)-1,U=B[F],ae=F+1,xe=B[ae];if(0>s(U,$))ae<K&&0>s(xe,U)?(B[J]=xe,B[ae]=$,J=ae):(B[J]=U,B[F]=$,J=F);else if(ae<K&&0>s(xe,$))B[J]=xe,B[ae]=$,J=ae;else break e}}return z}function s(B,z){var $=B.sortIndex-z.sortIndex;return $!==0?$:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],f=[],u=1,d=null,h=3,m=!1,p=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var z=r(f);z!==null;){if(z.callback===null)n(f);else if(z.startTime<=B)n(f),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(f)}}function k(B){if(v=!1,x(B),!p)if(r(c)!==null)p=!0,A(_);else{var z=r(f);z!==null&&E(k,z.startTime-B)}}function _(B,z){p=!1,v&&(v=!1,g(b),b=-1),m=!0;var $=h;try{for(x(z),d=r(c);d!==null&&(!(d.expirationTime>z)||B&&!T());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var K=J(d.expirationTime<=z);z=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(c)&&n(c),x(z)}else n(c);d=r(c)}if(d!==null)var ne=!0;else{var F=r(f);F!==null&&E(k,F.startTime-z),ne=!1}return ne}finally{d=null,h=$,m=!1}}var S=!1,O=null,b=-1,N=5,C=-1;function T(){return!(t.unstable_now()-C<N)}function R(){if(O!==null){var B=t.unstable_now();C=B;var z=!0;try{z=O(!0,B)}finally{z?L():(S=!1,O=null)}}else S=!1}var L;if(typeof y=="function")L=function(){y(R)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,H=I.port2;I.port1.onmessage=R,L=function(){H.postMessage(null)}}else L=function(){w(R,0)};function A(B){O=B,S||(S=!0,L())}function E(B,z){b=w(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,A(_))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var $=h;h=z;try{return B()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=h;h=B;try{return z()}finally{h=$}},t.unstable_scheduleCallback=function(B,z,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=$+K,B={id:u++,callback:z,priorityLevel:B,startTime:$,expirationTime:K,sortIndex:-1},$>J?(B.sortIndex=$,e(f,B),r(c)===null&&B===r(f)&&(v?(g(b),b=-1):v=!0,E(k,$-J))):(B.sortIndex=K,e(c,B),p||m||(p=!0,A(_))),B},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(B){var z=h;return function(){var $=h;h=z;try{return B.apply(this,arguments)}finally{h=$}}}})(dg);ug.exports=dg;var dw=ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw=V,cr=dw;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fg=new Set,Aa={};function Ms(t,e){ji(t,e),ji(t+"Capture",e)}function ji(t,e){for(Aa[t]=e,t=0;t<e.length;t++)fg.add(e[t])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=Object.prototype.hasOwnProperty,hw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Th={};function mw(t){return Fu.call(Th,t)?!0:Fu.call(Ch,t)?!1:hw.test(t)?Th[t]=!0:(Ch[t]=!0,!1)}function pw(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gw(t,e,r,n){if(e===null||typeof e>"u"||pw(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var sf=/[\-:]([a-z])/g;function af(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sf,af);Et[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sf,af);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sf,af);Et[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function of(t,e,r,n){var s=Et.hasOwnProperty(e)?Et[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gw(e,r,s,n)&&(r=null),n||s===null?mw(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var kn=fw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),ei=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),$u=Symbol.for("react.profiler"),hg=Symbol.for("react.provider"),mg=Symbol.for("react.context"),cf=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),pg=Symbol.for("react.offscreen"),Ah=Symbol.iterator;function Yi(t){return t===null||typeof t!="object"?null:(t=Ah&&t[Ah]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Kc;function da(t){if(Kc===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Kc=e&&e[1]||""}return`
`+Kc+t}var Yc=!1;function Jc(t,e){if(!t||Yc)return"";Yc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var n=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){n=f}t.call(e.prototype)}else{try{throw Error()}catch(f){n=f}t()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{Yc=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?da(t):""}function yw(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=Jc(t.type,!1),t;case 11:return t=Jc(t.type.render,!1),t;case 1:return t=Jc(t.type,!0),t;default:return""}}function Bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ti:return"Fragment";case ei:return"Portal";case $u:return"Profiler";case lf:return"StrictMode";case Uu:return"Suspense";case zu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mg:return(t.displayName||"Context")+".Consumer";case hg:return(t._context.displayName||"Context")+".Provider";case cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uf:return e=t.displayName||null,e!==null?e:Bu(t.type)||"Memo";case Tn:e=t._payload,t=t._init;try{return Bu(t(e))}catch{}}return null}function vw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bu(e);case 8:return e===lf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xw(t){var e=gg(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function To(t){t._valueTracker||(t._valueTracker=xw(t))}function yg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gg(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vu(t,e){var r=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ph(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vg(t,e){e=e.checked,e!=null&&of(t,"checked",e,!1)}function Wu(t,e){vg(t,e);var r=Zn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hu(t,e.type,r):e.hasOwnProperty("defaultValue")&&Hu(t,e.type,Zn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rh(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Hu(t,e,r){(e!=="number"||hl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fa=Array.isArray;function mi(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zn(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function qu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(fa(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zn(r)}}function xg(t,e){var r=Zn(e.value),n=Zn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ih(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ao,bg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ao.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pa(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ww=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){ww.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function _g(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function kg(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=_g(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var bw=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zu(t,e){if(e){if(bw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function Qu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=null;function df(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yu=null,pi=null,gi=null;function Lh(t){if(t=po(t)){if(typeof Yu!="function")throw Error(le(280));var e=t.stateNode;e&&(e=dc(e),Yu(t.stateNode,t.type,e))}}function jg(t){pi?gi?gi.push(t):gi=[t]:pi=t}function Ng(){if(pi){var t=pi,e=gi;if(gi=pi=null,Lh(t),e)for(t=0;t<e.length;t++)Lh(e[t])}}function Sg(t,e){return t(e)}function Eg(){}var Xc=!1;function Cg(t,e,r){if(Xc)return t(e,r);Xc=!0;try{return Sg(t,e,r)}finally{Xc=!1,(pi!==null||gi!==null)&&(Eg(),Ng())}}function Ra(t,e){var r=t.stateNode;if(r===null)return null;var n=dc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var Ju=!1;if(yn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Ju=!1}function _w(t,e,r,n,s,i,a,o,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(r,f)}catch(u){this.onError(u)}}var xa=!1,ml=null,pl=!1,Xu=null,kw={onError:function(t){xa=!0,ml=t}};function jw(t,e,r,n,s,i,a,o,c){xa=!1,ml=null,_w.apply(kw,arguments)}function Nw(t,e,r,n,s,i,a,o,c){if(jw.apply(this,arguments),xa){if(xa){var f=ml;xa=!1,ml=null}else throw Error(le(198));pl||(pl=!0,Xu=f)}}function Fs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Tg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dh(t){if(Fs(t)!==t)throw Error(le(188))}function Sw(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dh(s),t;if(i===n)return Dh(s),e;i=i.sibling}throw Error(le(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function Ag(t){return t=Sw(t),t!==null?Pg(t):null}function Pg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pg(t);if(e!==null)return e;t=t.sibling}return null}var Rg=cr.unstable_scheduleCallback,Mh=cr.unstable_cancelCallback,Ew=cr.unstable_shouldYield,Cw=cr.unstable_requestPaint,lt=cr.unstable_now,Tw=cr.unstable_getCurrentPriorityLevel,ff=cr.unstable_ImmediatePriority,Og=cr.unstable_UserBlockingPriority,gl=cr.unstable_NormalPriority,Aw=cr.unstable_LowPriority,Ig=cr.unstable_IdlePriority,oc=null,Jr=null;function Pw(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(oc,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:Iw,Rw=Math.log,Ow=Math.LN2;function Iw(t){return t>>>=0,t===0?32:31-(Rw(t)/Ow|0)|0}var Po=64,Ro=4194304;function ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yl(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=ha(o):(i&=a,i!==0&&(n=ha(i)))}else a=r&~s,a!==0?n=ha(a):i!==0&&(n=ha(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Or(e),s=1<<r,n|=t[r],e&=~s;return n}function Lw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Or(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=Lw(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}}function ed(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lg(){var t=Po;return Po<<=1,!(Po&4194240)&&(Po=64),t}function eu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ho(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Or(e),t[e]=r}function Mw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Or(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function hf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Or(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Ve=0;function Dg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mg,mf,Fg,$g,Ug,td=!1,Oo=[],$n=null,Un=null,zn=null,Oa=new Map,Ia=new Map,Rn=[],Fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fh(t,e){switch(t){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(e.pointerId)}}function Xi(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=po(e),e!==null&&mf(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $w(t,e,r,n,s){switch(e){case"focusin":return $n=Xi($n,t,e,r,n,s),!0;case"dragenter":return Un=Xi(Un,t,e,r,n,s),!0;case"mouseover":return zn=Xi(zn,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Oa.set(i,Xi(Oa.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ia.set(i,Xi(Ia.get(i)||null,t,e,r,n,s)),!0}return!1}function zg(t){var e=ms(t.target);if(e!==null){var r=Fs(e);if(r!==null){if(e=r.tag,e===13){if(e=Tg(r),e!==null){t.blockedOn=e,Ug(t.priority,function(){Fg(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ku=n,r.target.dispatchEvent(n),Ku=null}else return e=po(r),e!==null&&mf(e),t.blockedOn=r,!1;e.shift()}return!0}function $h(t,e,r){Yo(t)&&r.delete(e)}function Uw(){td=!1,$n!==null&&Yo($n)&&($n=null),Un!==null&&Yo(Un)&&(Un=null),zn!==null&&Yo(zn)&&(zn=null),Oa.forEach($h),Ia.forEach($h)}function ea(t,e){t.blockedOn===e&&(t.blockedOn=null,td||(td=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,Uw)))}function La(t){function e(s){return ea(s,t)}if(0<Oo.length){ea(Oo[0],t);for(var r=1;r<Oo.length;r++){var n=Oo[r];n.blockedOn===t&&(n.blockedOn=null)}}for($n!==null&&ea($n,t),Un!==null&&ea(Un,t),zn!==null&&ea(zn,t),Oa.forEach(e),Ia.forEach(e),r=0;r<Rn.length;r++)n=Rn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)zg(r),r.blockedOn===null&&Rn.shift()}var yi=kn.ReactCurrentBatchConfig,vl=!0;function zw(t,e,r,n){var s=Ve,i=yi.transition;yi.transition=null;try{Ve=1,pf(t,e,r,n)}finally{Ve=s,yi.transition=i}}function Bw(t,e,r,n){var s=Ve,i=yi.transition;yi.transition=null;try{Ve=4,pf(t,e,r,n)}finally{Ve=s,yi.transition=i}}function pf(t,e,r,n){if(vl){var s=rd(t,e,r,n);if(s===null)uu(t,e,n,xl,r),Fh(t,n);else if($w(s,t,e,r,n))n.stopPropagation();else if(Fh(t,n),e&4&&-1<Fw.indexOf(t)){for(;s!==null;){var i=po(s);if(i!==null&&Mg(i),i=rd(t,e,r,n),i===null&&uu(t,e,n,xl,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else uu(t,e,n,null,r)}}var xl=null;function rd(t,e,r,n){if(xl=null,t=df(n),t=ms(t),t!==null)if(e=Fs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Tg(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xl=t,null}function Bg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tw()){case ff:return 1;case Og:return 4;case gl:case Aw:return 16;case Ig:return 536870912;default:return 16}default:return 16}}var Dn=null,gf=null,Jo=null;function Vg(){if(Jo)return Jo;var t,e=gf,r=e.length,n,s="value"in Dn?Dn.value:Dn.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return Jo=s.slice(t,1<n?1-n:void 0)}function Xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Io(){return!0}function Uh(){return!1}function dr(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Io:Uh,this.isPropagationStopped=Uh,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Io)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Io)},persist:function(){},isPersistent:Io}),e}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yf=dr(Mi),mo=st({},Mi,{view:0,detail:0}),Vw=dr(mo),tu,ru,ta,lc=st({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(tu=t.screenX-ta.screenX,ru=t.screenY-ta.screenY):ru=tu=0,ta=t),tu)},movementY:function(t){return"movementY"in t?t.movementY:ru}}),zh=dr(lc),Ww=st({},lc,{dataTransfer:0}),Hw=dr(Ww),qw=st({},mo,{relatedTarget:0}),nu=dr(qw),Gw=st({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=dr(Gw),Qw=st({},Mi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kw=dr(Qw),Yw=st({},Mi,{data:0}),Bh=dr(Yw),Jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e1[t])?!!e[t]:!1}function vf(){return t1}var r1=st({},mo,{key:function(t){if(t.key){var e=Jw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(t){return t.type==="keypress"?Xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n1=dr(r1),s1=st({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=dr(s1),i1=st({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),a1=dr(i1),o1=st({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=dr(o1),c1=st({},lc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=dr(c1),d1=[9,13,27,32],xf=yn&&"CompositionEvent"in window,wa=null;yn&&"documentMode"in document&&(wa=document.documentMode);var f1=yn&&"TextEvent"in window&&!wa,Wg=yn&&(!xf||wa&&8<wa&&11>=wa),Wh=" ",Hh=!1;function Hg(t,e){switch(t){case"keyup":return d1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function h1(t,e){switch(t){case"compositionend":return qg(e);case"keypress":return e.which!==32?null:(Hh=!0,Wh);case"textInput":return t=e.data,t===Wh&&Hh?null:t;default:return null}}function m1(t,e){if(ri)return t==="compositionend"||!xf&&Hg(t,e)?(t=Vg(),Jo=gf=Dn=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wg&&e.locale!=="ko"?null:e.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p1[t.type]:e==="textarea"}function Gg(t,e,r,n){jg(n),e=wl(e,"onChange"),0<e.length&&(r=new yf("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ba=null,Da=null;function g1(t){s0(t,0)}function cc(t){var e=ii(t);if(yg(e))return t}function y1(t,e){if(t==="change")return e}var Zg=!1;if(yn){var su;if(yn){var iu="oninput"in document;if(!iu){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),iu=typeof Gh.oninput=="function"}su=iu}else su=!1;Zg=su&&(!document.documentMode||9<document.documentMode)}function Zh(){ba&&(ba.detachEvent("onpropertychange",Qg),Da=ba=null)}function Qg(t){if(t.propertyName==="value"&&cc(Da)){var e=[];Gg(e,Da,t,df(t)),Cg(g1,e)}}function v1(t,e,r){t==="focusin"?(Zh(),ba=e,Da=r,ba.attachEvent("onpropertychange",Qg)):t==="focusout"&&Zh()}function x1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(Da)}function w1(t,e){if(t==="click")return cc(e)}function b1(t,e){if(t==="input"||t==="change")return cc(e)}function _1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:_1;function Ma(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Fu.call(e,s)||!Dr(t[s],e[s]))return!1}return!0}function Qh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kh(t,e){var r=Qh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qh(r)}}function Kg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yg(){for(var t=window,e=hl();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hl(t.document)}return e}function wf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k1(t){var e=Yg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Kg(r.ownerDocument.documentElement,r)){if(n!==null&&wf(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Kh(r,i);var a=Kh(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j1=yn&&"documentMode"in document&&11>=document.documentMode,ni=null,nd=null,_a=null,sd=!1;function Yh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sd||ni==null||ni!==hl(n)||(n=ni,"selectionStart"in n&&wf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_a&&Ma(_a,n)||(_a=n,n=wl(nd,"onSelect"),0<n.length&&(e=new yf("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ni)))}function Lo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var si={animationend:Lo("Animation","AnimationEnd"),animationiteration:Lo("Animation","AnimationIteration"),animationstart:Lo("Animation","AnimationStart"),transitionend:Lo("Transition","TransitionEnd")},au={},Jg={};yn&&(Jg=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function uc(t){if(au[t])return au[t];if(!si[t])return t;var e=si[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Jg)return au[t]=e[r];return t}var Xg=uc("animationend"),e0=uc("animationiteration"),t0=uc("animationstart"),r0=uc("transitionend"),n0=new Map,Jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){n0.set(t,e),Ms(e,[t])}for(var ou=0;ou<Jh.length;ou++){var lu=Jh[ou],N1=lu.toLowerCase(),S1=lu[0].toUpperCase()+lu.slice(1);es(N1,"on"+S1)}es(Xg,"onAnimationEnd");es(e0,"onAnimationIteration");es(t0,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(r0,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function Xh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Nw(n,e,void 0,t),t.currentTarget=null}function s0(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,f=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Xh(s,o,f),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,f=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Xh(s,o,f),i=c}}}if(pl)throw t=Xu,pl=!1,Xu=null,t}function Ye(t,e){var r=e[cd];r===void 0&&(r=e[cd]=new Set);var n=t+"__bubble";r.has(n)||(i0(e,t,2,!1),r.add(n))}function cu(t,e,r){var n=0;e&&(n|=4),i0(r,t,n,e)}var Do="_reactListening"+Math.random().toString(36).slice(2);function Fa(t){if(!t[Do]){t[Do]=!0,fg.forEach(function(r){r!=="selectionchange"&&(E1.has(r)||cu(r,!1,t),cu(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Do]||(e[Do]=!0,cu("selectionchange",!1,e))}}function i0(t,e,r,n){switch(Bg(e)){case 1:var s=zw;break;case 4:s=Bw;break;default:s=pf}r=s.bind(null,e,r,t),s=void 0,!Ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function uu(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=ms(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Cg(function(){var f=i,u=df(r),d=[];e:{var h=n0.get(t);if(h!==void 0){var m=yf,p=t;switch(t){case"keypress":if(Xo(r)===0)break e;case"keydown":case"keyup":m=n1;break;case"focusin":p="focus",m=nu;break;case"focusout":p="blur",m=nu;break;case"beforeblur":case"afterblur":m=nu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=a1;break;case Xg:case e0:case t0:m=Zw;break;case r0:m=l1;break;case"scroll":m=Vw;break;case"wheel":m=u1;break;case"copy":case"cut":case"paste":m=Kw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vh}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var y=f,x;y!==null;){x=y;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=Ra(y,g),k!=null&&v.push($a(y,k,x)))),w)break;y=y.return}0<v.length&&(h=new m(h,p,null,r,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==Ku&&(p=r.relatedTarget||r.fromElement)&&(ms(p)||p[vn]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=f,p=p?ms(p):null,p!==null&&(w=Fs(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=f),m!==p)){if(v=zh,k="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Vh,k="onPointerLeave",g="onPointerEnter",y="pointer"),w=m==null?h:ii(m),x=p==null?h:ii(p),h=new v(k,y+"leave",m,r,u),h.target=w,h.relatedTarget=x,k=null,ms(u)===f&&(v=new v(g,y+"enter",p,r,u),v.target=x,v.relatedTarget=w,k=v),w=k,m&&p)t:{for(v=m,g=p,y=0,x=v;x;x=Ws(x))y++;for(x=0,k=g;k;k=Ws(k))x++;for(;0<y-x;)v=Ws(v),y--;for(;0<x-y;)g=Ws(g),x--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ws(v),g=Ws(g)}v=null}else v=null;m!==null&&em(d,h,m,v,!1),p!==null&&w!==null&&em(d,w,p,v,!0)}}e:{if(h=f?ii(f):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=y1;else if(qh(h))if(Zg)_=b1;else{_=x1;var S=v1}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=w1);if(_&&(_=_(t,f))){Gg(d,_,r,u);break e}S&&S(t,h,f),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Hu(h,"number",h.value)}switch(S=f?ii(f):window,t){case"focusin":(qh(S)||S.contentEditable==="true")&&(ni=S,nd=f,_a=null);break;case"focusout":_a=nd=ni=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Yh(d,r,u);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":Yh(d,r,u)}var O;if(xf)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ri?Hg(t,r)&&(b="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(Wg&&r.locale!=="ko"&&(ri||b!=="onCompositionStart"?b==="onCompositionEnd"&&ri&&(O=Vg()):(Dn=u,gf="value"in Dn?Dn.value:Dn.textContent,ri=!0)),S=wl(f,b),0<S.length&&(b=new Bh(b,t,null,r,u),d.push({event:b,listeners:S}),O?b.data=O:(O=qg(r),O!==null&&(b.data=O)))),(O=f1?h1(t,r):m1(t,r))&&(f=wl(f,"onBeforeInput"),0<f.length&&(u=new Bh("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:f}),u.data=O))}s0(d,e)})}function $a(t,e,r){return{instance:t,listener:e,currentTarget:r}}function wl(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ra(t,r),i!=null&&n.unshift($a(t,i,s)),i=Ra(t,e),i!=null&&n.push($a(t,i,s))),t=t.return}return n}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function em(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,f=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&f!==null&&(o=f,s?(c=Ra(r,i),c!=null&&a.unshift($a(r,c,o))):s||(c=Ra(r,i),c!=null&&a.push($a(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var C1=/\r\n?/g,T1=/\u0000|\uFFFD/g;function tm(t){return(typeof t=="string"?t:""+t).replace(C1,`
`).replace(T1,"")}function Mo(t,e,r){if(e=tm(e),tm(t)!==e&&r)throw Error(le(425))}function bl(){}var id=null,ad=null;function od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,A1=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,P1=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(t){return rm.resolve(null).then(t).catch(R1)}:ld;function R1(t){setTimeout(function(){throw t})}function du(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),La(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);La(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Fi,Ua="__reactProps$"+Fi,vn="__reactContainer$"+Fi,cd="__reactEvents$"+Fi,O1="__reactListeners$"+Fi,I1="__reactHandles$"+Fi;function ms(t){var e=t[Gr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vn]||r[Gr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nm(t);t!==null;){if(r=t[Gr])return r;t=nm(t)}return e}t=r,r=t.parentNode}return null}function po(t){return t=t[Gr]||t[vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function dc(t){return t[Ua]||null}var ud=[],ai=-1;function ts(t){return{current:t}}function Je(t){0>ai||(t.current=ud[ai],ud[ai]=null,ai--)}function Ke(t,e){ai++,ud[ai]=t.current,t.current=e}var Qn={},It=ts(Qn),Jt=ts(!1),Ns=Qn;function Ni(t,e){var r=t.type.contextTypes;if(!r)return Qn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(t){return t=t.childContextTypes,t!=null}function _l(){Je(Jt),Je(It)}function sm(t,e,r){if(It.current!==Qn)throw Error(le(168));Ke(It,e),Ke(Jt,r)}function a0(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(le(108,vw(t)||"Unknown",s));return st({},r,n)}function kl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qn,Ns=It.current,Ke(It,t),Ke(Jt,Jt.current),!0}function im(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=a0(t,e,Ns),n.__reactInternalMemoizedMergedChildContext=t,Je(Jt),Je(It),Ke(It,t)):Je(Jt),Ke(Jt,r)}var fn=null,fc=!1,fu=!1;function o0(t){fn===null?fn=[t]:fn.push(t)}function L1(t){fc=!0,o0(t)}function rs(){if(!fu&&fn!==null){fu=!0;var t=0,e=Ve;try{var r=fn;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}fn=null,fc=!1}catch(s){throw fn!==null&&(fn=fn.slice(t+1)),Rg(ff,rs),s}finally{Ve=e,fu=!1}}return null}var oi=[],li=0,jl=null,Nl=0,vr=[],xr=0,Ss=null,mn=1,pn="";function cs(t,e){oi[li++]=Nl,oi[li++]=jl,jl=t,Nl=e}function l0(t,e,r){vr[xr++]=mn,vr[xr++]=pn,vr[xr++]=Ss,Ss=t;var n=mn;t=pn;var s=32-Or(n)-1;n&=~(1<<s),r+=1;var i=32-Or(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,mn=1<<32-Or(e)+s|r<<s|n,pn=i+t}else mn=1<<i|r<<s|n,pn=t}function bf(t){t.return!==null&&(cs(t,1),l0(t,1,0))}function _f(t){for(;t===jl;)jl=oi[--li],oi[li]=null,Nl=oi[--li],oi[li]=null;for(;t===Ss;)Ss=vr[--xr],vr[xr]=null,pn=vr[--xr],vr[xr]=null,mn=vr[--xr],vr[xr]=null}var ar=null,ir=null,Xe=!1,Ar=null;function c0(t,e){var r=wr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function am(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,ir=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,ir=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ss!==null?{id:mn,overflow:pn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=wr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ar=t,ir=null,!0):!1;default:return!1}}function dd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fd(t){if(Xe){var e=ir;if(e){var r=e;if(!am(t,e)){if(dd(t))throw Error(le(418));e=Bn(r.nextSibling);var n=ar;e&&am(t,e)?c0(n,r):(t.flags=t.flags&-4097|2,Xe=!1,ar=t)}}else{if(dd(t))throw Error(le(418));t.flags=t.flags&-4097|2,Xe=!1,ar=t}}}function om(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function Fo(t){if(t!==ar)return!1;if(!Xe)return om(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!od(t.type,t.memoizedProps)),e&&(e=ir)){if(dd(t))throw u0(),Error(le(418));for(;e;)c0(t,e),e=Bn(e.nextSibling)}if(om(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ir=Bn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ir=null}}else ir=ar?Bn(t.stateNode.nextSibling):null;return!0}function u0(){for(var t=ir;t;)t=Bn(t.nextSibling)}function Si(){ir=ar=null,Xe=!1}function kf(t){Ar===null?Ar=[t]:Ar.push(t)}var D1=kn.ReactCurrentBatchConfig;function ra(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function $o(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lm(t){var e=t._init;return e(t._payload)}function d0(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function r(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=qn(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,x,k){return y===null||y.tag!==6?(y=xu(x,g.mode,k),y.return=g,y):(y=s(y,x),y.return=g,y)}function c(g,y,x,k){var _=x.type;return _===ti?u(g,y,x.props.children,k,x.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Tn&&lm(_)===y.type)?(k=s(y,x.props),k.ref=ra(g,y,x),k.return=g,k):(k=al(x.type,x.key,x.props,null,g.mode,k),k.ref=ra(g,y,x),k.return=g,k)}function f(g,y,x,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=wu(x,g.mode,k),y.return=g,y):(y=s(y,x.children||[]),y.return=g,y)}function u(g,y,x,k,_){return y===null||y.tag!==7?(y=bs(x,g.mode,k,_),y.return=g,y):(y=s(y,x),y.return=g,y)}function d(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xu(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Co:return x=al(y.type,y.key,y.props,null,g.mode,x),x.ref=ra(g,null,y),x.return=g,x;case ei:return y=wu(y,g.mode,x),y.return=g,y;case Tn:var k=y._init;return d(g,k(y._payload),x)}if(fa(y)||Yi(y))return y=bs(y,g.mode,x,null),y.return=g,y;$o(g,y)}return null}function h(g,y,x,k){var _=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:return x.key===_?c(g,y,x,k):null;case ei:return x.key===_?f(g,y,x,k):null;case Tn:return _=x._init,h(g,y,_(x._payload),k)}if(fa(x)||Yi(x))return _!==null?null:u(g,y,x,k,null);$o(g,x)}return null}function m(g,y,x,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(x)||null,o(y,g,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Co:return g=g.get(k.key===null?x:k.key)||null,c(y,g,k,_);case ei:return g=g.get(k.key===null?x:k.key)||null,f(y,g,k,_);case Tn:var S=k._init;return m(g,y,x,S(k._payload),_)}if(fa(k)||Yi(k))return g=g.get(x)||null,u(y,g,k,_,null);$o(y,k)}return null}function p(g,y,x,k){for(var _=null,S=null,O=y,b=y=0,N=null;O!==null&&b<x.length;b++){O.index>b?(N=O,O=null):N=O.sibling;var C=h(g,O,x[b],k);if(C===null){O===null&&(O=N);break}t&&O&&C.alternate===null&&e(g,O),y=i(C,y,b),S===null?_=C:S.sibling=C,S=C,O=N}if(b===x.length)return r(g,O),Xe&&cs(g,b),_;if(O===null){for(;b<x.length;b++)O=d(g,x[b],k),O!==null&&(y=i(O,y,b),S===null?_=O:S.sibling=O,S=O);return Xe&&cs(g,b),_}for(O=n(g,O);b<x.length;b++)N=m(O,g,b,x[b],k),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?b:N.key),y=i(N,y,b),S===null?_=N:S.sibling=N,S=N);return t&&O.forEach(function(T){return e(g,T)}),Xe&&cs(g,b),_}function v(g,y,x,k){var _=Yi(x);if(typeof _!="function")throw Error(le(150));if(x=_.call(x),x==null)throw Error(le(151));for(var S=_=null,O=y,b=y=0,N=null,C=x.next();O!==null&&!C.done;b++,C=x.next()){O.index>b?(N=O,O=null):N=O.sibling;var T=h(g,O,C.value,k);if(T===null){O===null&&(O=N);break}t&&O&&T.alternate===null&&e(g,O),y=i(T,y,b),S===null?_=T:S.sibling=T,S=T,O=N}if(C.done)return r(g,O),Xe&&cs(g,b),_;if(O===null){for(;!C.done;b++,C=x.next())C=d(g,C.value,k),C!==null&&(y=i(C,y,b),S===null?_=C:S.sibling=C,S=C);return Xe&&cs(g,b),_}for(O=n(g,O);!C.done;b++,C=x.next())C=m(O,g,b,C.value,k),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?b:C.key),y=i(C,y,b),S===null?_=C:S.sibling=C,S=C);return t&&O.forEach(function(R){return e(g,R)}),Xe&&cs(g,b),_}function w(g,y,x,k){if(typeof x=="object"&&x!==null&&x.type===ti&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:e:{for(var _=x.key,S=y;S!==null;){if(S.key===_){if(_=x.type,_===ti){if(S.tag===7){r(g,S.sibling),y=s(S,x.props.children),y.return=g,g=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Tn&&lm(_)===S.type){r(g,S.sibling),y=s(S,x.props),y.ref=ra(g,S,x),y.return=g,g=y;break e}r(g,S);break}else e(g,S);S=S.sibling}x.type===ti?(y=bs(x.props.children,g.mode,k,x.key),y.return=g,g=y):(k=al(x.type,x.key,x.props,null,g.mode,k),k.ref=ra(g,y,x),k.return=g,g=k)}return a(g);case ei:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(g,y.sibling),y=s(y,x.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else e(g,y);y=y.sibling}y=wu(x,g.mode,k),y.return=g,g=y}return a(g);case Tn:return S=x._init,w(g,y,S(x._payload),k)}if(fa(x))return p(g,y,x,k);if(Yi(x))return v(g,y,x,k);$o(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,x),y.return=g,g=y):(r(g,y),y=xu(x,g.mode,k),y.return=g,g=y),a(g)):r(g,y)}return w}var Ei=d0(!0),f0=d0(!1),Sl=ts(null),El=null,ci=null,jf=null;function Nf(){jf=ci=El=null}function Sf(t){var e=Sl.current;Je(Sl),t._currentValue=e}function hd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vi(t,e){El=t,jf=ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(jf!==t)if(t={context:t,memoizedValue:e,next:null},ci===null){if(El===null)throw Error(le(308));ci=t,El.dependencies={lanes:0,firstContext:t}}else ci=ci.next=t;return e}var ps=null;function Ef(t){ps===null?ps=[t]:ps.push(t)}function h0(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Ef(e)):(r.next=s.next,s.next=r),e.interleaved=r,xn(t,n)}function xn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var An=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,De&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xn(t,r)}return s=n.interleaved,s===null?(e.next=e,Ef(n)):(e.next=s.next,s.next=e),n.interleaved=e,xn(t,r)}function el(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hf(t,r)}}function cm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cl(t,e,r,n){var s=t.updateQueue;An=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,f=c.next;c.next=null,a===null?i=f:a.next=f,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=f:o.next=f,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;a=0,u=f=c=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,v=o;switch(h=e,m=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,d,h):p,h==null)break e;d=st({},d,h);break e;case 2:An=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(f=u=m,c=d):u=u.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=f,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Cs|=a,t.lanes=a,t.memoizedState=d}}function um(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(le(191,s));s.call(n)}}}var go={},Xr=ts(go),za=ts(go),Ba=ts(go);function gs(t){if(t===go)throw Error(le(174));return t}function Tf(t,e){switch(Ke(Ba,e),Ke(za,t),Ke(Xr,go),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gu(e,t)}Je(Xr),Ke(Xr,e)}function Ci(){Je(Xr),Je(za),Je(Ba)}function p0(t){gs(Ba.current);var e=gs(Xr.current),r=Gu(e,t.type);e!==r&&(Ke(za,t),Ke(Xr,r))}function Af(t){za.current===t&&(Je(Xr),Je(za))}var rt=ts(0);function Tl(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hu=[];function Pf(){for(var t=0;t<hu.length;t++)hu[t]._workInProgressVersionPrimary=null;hu.length=0}var tl=kn.ReactCurrentDispatcher,mu=kn.ReactCurrentBatchConfig,Es=0,nt=null,yt=null,_t=null,Al=!1,ka=!1,Va=0,M1=0;function Tt(){throw Error(le(321))}function Rf(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dr(t[r],e[r]))return!1;return!0}function Of(t,e,r,n,s,i){if(Es=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tl.current=t===null||t.memoizedState===null?z1:B1,t=r(n,s),ka){i=0;do{if(ka=!1,Va=0,25<=i)throw Error(le(301));i+=1,_t=yt=null,e.updateQueue=null,tl.current=V1,t=r(n,s)}while(ka)}if(tl.current=Pl,e=yt!==null&&yt.next!==null,Es=0,_t=yt=nt=null,Al=!1,e)throw Error(le(300));return t}function If(){var t=Va!==0;return Va=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?nt.memoizedState=_t=t:_t=_t.next=t,_t}function kr(){if(yt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=_t===null?nt.memoizedState:_t.next;if(e!==null)_t=e,yt=t;else{if(t===null)throw Error(le(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},_t===null?nt.memoizedState=_t=t:_t=_t.next=t}return _t}function Wa(t,e){return typeof e=="function"?e(t):e}function pu(t){var e=kr(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=yt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,f=i;do{var u=f.lane;if((Es&u)===u)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:t(n,f.action);else{var d={lane:u,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(o=c=d,a=n):c=c.next=d,nt.lanes|=u,Cs|=u}f=f.next}while(f!==null&&f!==i);c===null?a=n:c.next=o,Dr(n,e.memoizedState)||(Yt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,Cs|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function gu(t){var e=kr(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Dr(i,e.memoizedState)||(Yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function g0(){}function y0(t,e){var r=nt,n=kr(),s=e(),i=!Dr(n.memoizedState,s);if(i&&(n.memoizedState=s,Yt=!0),n=n.queue,Lf(w0.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,Ha(9,x0.bind(null,r,n,s,e),void 0,null),kt===null)throw Error(le(349));Es&30||v0(r,e,s)}return s}function v0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function x0(t,e,r,n){e.value=r,e.getSnapshot=n,b0(e)&&_0(t)}function w0(t,e,r){return r(function(){b0(e)&&_0(t)})}function b0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dr(t,r)}catch{return!0}}function _0(t){var e=xn(t,1);e!==null&&Ir(e,t,1,-1)}function dm(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},e.queue=t,t=t.dispatch=U1.bind(null,nt,t),[e.memoizedState,t]}function Ha(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function k0(){return kr().memoizedState}function rl(t,e,r,n){var s=Wr();nt.flags|=t,s.memoizedState=Ha(1|e,r,void 0,n===void 0?null:n)}function hc(t,e,r,n){var s=kr();n=n===void 0?null:n;var i=void 0;if(yt!==null){var a=yt.memoizedState;if(i=a.destroy,n!==null&&Rf(n,a.deps)){s.memoizedState=Ha(e,r,i,n);return}}nt.flags|=t,s.memoizedState=Ha(1|e,r,i,n)}function fm(t,e){return rl(8390656,8,t,e)}function Lf(t,e){return hc(2048,8,t,e)}function j0(t,e){return hc(4,2,t,e)}function N0(t,e){return hc(4,4,t,e)}function S0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E0(t,e,r){return r=r!=null?r.concat([t]):null,hc(4,4,S0.bind(null,e,t),r)}function Df(){}function C0(t,e){var r=kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rf(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function T0(t,e){var r=kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Rf(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function A0(t,e,r){return Es&21?(Dr(r,e)||(r=Lg(),nt.lanes|=r,Cs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=r)}function F1(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=mu.transition;mu.transition={};try{t(!1),e()}finally{Ve=r,mu.transition=n}}function P0(){return kr().memoizedState}function $1(t,e,r){var n=Hn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},R0(t))O0(e,r);else if(r=h0(t,e,r,n),r!==null){var s=zt();Ir(r,t,n,s),I0(r,e,n)}}function U1(t,e,r){var n=Hn(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(R0(t))O0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Dr(o,a)){var c=e.interleaved;c===null?(s.next=s,Ef(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=h0(t,e,s,n),r!==null&&(s=zt(),Ir(r,t,n,s),I0(r,e,n))}}function R0(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function O0(t,e){ka=Al=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function I0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hf(t,r)}}var Pl={readContext:_r,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},z1={readContext:_r,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:fm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,rl(4194308,4,S0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return rl(4,2,t,e)},useMemo:function(t,e){var r=Wr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Wr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$1.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:dm,useDebugValue:Df,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=dm(!1),e=t[0];return t=F1.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nt,s=Wr();if(Xe){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),kt===null)throw Error(le(349));Es&30||v0(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,fm(w0.bind(null,n,i,t),[t]),n.flags|=2048,Ha(9,x0.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Wr(),e=kt.identifierPrefix;if(Xe){var r=pn,n=mn;r=(n&~(1<<32-Or(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Va++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=M1++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B1={readContext:_r,useCallback:C0,useContext:_r,useEffect:Lf,useImperativeHandle:E0,useInsertionEffect:j0,useLayoutEffect:N0,useMemo:T0,useReducer:pu,useRef:k0,useState:function(){return pu(Wa)},useDebugValue:Df,useDeferredValue:function(t){var e=kr();return A0(e,yt.memoizedState,t)},useTransition:function(){var t=pu(Wa)[0],e=kr().memoizedState;return[t,e]},useMutableSource:g0,useSyncExternalStore:y0,useId:P0,unstable_isNewReconciler:!1},V1={readContext:_r,useCallback:C0,useContext:_r,useEffect:Lf,useImperativeHandle:E0,useInsertionEffect:j0,useLayoutEffect:N0,useMemo:T0,useReducer:gu,useRef:k0,useState:function(){return gu(Wa)},useDebugValue:Df,useDeferredValue:function(t){var e=kr();return yt===null?e.memoizedState=t:A0(e,yt.memoizedState,t)},useTransition:function(){var t=gu(Wa)[0],e=kr().memoizedState;return[t,e]},useMutableSource:g0,useSyncExternalStore:y0,useId:P0,unstable_isNewReconciler:!1};function Er(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function md(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:st({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var mc={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zt(),s=Hn(t),i=gn(n,s);i.payload=e,r!=null&&(i.callback=r),e=Vn(t,i,s),e!==null&&(Ir(e,t,s,n),el(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zt(),s=Hn(t),i=gn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Vn(t,i,s),e!==null&&(Ir(e,t,s,n),el(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zt(),n=Hn(t),s=gn(r,n);s.tag=2,e!=null&&(s.callback=e),e=Vn(t,s,n),e!==null&&(Ir(e,t,n,r),el(e,t,n))}};function hm(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ma(r,n)||!Ma(s,i):!0}function L0(t,e,r){var n=!1,s=Qn,i=e.contextType;return typeof i=="object"&&i!==null?i=_r(i):(s=Xt(e)?Ns:It.current,n=e.contextTypes,i=(n=n!=null)?Ni(t,s):Qn),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&mc.enqueueReplaceState(e,e.state,null)}function pd(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Cf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=_r(i):(i=Xt(e)?Ns:It.current,s.context=Ni(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(md(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&mc.enqueueReplaceState(s,s.state,null),Cl(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,e){try{var r="",n=e;do r+=yw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yu(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function gd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var W1=typeof WeakMap=="function"?WeakMap:Map;function D0(t,e,r){r=gn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ol||(Ol=!0,Sd=n),gd(t,e)},r}function M0(t,e,r){r=gn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){gd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){gd(t,e),typeof n!="function"&&(Wn===null?Wn=new Set([this]):Wn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function pm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new W1;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=sb.bind(null,t,e,r),e.then(t,t))}function gm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ym(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gn(-1,1),e.tag=2,Vn(r,e,1))),r.lanes|=1),t)}var H1=kn.ReactCurrentOwner,Yt=!1;function $t(t,e,r,n){e.child=t===null?f0(e,null,r,n):Ei(e,t.child,r,n)}function vm(t,e,r,n,s){r=r.render;var i=e.ref;return vi(e,s),n=Of(t,e,r,n,i,s),r=If(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wn(t,e,s)):(Xe&&r&&bf(e),e.flags|=1,$t(t,e,n,s),e.child)}function xm(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Wf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,F0(t,e,i,n,s)):(t=al(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ma,r(a,n)&&t.ref===e.ref)return wn(t,e,s)}return e.flags|=1,t=qn(i,n),t.ref=e.ref,t.return=e,e.child=t}function F0(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ma(i,n)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,wn(t,e,s)}return yd(t,e,r,n,s)}function $0(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(di,sr),sr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(di,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ke(di,sr),sr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ke(di,sr),sr|=n;return $t(t,e,s,r),e.child}function U0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yd(t,e,r,n,s){var i=Xt(r)?Ns:It.current;return i=Ni(e,i),vi(e,s),r=Of(t,e,r,n,i,s),n=If(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,wn(t,e,s)):(Xe&&n&&bf(e),e.flags|=1,$t(t,e,r,s),e.child)}function wm(t,e,r,n,s){if(Xt(r)){var i=!0;kl(e)}else i=!1;if(vi(e,s),e.stateNode===null)nl(t,e),L0(e,r,n),pd(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,f=r.contextType;typeof f=="object"&&f!==null?f=_r(f):(f=Xt(r)?Ns:It.current,f=Ni(e,f));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==f)&&mm(e,a,n,f),An=!1;var h=e.memoizedState;a.state=h,Cl(e,n,a,s),c=e.memoizedState,o!==n||h!==c||Jt.current||An?(typeof u=="function"&&(md(e,r,u,n),c=e.memoizedState),(o=An||hm(e,r,o,n,h,c,f))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=f,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,m0(t,e),o=e.memoizedProps,f=e.type===e.elementType?o:Er(e.type,o),a.props=f,d=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Xt(r)?Ns:It.current,c=Ni(e,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==c)&&mm(e,a,n,c),An=!1,h=e.memoizedState,a.state=h,Cl(e,n,a,s);var p=e.memoizedState;o!==d||h!==p||Jt.current||An?(typeof m=="function"&&(md(e,r,m,n),p=e.memoizedState),(f=An||hm(e,r,f,n,h,p,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=c,n=f):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return vd(t,e,r,n,i,s)}function vd(t,e,r,n,s,i){U0(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&im(e,r,!1),wn(t,e,i);n=e.stateNode,H1.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ei(e,t.child,null,i),e.child=Ei(e,null,o,i)):$t(t,e,o,i),e.memoizedState=n.state,s&&im(e,r,!0),e.child}function z0(t){var e=t.stateNode;e.pendingContext?sm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sm(t,e.context,!1),Tf(t,e.containerInfo)}function bm(t,e,r,n,s){return Si(),kf(s),e.flags|=256,$t(t,e,r,n),e.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function wd(t){return{baseLanes:t,cachePool:null,transitions:null}}function B0(t,e,r){var n=e.pendingProps,s=rt.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ke(rt,s&1),t===null)return fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=yc(a,n,0,null),t=bs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wd(r),e.memoizedState=xd,t):Mf(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return q1(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=qn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=qn(o,i):(i=bs(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?wd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=xd,n}return i=t.child,t=i.sibling,n=qn(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Mf(t,e){return e=yc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uo(t,e,r,n){return n!==null&&kf(n),Ei(e,t.child,null,r),t=Mf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q1(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=yu(Error(le(422))),Uo(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=yc({mode:"visible",children:n.children},s,0,null),i=bs(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Ei(e,t.child,null,a),e.child.memoizedState=wd(a),e.memoizedState=xd,i);if(!(e.mode&1))return Uo(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(le(419)),n=yu(i,n,void 0),Uo(t,e,a,n)}if(o=(a&t.childLanes)!==0,Yt||o){if(n=kt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(t,s),Ir(n,t,s,-1))}return Vf(),n=yu(Error(le(421))),Uo(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ib.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ir=Bn(s.nextSibling),ar=e,Xe=!0,Ar=null,t!==null&&(vr[xr++]=mn,vr[xr++]=pn,vr[xr++]=Ss,mn=t.id,pn=t.overflow,Ss=e),e=Mf(e,n.children),e.flags|=4096,e)}function _m(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),hd(t.return,e,r)}function vu(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function V0(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if($t(t,e,n.children,r),n=rt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_m(t,r,e);else if(t.tag===19)_m(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ke(rt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Tl(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),vu(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Tl(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}vu(e,!0,r,null,i);break;case"together":vu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=qn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function G1(t,e,r){switch(e.tag){case 3:z0(e),Si();break;case 5:p0(e);break;case 1:Xt(e.type)&&kl(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ke(Sl,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):r&e.child.childLanes?B0(t,e,r):(Ke(rt,rt.current&1),t=wn(t,e,r),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return V0(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ke(rt,rt.current),n)break;return null;case 22:case 23:return e.lanes=0,$0(t,e,r)}return wn(t,e,r)}var W0,bd,H0,q0;W0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bd=function(){};H0=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,gs(Xr.current);var i=null;switch(r){case"input":s=Vu(t,s),n=Vu(t,n),i=[];break;case"select":s=st({},s,{value:void 0}),n=st({},n,{value:void 0}),i=[];break;case"textarea":s=qu(t,s),n=qu(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=bl)}Zu(r,n);var a;r=null;for(f in s)if(!n.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var o=s[f];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Aa.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in n){var c=n[f];if(o=s!=null?s[f]:void 0,n.hasOwnProperty(f)&&c!==o&&(c!=null||o!=null))if(f==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(f,r)),r=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Ye("scroll",t),i||o===c||(i=[])):(i=i||[]).push(f,c))}r&&(i=i||[]).push("style",r);var f=i;(e.updateQueue=f)&&(e.flags|=4)}};q0=function(t,e,r,n){r!==n&&(e.flags|=4)};function na(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Z1(t,e,r){var n=e.pendingProps;switch(_f(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Xt(e.type)&&_l(),At(e),null;case 3:return n=e.stateNode,Ci(),Je(Jt),Je(It),Pf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Fo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Td(Ar),Ar=null))),bd(t,e),At(e),null;case 5:Af(e);var s=gs(Ba.current);if(r=e.type,t!==null&&e.stateNode!=null)H0(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return At(e),null}if(t=gs(Xr.current),Fo(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Gr]=e,n[Ua]=i,t=(e.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<ma.length;s++)Ye(ma[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ph(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":Oh(n,i),Ye("invalid",n)}Zu(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Mo(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Mo(n.textContent,o,t),s=["children",""+o]):Aa.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ye("scroll",n)}switch(r){case"input":To(n),Rh(n,i,!0);break;case"textarea":To(n),Ih(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bl)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wg(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Gr]=e,t[Ua]=n,W0(t,e,!1,!1),e.stateNode=t;e:{switch(a=Qu(r,n),r){case"dialog":Ye("cancel",t),Ye("close",t),s=n;break;case"iframe":case"object":case"embed":Ye("load",t),s=n;break;case"video":case"audio":for(s=0;s<ma.length;s++)Ye(ma[s],t);s=n;break;case"source":Ye("error",t),s=n;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=n;break;case"details":Ye("toggle",t),s=n;break;case"input":Ph(t,n),s=Vu(t,n),Ye("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=st({},n,{value:void 0}),Ye("invalid",t);break;case"textarea":Oh(t,n),s=qu(t,n),Ye("invalid",t);break;default:s=n}Zu(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?kg(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bg(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pa(t,c):typeof c=="number"&&Pa(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Aa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",t):c!=null&&of(t,i,c,a))}switch(r){case"input":To(t),Rh(t,n,!1);break;case"textarea":To(t),Ih(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zn(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?mi(t,!!n.multiple,i,!1):n.defaultValue!=null&&mi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)q0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=gs(Ba.current),gs(Xr.current),Fo(e)){if(n=e.stateNode,r=e.memoizedProps,n[Gr]=e,(i=n.nodeValue!==r)&&(t=ar,t!==null))switch(t.tag){case 3:Mo(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mo(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gr]=e,e.stateNode=n}return At(e),null;case 13:if(Je(rt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&ir!==null&&e.mode&1&&!(e.flags&128))u0(),Si(),e.flags|=98560,i=!1;else if(i=Fo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(le(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[Gr]=e}else Si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),i=!1}else Ar!==null&&(Td(Ar),Ar=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?vt===0&&(vt=3):Vf())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return Ci(),bd(t,e),t===null&&Fa(e.stateNode.containerInfo),At(e),null;case 10:return Sf(e.type._context),At(e),null;case 17:return Xt(e.type)&&_l(),At(e),null;case 19:if(Je(rt),i=e.memoizedState,i===null)return At(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)na(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Tl(t),a!==null){for(e.flags|=128,na(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Ai&&(e.flags|=128,n=!0,na(i,!1),e.lanes=4194304)}else{if(!n)if(t=Tl(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Xe)return At(e),null}else 2*lt()-i.renderingStartTime>Ai&&r!==1073741824&&(e.flags|=128,n=!0,na(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,r=rt.current,Ke(rt,n?r&1|2:r&1),e):(At(e),null);case 22:case 23:return Bf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sr&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function Q1(t,e){switch(_f(e),e.tag){case 1:return Xt(e.type)&&_l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ci(),Je(Jt),Je(It),Pf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Af(e),null;case 13:if(Je(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(rt),null;case 4:return Ci(),null;case 10:return Sf(e.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var zo=!1,Pt=!1,K1=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ui(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){at(t,e,n)}else r.current=null}function _d(t,e,r){try{r()}catch(n){at(t,e,n)}}var km=!1;function Y1(t,e){if(id=vl,t=Yg(),wf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,f=0,u=0,d=t,h=null;t:for(;;){for(var m;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===t)break t;if(h===r&&++f===s&&(o=a),h===i&&++u===n&&(c=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ad={focusedElem:t,selectionRange:r},vl=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,w=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Er(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(k){at(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return p=km,km=!1,p}function ja(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_d(e,r,i)}s=s.next}while(s!==n)}}function pc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function kd(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function G0(t){var e=t.alternate;e!==null&&(t.alternate=null,G0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gr],delete e[Ua],delete e[cd],delete e[O1],delete e[I1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Z0(t){return t.tag===5||t.tag===3||t.tag===4}function jm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=bl));else if(n!==4&&(t=t.child,t!==null))for(jd(t,e,r),t=t.sibling;t!==null;)jd(t,e,r),t=t.sibling}function Nd(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nd(t,e,r),t=t.sibling;t!==null;)Nd(t,e,r),t=t.sibling}var Nt=null,Cr=!1;function Nn(t,e,r){for(r=r.child;r!==null;)Q0(t,e,r),r=r.sibling}function Q0(t,e,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(oc,r)}catch{}switch(r.tag){case 5:Pt||ui(r,e);case 6:var n=Nt,s=Cr;Nt=null,Nn(t,e,r),Nt=n,Cr=s,Nt!==null&&(Cr?(t=Nt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Cr?(t=Nt,r=r.stateNode,t.nodeType===8?du(t.parentNode,r):t.nodeType===1&&du(t,r),La(t)):du(Nt,r.stateNode));break;case 4:n=Nt,s=Cr,Nt=r.stateNode.containerInfo,Cr=!0,Nn(t,e,r),Nt=n,Cr=s;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&_d(r,e,a),s=s.next}while(s!==n)}Nn(t,e,r);break;case 1:if(!Pt&&(ui(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){at(r,e,o)}Nn(t,e,r);break;case 21:Nn(t,e,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Nn(t,e,r),Pt=n):Nn(t,e,r);break;default:Nn(t,e,r)}}function Nm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new K1),e.forEach(function(n){var s=ab.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Nr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Nt=o.stateNode,Cr=!1;break e;case 3:Nt=o.stateNode.containerInfo,Cr=!0;break e;case 4:Nt=o.stateNode.containerInfo,Cr=!0;break e}o=o.return}if(Nt===null)throw Error(le(160));Q0(i,a,s),Nt=null,Cr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(f){at(s,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K0(e,t),e=e.sibling}function K0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nr(e,t),zr(t),n&4){try{ja(3,t,t.return),pc(3,t)}catch(v){at(t,t.return,v)}try{ja(5,t,t.return)}catch(v){at(t,t.return,v)}}break;case 1:Nr(e,t),zr(t),n&512&&r!==null&&ui(r,r.return);break;case 5:if(Nr(e,t),zr(t),n&512&&r!==null&&ui(r,r.return),t.flags&32){var s=t.stateNode;try{Pa(s,"")}catch(v){at(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&vg(s,i),Qu(o,a);var f=Qu(o,i);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];u==="style"?kg(s,d):u==="dangerouslySetInnerHTML"?bg(s,d):u==="children"?Pa(s,d):of(s,u,d,f)}switch(o){case"input":Wu(s,i);break;case"textarea":xg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?mi(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?mi(s,!!i.multiple,i.defaultValue,!0):mi(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ua]=i}catch(v){at(t,t.return,v)}}break;case 6:if(Nr(e,t),zr(t),n&4){if(t.stateNode===null)throw Error(le(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){at(t,t.return,v)}}break;case 3:if(Nr(e,t),zr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(v){at(t,t.return,v)}break;case 4:Nr(e,t),zr(t);break;case 13:Nr(e,t),zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uf=lt())),n&4&&Nm(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Pt=(f=Pt)||u,Nr(e,t),Pt=f):Nr(e,t),zr(t),n&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!u&&t.mode&1)for(ge=t,u=t.child;u!==null;){for(d=ge=u;ge!==null;){switch(h=ge,m=h.child,h.tag){case 0:case 11:case 14:case 15:ja(4,h,h.return);break;case 1:ui(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){at(n,r,v)}}break;case 5:ui(h,h.return);break;case 22:if(h.memoizedState!==null){Em(d);continue}}m!==null?(m.return=h,ge=m):Em(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,f?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=_g("display",a))}catch(v){at(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){at(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nr(e,t),zr(t),n&4&&Nm(t);break;case 21:break;default:Nr(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Z0(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Pa(s,""),n.flags&=-33);var i=jm(t);Nd(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=jm(t);jd(t,o,a);break;default:throw Error(le(161))}}catch(c){at(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function J1(t,e,r){ge=t,Y0(t)}function Y0(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||zo;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Pt;o=zo;var f=Pt;if(zo=a,(Pt=c)&&!f)for(ge=s;ge!==null;)a=ge,c=a.child,a.tag===22&&a.memoizedState!==null?Cm(s):c!==null?(c.return=a,ge=c):Cm(s);for(;i!==null;)ge=i,Y0(i),i=i.sibling;ge=s,zo=o,Pt=f}Sm(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):Sm(t)}}function Sm(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||pc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Er(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&um(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}um(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var u=f.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&La(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Pt||e.flags&512&&kd(e)}catch(h){at(e,e.return,h)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Em(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Cm(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{pc(4,e)}catch(c){at(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){at(e,s,c)}}var i=e.return;try{kd(e)}catch(c){at(e,i,c)}break;case 5:var a=e.return;try{kd(e)}catch(c){at(e,a,c)}}}catch(c){at(e,e.return,c)}if(e===t){ge=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ge=o;break}ge=e.return}}var X1=Math.ceil,Rl=kn.ReactCurrentDispatcher,Ff=kn.ReactCurrentOwner,br=kn.ReactCurrentBatchConfig,De=0,kt=null,mt=null,St=0,sr=0,di=ts(0),vt=0,qa=null,Cs=0,gc=0,$f=0,Na=null,Zt=null,Uf=0,Ai=1/0,un=null,Ol=!1,Sd=null,Wn=null,Bo=!1,Mn=null,Il=0,Sa=0,Ed=null,sl=-1,il=0;function zt(){return De&6?lt():sl!==-1?sl:sl=lt()}function Hn(t){return t.mode&1?De&2&&St!==0?St&-St:D1.transition!==null?(il===0&&(il=Lg()),il):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:Bg(t.type)),t):1}function Ir(t,e,r,n){if(50<Sa)throw Sa=0,Ed=null,Error(le(185));ho(t,r,n),(!(De&2)||t!==kt)&&(t===kt&&(!(De&2)&&(gc|=r),vt===4&&On(t,St)),er(t,n),r===1&&De===0&&!(e.mode&1)&&(Ai=lt()+500,fc&&rs()))}function er(t,e){var r=t.callbackNode;Dw(t,e);var n=yl(t,t===kt?St:0);if(n===0)r!==null&&Mh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Mh(r),e===1)t.tag===0?L1(Tm.bind(null,t)):o0(Tm.bind(null,t)),P1(function(){!(De&6)&&rs()}),r=null;else{switch(Dg(n)){case 1:r=ff;break;case 4:r=Og;break;case 16:r=gl;break;case 536870912:r=Ig;break;default:r=gl}r=iy(r,J0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function J0(t,e){if(sl=-1,il=0,De&6)throw Error(le(327));var r=t.callbackNode;if(xi()&&t.callbackNode!==r)return null;var n=yl(t,t===kt?St:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ll(t,n);else{e=n;var s=De;De|=2;var i=ey();(kt!==t||St!==e)&&(un=null,Ai=lt()+500,ws(t,e));do try{rb();break}catch(o){X0(t,o)}while(!0);Nf(),Rl.current=i,De=s,mt!==null?e=0:(kt=null,St=0,e=vt)}if(e!==0){if(e===2&&(s=ed(t),s!==0&&(n=s,e=Cd(t,s))),e===1)throw r=qa,ws(t,0),On(t,n),er(t,lt()),r;if(e===6)On(t,n);else{if(s=t.current.alternate,!(n&30)&&!eb(s)&&(e=Ll(t,n),e===2&&(i=ed(t),i!==0&&(n=i,e=Cd(t,i))),e===1))throw r=qa,ws(t,0),On(t,n),er(t,lt()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:us(t,Zt,un);break;case 3:if(On(t,n),(n&130023424)===n&&(e=Uf+500-lt(),10<e)){if(yl(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ld(us.bind(null,t,Zt,un),e);break}us(t,Zt,un);break;case 4:if(On(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Or(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*X1(n/1960))-n,10<n){t.timeoutHandle=ld(us.bind(null,t,Zt,un),n);break}us(t,Zt,un);break;case 5:us(t,Zt,un);break;default:throw Error(le(329))}}}return er(t,lt()),t.callbackNode===r?J0.bind(null,t):null}function Cd(t,e){var r=Na;return t.current.memoizedState.isDehydrated&&(ws(t,e).flags|=256),t=Ll(t,e),t!==2&&(e=Zt,Zt=r,e!==null&&Td(e)),t}function Td(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function eb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Dr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function On(t,e){for(e&=~$f,e&=~gc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Or(e),n=1<<r;t[r]=-1,e&=~n}}function Tm(t){if(De&6)throw Error(le(327));xi();var e=yl(t,0);if(!(e&1))return er(t,lt()),null;var r=Ll(t,e);if(t.tag!==0&&r===2){var n=ed(t);n!==0&&(e=n,r=Cd(t,n))}if(r===1)throw r=qa,ws(t,0),On(t,e),er(t,lt()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,us(t,Zt,un),er(t,lt()),null}function zf(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(Ai=lt()+500,fc&&rs())}}function Ts(t){Mn!==null&&Mn.tag===0&&!(De&6)&&xi();var e=De;De|=1;var r=br.transition,n=Ve;try{if(br.transition=null,Ve=1,t)return t()}finally{Ve=n,br.transition=r,De=e,!(De&6)&&rs()}}function Bf(){sr=di.current,Je(di)}function ws(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,A1(r)),mt!==null)for(r=mt.return;r!==null;){var n=r;switch(_f(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_l();break;case 3:Ci(),Je(Jt),Je(It),Pf();break;case 5:Af(n);break;case 4:Ci();break;case 13:Je(rt);break;case 19:Je(rt);break;case 10:Sf(n.type._context);break;case 22:case 23:Bf()}r=r.return}if(kt=t,mt=t=qn(t.current,null),St=sr=e,vt=0,qa=null,$f=gc=Cs=0,Zt=Na=null,ps!==null){for(e=0;e<ps.length;e++)if(r=ps[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}ps=null}return t}function X0(t,e){do{var r=mt;try{if(Nf(),tl.current=Pl,Al){for(var n=nt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Al=!1}if(Es=0,_t=yt=nt=null,ka=!1,Va=0,Ff.current=null,r===null||r.return===null){vt=1,qa=e,mt=null;break}e:{var i=t,a=r.return,o=r,c=e;if(e=St,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=gm(a);if(m!==null){m.flags&=-257,ym(m,a,o,i,e),m.mode&1&&pm(i,f,e),e=m,c=f;var p=e.updateQueue;if(p===null){var v=new Set;v.add(c),e.updateQueue=v}else p.add(c);break e}else{if(!(e&1)){pm(i,f,e),Vf();break e}c=Error(le(426))}}else if(Xe&&o.mode&1){var w=gm(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ym(w,a,o,i,e),kf(Ti(c,o));break e}}i=c=Ti(c,o),vt!==4&&(vt=2),Na===null?Na=[i]:Na.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=D0(i,c,e);cm(i,g);break e;case 1:o=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Wn===null||!Wn.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=M0(i,o,e);cm(i,k);break e}}i=i.return}while(i!==null)}ry(r)}catch(_){e=_,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(!0)}function ey(){var t=Rl.current;return Rl.current=Pl,t===null?Pl:t}function Vf(){(vt===0||vt===3||vt===2)&&(vt=4),kt===null||!(Cs&268435455)&&!(gc&268435455)||On(kt,St)}function Ll(t,e){var r=De;De|=2;var n=ey();(kt!==t||St!==e)&&(un=null,ws(t,e));do try{tb();break}catch(s){X0(t,s)}while(!0);if(Nf(),De=r,Rl.current=n,mt!==null)throw Error(le(261));return kt=null,St=0,vt}function tb(){for(;mt!==null;)ty(mt)}function rb(){for(;mt!==null&&!Ew();)ty(mt)}function ty(t){var e=sy(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?ry(t):mt=e,Ff.current=null}function ry(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Q1(r,e),r!==null){r.flags&=32767,mt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,mt=null;return}}else if(r=Z1(r,e,sr),r!==null){mt=r;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);vt===0&&(vt=5)}function us(t,e,r){var n=Ve,s=br.transition;try{br.transition=null,Ve=1,nb(t,e,r,n)}finally{br.transition=s,Ve=n}return null}function nb(t,e,r,n){do xi();while(Mn!==null);if(De&6)throw Error(le(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Mw(t,i),t===kt&&(mt=kt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bo||(Bo=!0,iy(gl,function(){return xi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=br.transition,br.transition=null;var a=Ve;Ve=1;var o=De;De|=4,Ff.current=null,Y1(t,r),K0(r,t),k1(ad),vl=!!id,ad=id=null,t.current=r,J1(r),Cw(),De=o,Ve=a,br.transition=i}else t.current=r;if(Bo&&(Bo=!1,Mn=t,Il=s),i=t.pendingLanes,i===0&&(Wn=null),Pw(r.stateNode),er(t,lt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ol)throw Ol=!1,t=Sd,Sd=null,t;return Il&1&&t.tag!==0&&xi(),i=t.pendingLanes,i&1?t===Ed?Sa++:(Sa=0,Ed=t):Sa=0,rs(),null}function xi(){if(Mn!==null){var t=Dg(Il),e=br.transition,r=Ve;try{if(br.transition=null,Ve=16>t?16:t,Mn===null)var n=!1;else{if(t=Mn,Mn=null,Il=0,De&6)throw Error(le(331));var s=De;for(De|=4,ge=t.current;ge!==null;){var i=ge,a=i.child;if(ge.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var f=o[c];for(ge=f;ge!==null;){var u=ge;switch(u.tag){case 0:case 11:case 15:ja(8,u,i)}var d=u.child;if(d!==null)d.return=u,ge=d;else for(;ge!==null;){u=ge;var h=u.sibling,m=u.return;if(G0(u),u===f){ge=null;break}if(h!==null){h.return=m,ge=h;break}ge=m}}}var p=i.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,ge=a;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ja(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ge=g;break e}ge=i.return}}var y=t.current;for(ge=y;ge!==null;){a=ge;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ge=x;else e:for(a=y;ge!==null;){if(o=ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:pc(9,o)}}catch(_){at(o,o.return,_)}if(o===a){ge=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,ge=k;break e}ge=o.return}}if(De=s,rs(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(oc,t)}catch{}n=!0}return n}finally{Ve=r,br.transition=e}}return!1}function Am(t,e,r){e=Ti(r,e),e=D0(t,e,1),t=Vn(t,e,1),e=zt(),t!==null&&(ho(t,1,e),er(t,e))}function at(t,e,r){if(t.tag===3)Am(t,t,r);else for(;e!==null;){if(e.tag===3){Am(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wn===null||!Wn.has(n))){t=Ti(r,t),t=M0(e,t,1),e=Vn(e,t,1),t=zt(),e!==null&&(ho(e,1,t),er(e,t));break}}e=e.return}}function sb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&r,kt===t&&(St&r)===r&&(vt===4||vt===3&&(St&130023424)===St&&500>lt()-Uf?ws(t,0):$f|=r),er(t,e)}function ny(t,e){e===0&&(t.mode&1?(e=Ro,Ro<<=1,!(Ro&130023424)&&(Ro=4194304)):e=1);var r=zt();t=xn(t,e),t!==null&&(ho(t,e,r),er(t,r))}function ib(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ny(t,r)}function ab(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),ny(t,r)}var sy;sy=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Yt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Yt=!1,G1(t,e,r);Yt=!!(t.flags&131072)}else Yt=!1,Xe&&e.flags&1048576&&l0(e,Nl,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;nl(t,e),t=e.pendingProps;var s=Ni(e,It.current);vi(e,r),s=Of(null,e,n,t,s,r);var i=If();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(n)?(i=!0,kl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cf(e),s.updater=mc,e.stateNode=s,s._reactInternals=e,pd(e,n,t,r),e=vd(null,e,n,!0,i,r)):(e.tag=0,Xe&&i&&bf(e),$t(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(nl(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=lb(n),t=Er(n,t),s){case 0:e=yd(null,e,n,t,r);break e;case 1:e=wm(null,e,n,t,r);break e;case 11:e=vm(null,e,n,t,r);break e;case 14:e=xm(null,e,n,Er(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Er(n,s),yd(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Er(n,s),wm(t,e,n,s,r);case 3:e:{if(z0(e),t===null)throw Error(le(387));n=e.pendingProps,i=e.memoizedState,s=i.element,m0(t,e),Cl(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ti(Error(le(423)),e),e=bm(t,e,n,r,s);break e}else if(n!==s){s=Ti(Error(le(424)),e),e=bm(t,e,n,r,s);break e}else for(ir=Bn(e.stateNode.containerInfo.firstChild),ar=e,Xe=!0,Ar=null,r=f0(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Si(),n===s){e=wn(t,e,r);break e}$t(t,e,n,r)}e=e.child}return e;case 5:return p0(e),t===null&&fd(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,od(n,s)?a=null:i!==null&&od(n,i)&&(e.flags|=32),U0(t,e),$t(t,e,a,r),e.child;case 6:return t===null&&fd(e),null;case 13:return B0(t,e,r);case 4:return Tf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ei(e,null,n,r):$t(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Er(n,s),vm(t,e,n,s,r);case 7:return $t(t,e,e.pendingProps,r),e.child;case 8:return $t(t,e,e.pendingProps.children,r),e.child;case 12:return $t(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Ke(Sl,n._currentValue),n._currentValue=a,i!==null)if(Dr(i.value,a)){if(i.children===s.children&&!Jt.current){e=wn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=gn(-1,r&-r),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var u=f.pending;u===null?c.next=c:(c.next=u.next,u.next=c),f.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),hd(i.return,r,e),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(le(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),hd(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}$t(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,vi(e,r),s=_r(s),n=n(s),e.flags|=1,$t(t,e,n,r),e.child;case 14:return n=e.type,s=Er(n,e.pendingProps),s=Er(n.type,s),xm(t,e,n,s,r);case 15:return F0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Er(n,s),nl(t,e),e.tag=1,Xt(n)?(t=!0,kl(e)):t=!1,vi(e,r),L0(e,n,s),pd(e,n,s,r),vd(null,e,n,!0,t,r);case 19:return V0(t,e,r);case 22:return $0(t,e,r)}throw Error(le(156,e.tag))};function iy(t,e){return Rg(t,e)}function ob(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(t,e,r,n){return new ob(t,e,r,n)}function Wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lb(t){if(typeof t=="function")return Wf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cf)return 11;if(t===uf)return 14}return 2}function qn(t,e){var r=t.alternate;return r===null?(r=wr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function al(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")Wf(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ti:return bs(r.children,s,i,e);case lf:a=8,s|=8;break;case $u:return t=wr(12,r,e,s|2),t.elementType=$u,t.lanes=i,t;case Uu:return t=wr(13,r,e,s),t.elementType=Uu,t.lanes=i,t;case zu:return t=wr(19,r,e,s),t.elementType=zu,t.lanes=i,t;case pg:return yc(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hg:a=10;break e;case mg:a=9;break e;case cf:a=11;break e;case uf:a=14;break e;case Tn:a=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=wr(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function bs(t,e,r,n){return t=wr(7,t,n,e),t.lanes=r,t}function yc(t,e,r,n){return t=wr(22,t,n,e),t.elementType=pg,t.lanes=r,t.stateNode={isHidden:!1},t}function xu(t,e,r){return t=wr(6,t,null,e),t.lanes=r,t}function wu(t,e,r){return e=wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cb(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hf(t,e,r,n,s,i,a,o,c){return t=new cb(t,e,r,o,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(i),t}function ub(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ei,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ay(t){if(!t)return Qn;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(Xt(r))return a0(t,r,e)}return e}function oy(t,e,r,n,s,i,a,o,c){return t=Hf(r,n,!0,t,s,i,a,o,c),t.context=ay(null),r=t.current,n=zt(),s=Hn(r),i=gn(n,s),i.callback=e??null,Vn(r,i,s),t.current.lanes=s,ho(t,s,n),er(t,n),t}function vc(t,e,r,n){var s=e.current,i=zt(),a=Hn(s);return r=ay(r),e.context===null?e.context=r:e.pendingContext=r,e=gn(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vn(s,e,a),t!==null&&(Ir(t,s,a,i),el(t,s,a)),a}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function qf(t,e){Pm(t,e),(t=t.alternate)&&Pm(t,e)}function db(){return null}var ly=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gf(t){this._internalRoot=t}xc.prototype.render=Gf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));vc(t,e,null,null)};xc.prototype.unmount=Gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ts(function(){vc(null,t,null,null)}),e[vn]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=$g();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rn.length&&e!==0&&e<Rn[r].priority;r++);Rn.splice(r,0,t),r===0&&zg(t)}};function Zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function fb(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var f=Dl(a);i.call(f)}}var a=oy(e,n,t,0,null,!1,!1,"",Rm);return t._reactRootContainer=a,t[vn]=a.current,Fa(t.nodeType===8?t.parentNode:t),Ts(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var f=Dl(c);o.call(f)}}var c=Hf(t,0,!1,null,null,!1,!1,"",Rm);return t._reactRootContainer=c,t[vn]=c.current,Fa(t.nodeType===8?t.parentNode:t),Ts(function(){vc(e,c,r,n)}),c}function bc(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Dl(a);o.call(c)}}vc(e,a,t,s)}else a=fb(r,e,t,s,n);return Dl(a)}Mg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ha(e.pendingLanes);r!==0&&(hf(e,r|1),er(e,lt()),!(De&6)&&(Ai=lt()+500,rs()))}break;case 13:Ts(function(){var n=xn(t,1);if(n!==null){var s=zt();Ir(n,t,1,s)}}),qf(t,1)}};mf=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var r=zt();Ir(e,t,134217728,r)}qf(t,134217728)}};Fg=function(t){if(t.tag===13){var e=Hn(t),r=xn(t,e);if(r!==null){var n=zt();Ir(r,t,e,n)}qf(t,e)}};$g=function(){return Ve};Ug=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};Yu=function(t,e,r){switch(e){case"input":if(Wu(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=dc(n);if(!s)throw Error(le(90));yg(n),Wu(n,s)}}}break;case"textarea":xg(t,r);break;case"select":e=r.value,e!=null&&mi(t,!!r.multiple,e,!1)}};Sg=zf;Eg=Ts;var hb={usingClientEntryPoint:!1,Events:[po,ii,dc,jg,Ng,zf]},sa={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mb={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ag(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{oc=Vo.inject(mb),Jr=Vo}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hb;ur.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(e))throw Error(le(200));return ub(t,e,null,r)};ur.createRoot=function(t,e){if(!Zf(t))throw Error(le(299));var r=!1,n="",s=ly;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Hf(t,1,!1,null,null,r,!1,n,s),t[vn]=e.current,Fa(t.nodeType===8?t.parentNode:t),new Gf(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=Ag(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return Ts(t)};ur.hydrate=function(t,e,r){if(!wc(e))throw Error(le(200));return bc(null,t,e,!0,r)};ur.hydrateRoot=function(t,e,r){if(!Zf(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ly;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=oy(e,null,t,1,r??null,s,!1,i,a),t[vn]=e.current,Fa(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new xc(e)};ur.render=function(t,e,r){if(!wc(e))throw Error(le(200));return bc(null,t,e,!1,r)};ur.unmountComponentAtNode=function(t){if(!wc(t))throw Error(le(40));return t._reactRootContainer?(Ts(function(){bc(null,null,t,!1,function(){t._reactRootContainer=null,t[vn]=null})}),!0):!1};ur.unstable_batchedUpdates=zf;ur.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!wc(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return bc(t,e,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function cy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cy)}catch(t){console.error(t)}}cy(),cg.exports=ur;var pb=cg.exports,uy,Om=pb;uy=Om.createRoot,Om.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ga.apply(this,arguments)}var Fn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fn||(Fn={}));const Im="popstate";function gb(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:a,hash:o}=n.location;return Ad("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ml(s)}return vb(e,r,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yb(){return Math.random().toString(36).substr(2,8)}function Lm(t,e){return{usr:t.state,key:t.key,idx:e}}function Ad(t,e,r,n){return r===void 0&&(r=null),Ga({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$i(e):e,{state:r,key:e&&e.key||n||yb()})}function Ml(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $i(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vb(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Fn.Pop,c=null,f=u();f==null&&(f=0,a.replaceState(Ga({},a.state,{idx:f}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Fn.Pop;let w=u(),g=w==null?null:w-f;f=w,c&&c({action:o,location:v.location,delta:g})}function h(w,g){o=Fn.Push;let y=Ad(v.location,w,g);f=u()+1;let x=Lm(y,f),k=v.createHref(y);try{a.pushState(x,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(k)}i&&c&&c({action:o,location:v.location,delta:1})}function m(w,g){o=Fn.Replace;let y=Ad(v.location,w,g);f=u();let x=Lm(y,f),k=v.createHref(y);a.replaceState(x,"",k),i&&c&&c({action:o,location:v.location,delta:0})}function p(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Ml(w);return y=y.replace(/ $/,"%20"),ct(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return o},get location(){return t(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Im,d),c=w,()=>{s.removeEventListener(Im,d),c=null}},createHref(w){return e(s,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(w){return a.go(w)}};return v}var Dm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dm||(Dm={}));function xb(t,e,r){return r===void 0&&(r="/"),wb(t,e,r,!1)}function wb(t,e,r,n){let s=typeof e=="string"?$i(e):e,i=Qf(s.pathname||"/",r);if(i==null)return null;let a=fy(t);bb(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let f=Rb(i);o=Ab(a[c],f,n)}return o}function fy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(ct(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let f=Gn([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),fy(i.children,e,u,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:Cb(f,i.index),routesMeta:u})};return t.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of hy(i.path))s(i,a,c)}),e}function hy(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=hy(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function bb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Tb(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _b=/^:[\w-]+$/,kb=3,jb=2,Nb=1,Sb=10,Eb=-2,Mm=t=>t==="*";function Cb(t,e){let r=t.split("/"),n=r.length;return r.some(Mm)&&(n+=Eb),e&&(n+=jb),r.filter(s=>!Mm(s)).reduce((s,i)=>s+(_b.test(i)?kb:i===""?Nb:Sb),n)}function Tb(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Ab(t,e,r){let{routesMeta:n}=t,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],f=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},u),h=c.route;if(!d&&f&&r&&!n[n.length-1].route.index&&(d=Fm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:Gn([i,d.pathname]),pathnameBase:Db(Gn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Gn([i,d.pathnameBase]))}return a}function Fm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Pb(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((f,u,d)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let v=o[d]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[d];return m&&!p?f[h]=void 0:f[h]=(p||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:a,pattern:t}}function Pb(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),dy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Rb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Ob(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?$i(t):t;return{pathname:r?r.startsWith("/")?r:Ib(r,e):e,search:Mb(n),hash:Fb(s)}}function Ib(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function bu(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lb(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Kf(t,e){let r=Lb(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Yf(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=$i(t):(s=Ga({},t),ct(!s.pathname||!s.pathname.includes("?"),bu("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),bu("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),bu("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}o=d>=0?e[d]:"/"}let c=Ob(s,o),f=a&&a!=="/"&&a.endsWith("/"),u=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(f||u)&&(c.pathname+="/"),c}const Gn=t=>t.join("/").replace(/\/\/+/g,"/"),Db=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $b(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const my=["post","put","patch","delete"];new Set(my);const Ub=["get",...my];new Set(Ub);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Za.apply(this,arguments)}const Jf=V.createContext(null),zb=V.createContext(null),ns=V.createContext(null),_c=V.createContext(null),ss=V.createContext({outlet:null,matches:[],isDataRoute:!1}),py=V.createContext(null);function Bb(t,e){let{relative:r}=e===void 0?{}:e;Ui()||ct(!1);let{basename:n,navigator:s}=V.useContext(ns),{hash:i,pathname:a,search:o}=yy(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Gn([n,a])),s.createHref({pathname:c,search:o,hash:i})}function Ui(){return V.useContext(_c)!=null}function is(){return Ui()||ct(!1),V.useContext(_c).location}function gy(t){V.useContext(ns).static||V.useLayoutEffect(t)}function kc(){let{isDataRoute:t}=V.useContext(ss);return t?t_():Vb()}function Vb(){Ui()||ct(!1);let t=V.useContext(Jf),{basename:e,future:r,navigator:n}=V.useContext(ns),{matches:s}=V.useContext(ss),{pathname:i}=is(),a=JSON.stringify(Kf(s,r.v7_relativeSplatPath)),o=V.useRef(!1);return gy(()=>{o.current=!0}),V.useCallback(function(f,u){if(u===void 0&&(u={}),!o.current)return;if(typeof f=="number"){n.go(f);return}let d=Yf(f,JSON.parse(a),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gn([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,i,t])}function yy(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=V.useContext(ns),{matches:s}=V.useContext(ss),{pathname:i}=is(),a=JSON.stringify(Kf(s,n.v7_relativeSplatPath));return V.useMemo(()=>Yf(t,JSON.parse(a),i,r==="path"),[t,a,i,r])}function Wb(t,e){return Hb(t,e)}function Hb(t,e,r,n){Ui()||ct(!1);let{navigator:s,static:i}=V.useContext(ns),{matches:a}=V.useContext(ss),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let f=o?o.pathnameBase:"/";o&&o.route;let u=is(),d;if(e){var h;let g=typeof e=="string"?$i(e):e;f==="/"||(h=g.pathname)!=null&&h.startsWith(f)||ct(!1),d=g}else d=u;let m=d.pathname||"/",p=m;if(f!=="/"){let g=f.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=!i&&r&&r.matches&&r.matches.length>0?r.matches:xb(t,{pathname:p}),w=Kb(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Gn([f,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?f:Gn([f,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r,n);return e&&w?V.createElement(_c.Provider,{value:{location:Za({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fn.Pop}},w):w}function qb(){let t=e_(),e=$b(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),r?V.createElement("pre",{style:s},r):null,null)}const Gb=V.createElement(qb,null);class Zb extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?V.createElement(ss.Provider,{value:this.props.routeContext},V.createElement(py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qb(t){let{routeContext:e,match:r,children:n}=t,s=V.useContext(Jf);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(ss.Provider,{value:e},n)}function Kb(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(s=r)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||ct(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,f=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=u),d.route.id){let{loaderData:h,errors:m}=r,p=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||p){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((u,d,h)=>{let m,p=!1,v=null,w=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||Gb,c&&(f<0&&h===0?(p=!0,w=null):f===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,h+1)),y=()=>{let x;return m?x=v:p?x=w:d.route.Component?x=V.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,V.createElement(Qb,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?V.createElement(Zb,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var vy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vy||{}),Fl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fl||{});function Yb(t){let e=V.useContext(Jf);return e||ct(!1),e}function Jb(t){let e=V.useContext(zb);return e||ct(!1),e}function Xb(t){let e=V.useContext(ss);return e||ct(!1),e}function xy(t){let e=Xb(),r=e.matches[e.matches.length-1];return r.route.id||ct(!1),r.route.id}function e_(){var t;let e=V.useContext(py),r=Jb(Fl.UseRouteError),n=xy(Fl.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function t_(){let{router:t}=Yb(vy.UseNavigateStable),e=xy(Fl.UseNavigateStable),r=V.useRef(!1);return gy(()=>{r.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Za({fromRouteId:e},i)))},[t,e])}function r_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Pd(t){let{to:e,replace:r,state:n,relative:s}=t;Ui()||ct(!1);let{future:i,static:a}=V.useContext(ns),{matches:o}=V.useContext(ss),{pathname:c}=is(),f=kc(),u=Yf(e,Kf(o,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(u);return V.useEffect(()=>f(JSON.parse(d),{replace:r,state:n,relative:s}),[f,d,s,r,n]),null}function gr(t){ct(!1)}function n_(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Fn.Pop,navigator:i,static:a=!1,future:o}=t;Ui()&&ct(!1);let c=e.replace(/^\/*/,"/"),f=V.useMemo(()=>({basename:c,navigator:i,static:a,future:Za({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof n=="string"&&(n=$i(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,v=V.useMemo(()=>{let w=Qf(u,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:p},navigationType:s}},[c,u,d,h,m,p,s]);return v==null?null:V.createElement(ns.Provider,{value:f},V.createElement(_c.Provider,{children:r,value:v}))}function s_(t){let{children:e,location:r}=t;return Wb(Rd(e),r)}new Promise(()=>{});function Rd(t,e){e===void 0&&(e=[]);let r=[];return V.Children.forEach(t,(n,s)=>{if(!V.isValidElement(n))return;let i=[...e,s];if(n.type===V.Fragment){r.push.apply(r,Rd(n.props.children,i));return}n.type!==gr&&ct(!1),!n.props.index||!n.props.children||ct(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Rd(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}function i_(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function a_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o_(t,e){return t.button===0&&(!e||e==="_self")&&!a_(t)}const l_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c_="6";try{window.__reactRouterVersion=c_}catch{}const u_="startTransition",$m=sw[u_];function d_(t){let{basename:e,children:r,future:n,window:s}=t,i=V.useRef();i.current==null&&(i.current=gb({window:s,v5Compat:!0}));let a=i.current,[o,c]=V.useState({action:a.action,location:a.location}),{v7_startTransition:f}=n||{},u=V.useCallback(d=>{f&&$m?$m(()=>c(d)):c(d)},[c,f]);return V.useLayoutEffect(()=>a.listen(u),[a,u]),V.useEffect(()=>r_(n),[n]),V.createElement(n_,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const f_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,os=V.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:c,to:f,preventScrollReset:u,viewTransition:d}=e,h=i_(e,l_),{basename:m}=V.useContext(ns),p,v=!1;if(typeof f=="string"&&h_.test(f)&&(p=f,f_))try{let x=new URL(window.location.href),k=f.startsWith("//")?new URL(x.protocol+f):new URL(f),_=Qf(k.pathname,m);k.origin===x.origin&&_!=null?f=_+k.search+k.hash:v=!0}catch{}let w=Bb(f,{relative:s}),g=m_(f,{replace:a,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:d});function y(x){n&&n(x),x.defaultPrevented||g(x)}return V.createElement("a",Od({},h,{href:p||w,onClick:v||i?n:y,ref:r,target:c}))});var Um;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Um||(Um={}));var zm;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zm||(zm={}));function m_(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=e===void 0?{}:e,c=kc(),f=is(),u=yy(t,{relative:a});return V.useCallback(d=>{if(o_(d,r)){d.preventDefault();let h=n!==void 0?n:Ml(f)===Ml(u);c(t,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[f,c,u,n,s,r,t,i,a,o])}const wy=V.createContext(void 0);function by({children:t}){const[e,r]=V.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("theme");if(s)return s}return typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});V.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e),localStorage.setItem("theme",e)},[e]);const n=()=>{r(s=>s==="light"?"dark":"light")};return l.jsx(wy.Provider,{value:{theme:e,toggleTheme:n},children:t})}function p_(){const t=V.useContext(wy);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const g_="modulepreload",y_=function(t){return"/"+t},Bm={},Pi=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=y_(c),c in Bm)return;Bm[c]=!0;const f=c.endsWith(".css"),u=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":g_,f||(d.as="script"),d.crossOrigin="",d.href=c,o&&d.setAttribute("nonce",o),document.head.appendChild(d),f)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},v_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Pi(async()=>{const{default:n}=await Promise.resolve().then(()=>zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Xf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class x_ extends Xf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class w_ extends Xf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class b_ extends Xf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Id;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Id||(Id={}));var __=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};class k_{constructor(e,{headers:r={},customFetch:n,region:s=Id.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=v_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return __(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(o["x-region"]=c);let f;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(o["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(o["Content-Type"]="application/json",f=JSON.stringify(a)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:f}).catch(p=>{throw new x_(p)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new w_(u);if(!u.ok)throw new b_(u);let h=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield u.json():h==="application/octet-stream"?m=yield u.blob():h==="text/event-stream"?m=u:h==="multipart/form-data"?m=yield u.formData():m=yield u.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Qt={},eh={},jc={},yo={},Nc={},Sc={},j_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ri=j_();const N_=Ri.fetch,_y=Ri.fetch.bind(Ri),ky=Ri.Headers,S_=Ri.Request,E_=Ri.Response,zi=Object.freeze(Object.defineProperty({__proto__:null,Headers:ky,Request:S_,Response:E_,default:_y,fetch:N_},Symbol.toStringTag,{value:"Module"})),C_=Bx(zi);var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});let T_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ec.default=T_;var jy=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sc,"__esModule",{value:!0});const A_=jy(C_),P_=jy(Ec);let R_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=A_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let f=null,u=null,d=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(f={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await i.text();try{f=JSON.parse(v),Array.isArray(f)&&i.status===404&&(u=[],f=null,h=200,m="OK")}catch{i.status===404&&v===""?(h=204,m="No Content"):f={message:v}}if(f&&this.isMaybeSingle&&(!((c=f==null?void 0:f.details)===null||c===void 0)&&c.includes("0 rows"))&&(f=null,h=200,m="OK"),f&&this.shouldThrowOnError)throw new P_.default(f)}return{error:f,data:u,count:d,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}};Sc.default=R_;var O_=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nc,"__esModule",{value:!0});const I_=O_(Sc);let L_=class extends I_.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),f=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${f}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Nc.default=L_;var D_=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yo,"__esModule",{value:!0});const M_=D_(Nc);let F_=class extends M_.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};yo.default=F_;var $_=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jc,"__esModule",{value:!0});const ia=$_(yo);let U_=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new ia.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new ia.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((f,u)=>f.concat(Object.keys(u)),[]);if(c.length>0){const f=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",f.join(","))}}return new ia.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new ia.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ia.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jc.default=U_;var Cc={},Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.version=void 0;Tc.version="0.0.0-automated";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.DEFAULT_HEADERS=void 0;const z_=Tc;Cc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${z_.version}`};var Ny=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eh,"__esModule",{value:!0});const B_=Ny(jc),V_=Ny(yo),W_=Cc;let H_=class Sy{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},W_.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new B_.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Sy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{o.searchParams.append(u,d)})):(a="POST",c=r);const f=Object.assign({},this.headers);return i&&(f.Prefer=`count=${i}`),new V_.default({method:a,url:o,headers:f,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};eh.default=H_;var Bi=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.PostgrestError=Qt.PostgrestBuilder=Qt.PostgrestTransformBuilder=Qt.PostgrestFilterBuilder=Qt.PostgrestQueryBuilder=Qt.PostgrestClient=void 0;const Ey=Bi(eh);Qt.PostgrestClient=Ey.default;const Cy=Bi(jc);Qt.PostgrestQueryBuilder=Cy.default;const Ty=Bi(yo);Qt.PostgrestFilterBuilder=Ty.default;const Ay=Bi(Nc);Qt.PostgrestTransformBuilder=Ay.default;const Py=Bi(Sc);Qt.PostgrestBuilder=Py.default;const Ry=Bi(Ec);Qt.PostgrestError=Ry.default;var q_=Qt.default={PostgrestClient:Ey.default,PostgrestQueryBuilder:Cy.default,PostgrestFilterBuilder:Ty.default,PostgrestTransformBuilder:Ay.default,PostgrestBuilder:Py.default,PostgrestError:Ry.default};const{PostgrestClient:G_,PostgrestQueryBuilder:dC,PostgrestFilterBuilder:fC,PostgrestTransformBuilder:hC,PostgrestBuilder:mC,PostgrestError:pC}=q_,Z_="2.11.2",Q_={"X-Client-Info":`realtime-js/${Z_}`},K_="1.0.0",Oy=1e4,Y_=1e3;var wi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(wi||(wi={}));var rr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(rr||(rr={}));var Tr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Tr||(Tr={}));var Ld;(function(t){t.websocket="websocket"})(Ld||(Ld={}));var hs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hs||(hs={}));class J_{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const c=n.decode(e.slice(a,a+i));a=a+i;const f=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:f}}}class Iy{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const Vm=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=X_(a,t,e,s),i),{})},X_=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,a=r[t];return i&&!n.includes(i)?Ly(i,a):Dd(a)},Ly=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nk(e,r)}switch(t){case Qe.bool:return ek(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return tk(e);case Qe.json:case Qe.jsonb:return rk(e);case Qe.timestamp:return sk(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Dd(e);default:return Dd(e)}},Dd=t=>t,ek=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nk=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const a=t.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Ly(e,o))}return t},sk=t=>typeof t=="string"?t.replace(" ","T"):t,Dy=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _u{constructor(e,r,n={},s=Oy){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Wm||(Wm={}));class Ea{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ea.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Ea.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ea.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(i,(f,u)=>{a[f]||(c[f]=u)}),this.map(a,(f,u)=>{const d=i[f];if(d){const h=u.map(w=>w.presence_ref),m=d.map(w=>w.presence_ref),p=u.filter(w=>m.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(o[f]=p),v.length>0&&(c[f]=v)}else o[f]=u}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var f;const u=(f=e[o])!==null&&f!==void 0?f:[];if(e[o]=this.cloneDeep(c),u.length>0){const d=e[o].map(m=>m.presence_ref),h=u.filter(m=>d.indexOf(m.presence_ref)<0);e[o].unshift(...h)}n(o,u,c)}),this.map(a,(o,c)=>{let f=e[o];if(!f)return;const u=c.map(d=>d.presence_ref);f=f.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=f,s(o,f,c),f.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Hm||(Hm={}));var qm;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qm||(qm={}));var dn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));class th{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _u(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new Iy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ea(this),this.broadcastEndpointURL=Dy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(u=>e==null?void 0:e(dn.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(dn.CLOSED));const c={},f={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(dn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,p=[];for(let v=0;v<m;v++){const w=h[v],{filter:{event:g,schema:y,table:x,filter:k}}=w,_=u&&u[v];if(_&&_.event===g&&_.schema===y&&_.table===x&&_.filter===k)p.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),e==null||e(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(dn.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=f.body)===null||s===void 0?void 0:s.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new _u(this,Tr.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _u(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:f,join:u}=Tr;if(n&&[o,c,f,u].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,v,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(v=m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,v,w,g,y,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const k=m.id,_=(p=m.filter)===null||p===void 0?void 0:p.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:v,table:w,commit_timestamp:g,type:y,errors:x}=p;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&th.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tr.close,{},e)}_onError(e){this._on(Tr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Vm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Vm(e.columns,e.old_record)),r}}const ik=()=>{},ak=typeof WebSocket<"u",ok=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lk{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Q_,this.params={},this.timeout=Oy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ik,this.conn=null,this.sendBuffer=[],this.serializer=new J_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Pi(async()=>{const{default:c}=await Promise.resolve().then(()=>zi);return{default:c}},void 0).then(({default:c})=>c(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${Ld.websocket}`,this.httpEndpoint=Dy(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Iy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ak){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ck(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Pi(async()=>{const{default:e}=await import("./browser-Dylxxn9I.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K_}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case wi.connecting:return hs.Connecting;case wi.open:return hs.Open;case wi.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}channel(e,r={config:{}}){const n=new th(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Tr.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Y_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([ok],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ck{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=wi.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class rh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uk extends rh{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Md extends rh{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var dk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const My=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Pi(async()=>{const{default:n}=await Promise.resolve().then(()=>zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},fk=()=>dk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pi(()=>Promise.resolve().then(()=>zi),void 0)).Response:Response}),Fd=t=>{if(Array.isArray(t))return t.map(r=>Fd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Fd(n)}),e};var $s=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const ku=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),hk=(t,e,r)=>$s(void 0,void 0,void 0,function*(){const n=yield fk();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new uk(ku(s),t.status||500))}).catch(s=>{e(new Md(ku(s),s))}):e(new Md(ku(t),t))}),mk=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function vo(t,e,r,n,s,i){return $s(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,mk(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>hk(c,o,n))})})}function $l(t,e,r,n){return $s(this,void 0,void 0,function*(){return vo(t,"GET",e,r,n)})}function Pn(t,e,r,n,s){return $s(this,void 0,void 0,function*(){return vo(t,"POST",e,n,s,r)})}function pk(t,e,r,n,s){return $s(this,void 0,void 0,function*(){return vo(t,"PUT",e,n,s,r)})}function gk(t,e,r,n){return $s(this,void 0,void 0,function*(){return vo(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fy(t,e,r,n,s){return $s(this,void 0,void 0,function*(){return vo(t,"DELETE",e,n,s,r)})}var qt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const yk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vk{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=My(s)}uploadOrUpdate(e,r,n,s){return qt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Gm),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const f=this._removeEmptyFolders(r),u=this._getFinalPath(f),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield d.json();return d.ok?{data:{path:f,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return qt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const f=Object.assign({upsert:Gm.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,u["cache-control"]=`max-age=${f.cacheControl}`,u["content-type"]=f.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:c,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(bt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Pn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new rh("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}update(e,r,n){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return qt(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return qt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Pn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return qt(this,void 0,void 0,function*(){try{const s=yield Pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}download(e,r){return qt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield $l(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(bt(o))return{data:null,error:o};throw o}})}info(e){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield $l(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fd(n),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}exists(e){return qt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield gk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(bt(n)&&n instanceof Md){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${f}`)}}}remove(e){return qt(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}list(e,r,n){return qt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},yk),r),{prefix:e||""});return{data:yield Pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const xk="2.7.1",wk={"X-Client-Info":`storage-js/${xk}`};var Hs=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};class bk{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},wk),r),this.fetch=My(n)}listBuckets(){return Hs(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(bt(e))return{data:null,error:e};throw e}})}getBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield $l(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Hs(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Hs(this,void 0,void 0,function*(){try{return{data:yield pk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Hs(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(bt(r))return{data:null,error:r};throw r}})}}class _k extends bk{constructor(e,r={},n){super(e,r,n)}from(e){return new vk(this.url,this.headers,e,this.fetch)}}const kk="2.48.1";let pa="";typeof Deno<"u"?pa="deno":typeof document<"u"?pa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pa="react-native":pa="node";const jk={"X-Client-Info":`supabase-js-${pa}/${kk}`},Nk={headers:jk},Sk={schema:"public"},Ek={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ck={};var Tk=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};const Ak=t=>{let e;return t?e=t:typeof fetch>"u"?e=_y:e=fetch,(...r)=>e(...r)},Pk=()=>typeof Headers>"u"?ky:Headers,Rk=(t,e,r)=>{const n=Ak(r),s=Pk();return(i,a)=>Tk(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let f=new s(a==null?void 0:a.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:f}))})};var Ok=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};function Ik(t){return t.replace(/\/$/,"")}function Lk(t,e){const{db:r,auth:n,realtime:s,global:i}=t,{db:a,auth:o,realtime:c,global:f}=e,u={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},f),i),accessToken:()=>Ok(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const $y="2.67.3",Dk="http://localhost:9999",Mk="supabase.auth.token",Fk={"X-Client-Info":`gotrue-js/${$y}`},Zm=10,$d="X-Supabase-Api-Version",Uy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function $k(t){return Math.round(Date.now()/1e3)+t}function Uk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vr=()=>typeof window<"u"&&typeof document<"u",ls={tested:!1,writable:!1},Ca=()=>{if(!Vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ls.tested)return ls.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ls.tested=!0,ls.writable=!0}catch{ls.tested=!0,ls.writable=!1}return ls.writable};function zk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const zy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Pi(async()=>{const{default:n}=await Promise.resolve().then(()=>zi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Bk=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",By=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Wo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ho=async(t,e)=>{await t.removeItem(e)};function Vk(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,o,c,f,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)a=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),f=e.indexOf(t.charAt(u++)),n=a<<2|o>>4,s=(o&15)<<4|c>>2,i=(c&3)<<6|f,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),f!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Ac{constructor(){this.promise=new Ac.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ac.promiseConstructor=Promise;function Qm(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=t.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(Vk(n))}async function Wk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hk(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await t(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function qk(t){return("0"+t.toString(16)).substr(-2)}function Gk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,qk).join("")}async function Zk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function Qk(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Zk(t);return Qk(r)}async function qs(t,e,r=!1){const n=Gk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await By(t,`${e}-code-verifier`,s);const i=await Kk(n);return[i,n===i?"plain":"s256"]}const Yk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jk(t){const e=t.headers.get($d);if(!e||!e.match(Yk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class nh extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ae(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xk extends nh{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function e2(t){return Ae(t)&&t.name==="AuthApiError"}class Vy extends nh{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Us extends nh{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class En extends Us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function t2(t){return Ae(t)&&t.name==="AuthSessionMissingError"}class ju extends Us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends Us{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Go extends Us{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function r2(t){return Ae(t)&&t.name==="AuthImplicitGrantRedirectError"}class Km extends Us{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ud extends Us{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Nu(t){return Ae(t)&&t.name==="AuthRetryableFetchError"}class Ym extends Us{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var n2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ds=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),s2=[502,503,504];async function Jm(t){var e;if(!Bk(t))throw new Ud(ds(t),0);if(s2.includes(t.status))throw new Ud(ds(t),t.status);let r;try{r=await t.json()}catch(i){throw new Vy(ds(i),i)}let n;const s=Jk(t);if(s&&s.getTime()>=Uy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ym(ds(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new En}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ym(ds(r),t.status,r.weak_password.reasons);throw new Xk(ds(r),t.status||500,n)}const i2=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ie(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[$d]||(i[$d]=Uy["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await a2(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function a2(t,e,r,n,s,i){const a=i2(e,n,s,i);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new Ud(ds(c),0)}if(o.ok||await Jm(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Jm(c)}}function Cn(t){var e;let r=null;u2(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=$k(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Xm(t){const e=Cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function In(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function o2(t){return{data:t,error:null}}function l2(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,a=n2(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function c2(t){return t}function u2(t){return t.access_token&&t.refresh_token&&t.expires_in}var d2=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class f2{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=zy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:In})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=d2(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:l2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:In})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,a,o,c;try{const f={nextPage:null,lastPage:0,total:0},u=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:c2});if(u.error)throw u.error;const d=await u.json(),h=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const v=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);f[`${w}Page`]=v}),f.total=parseInt(h)),{data:Object.assign(Object.assign({},d),f),error:null}}catch(f){if(Ae(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:In})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:In})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:In})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}const h2={getItem:t=>Ca()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ca()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ca()&&globalThis.localStorage.removeItem(t)}};function ep(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function m2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gs={debug:!!(globalThis&&Ca()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class p2 extends Wy{}async function g2(t,e,r){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new p2(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}m2();const y2={url:Dk,storageKey:Mk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},aa=30*1e3,tp=3;async function rp(t,e,r){return await r()}class Qa{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qa.nextInstanceID,Qa.nextInstanceID+=1,this.instanceID>0&&Vr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},y2),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new f2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zy(s.fetch),this.lock=s.lock||rp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=g2:this.lock=rp,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ca()?this.storage=h2:(this.memoryStorage={},this.storage=ep(this.memoryStorage)):(this.memoryStorage={},this.storage=ep(this.memoryStorage)),Vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$y}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=zk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),r2(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new Vy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cn}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await qs(this.storage,this.storageKey)),i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Cn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cn})}else throw new qo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,f=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:a,options:o}=e;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xm})}else if("phone"in e){const{phone:i,password:a,options:o}=e;r=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xm})}else throw new qo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ju}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await Wo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Cn});if(await Ho(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ju}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Ae(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=e,o=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cn}),{data:c,error:f}=o;return f?{data:{user:null,session:null},error:f}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ju}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:f})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,a;try{if("email"in e){const{email:o,options:c}=e;let f=null,u=null;this.flowType==="pkce"&&([f,u]=await qs(this.storage,this.storageKey));const{error:d}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:c}=e,{data:f,error:u}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:u}}throw new qo("You must provide either an email or phone number.")}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cn});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,f=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:f,session:c},error:null}}catch(s){if(Ae(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await qs(this.storage,this.storageKey)),await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:o2})}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new En;const{error:s}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new qo("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Wo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,f,u)=>(!a&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,f,u))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:In}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:In})})}catch(r){if(Ae(r))return t2(r)&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new En;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await qs(this.storage,this.storageKey));const{data:f,error:u}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:In});if(u)throw u;return a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Qm(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new En;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=Qm(e.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new En;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Vr())throw new Go("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Go(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Km("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Km("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:f}=e;if(!i||!o||!a||!f)throw new Go("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let h=u+d;c&&(h=parseInt(c));const m=h-u;m*1e3<=aa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:a,token_type:f,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Ae(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Wo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(e2(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ho(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Uk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qs(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ae(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,f,u;const{data:d,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(f=d.session)===null||f===void 0?void 0:f.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Vr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ae(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Hk(async s=>(s>0&&await Wk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Nu(i)&&Date.now()+a-n<aa})}catch(n){if(this._debug(r,"error",n),Ae(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Wo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<s+Zm;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zm}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),Nu(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ac;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new En;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Ae(i)){const a={session:null,error:i};return Nu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await By(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ho(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),aa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/aa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${aa}ms, refresh threshold is ${tp} ticks`),s<=tp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await qs(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ie(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:f}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await Ie(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}}Qa.nextInstanceID=0;const v2=Qa;class x2 extends v2{constructor(e){super(e)}}var w2=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(u){try{f(n.next(u))}catch(d){a(d)}}function c(u){try{f(n.throw(u))}catch(d){a(d)}}function f(u){u.done?i(u.value):s(u.value).then(o,c)}f((n=n.apply(t,e||[])).next())})};class b2{constructor(e,r,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=Ik(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,f={db:Sk,realtime:Ck,auth:Object.assign(Object.assign({},Ek),{storageKey:c}),global:Nk},u=Lk(n??{},f);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Rk(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new G_(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new k_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _k(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return w2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},f,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x2({url:this.authUrl,headers:Object.assign(Object.assign({},d),f),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new lk(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _2=(t,e,r)=>new b2(t,e,r),k2="https://htiuxmqpvvwjochqgzuh.supabase.co",j2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh0aXV4bXFwdnZ3am9jaHFnenVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3NTEzNDUsImV4cCI6MjA1NjMyNzM0NX0.DqnrHehOunB8blohZefwJjpqFr05xj8RLPJRIU4hUpM",Te=_2(k2,j2,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"sgvauto-admin-auth"},db:{schema:"public"},global:{headers:{"Cache-Control":"public, max-age=300"}}});Te.auth.onAuthStateChange((t,e)=>{var r;console.log("Supabase auth event:",t,(r=e==null?void 0:e.user)==null?void 0:r.email)});const Hy=V.createContext(void 0);function N2({children:t}){const[e,r]=V.useState(null),[n,s]=V.useState(null),[i,a]=V.useState(!0);V.useEffect(()=>{(async()=>{a(!0);try{const{data:d,error:h}=await Te.auth.getSession();if(h)throw console.error("Error getting session:",h),h;d!=null&&d.session&&(s(d.session),r(d.session.user))}catch(d){console.error("Auth initialization error:",d)}finally{a(!1)}})();const{data:{subscription:u}}=Te.auth.onAuthStateChange((d,h)=>{var m;console.log("Auth state changed:",d,(m=h==null?void 0:h.user)==null?void 0:m.email),s(h),r((h==null?void 0:h.user)??null),a(!1)});return()=>u.unsubscribe()},[]);const o=async(f,u)=>{var d;a(!0);try{const{data:h,error:m}=await Te.auth.signInWithPassword({email:f,password:u});if(m)throw m;s(h.session),r(((d=h.session)==null?void 0:d.user)??null)}finally{a(!1)}},c=async()=>{a(!0);try{const{error:f}=await Te.auth.signOut();if(f)throw f;r(null),s(null)}finally{a(!1)}};return l.jsx(Hy.Provider,{value:{user:e,session:n,loading:i,signIn:o,signOut:c},children:t})}function sh(){const t=V.useContext(Hy);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(t,e)=>{const r=V.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...f},u)=>V.createElement("svg",{ref:u,...S2,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${E2(t)}`,o].join(" "),...f},[...e.map(([d,h])=>V.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=Ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ne("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Ne("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Ne("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Ne("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Ne("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=Ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ne("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ne("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ne("ParkingMeter",[["path",{d:"M9 9a3 3 0 1 1 6 0",key:"jdoeu8"}],["path",{d:"M12 12v3",key:"158kv8"}],["path",{d:"M11 15h2",key:"199qp6"}],["path",{d:"M19 9a7 7 0 1 0-13.6 2.3C6.4 14.4 8 19 8 19h8s1.6-4.6 2.6-7.7c.3-.8.4-1.5.4-2.3",key:"1l50wn"}],["path",{d:"M12 19v3",key:"npa21l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ne("Ship",[["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1 .6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"iegodh"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-9-4-9 4c0 2.9.94 5.34 2.81 7.76",key:"fp8vka"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M12 10v4",key:"1kjpxc"}],["path",{d:"M12 2v3",key:"qbqxhf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ne("Tractor",[["path",{d:"m10 11 11 .9c.6 0 .9.5.8 1.1l-.8 5h-1",key:"2w242w"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h9l1 7.246",key:"d639it"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Jy(){const{theme:t,toggleTheme:e}=p_(),[r,n]=V.useState(!1),s=()=>{const i=document.getElementById("contact");i&&i.scrollIntoView({behavior:"smooth"})};return l.jsx("header",{className:"bg-white dark:bg-gray-900 shadow-md fixed w-full top-0 z-50 transition-colors duration-200",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex items-center justify-between h-20",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("span",{style:{fontFamily:"SutroW01-BoldExtended, sans-serif",fontSize:"24px",letterSpacing:"0.02em",textTransform:"uppercase"},className:"text-gray-900 dark:text-white transition-colors duration-200",children:"SGV auto"})}),l.jsxs("nav",{className:`
            md:flex md:space-x-8
            ${r?"flex":"hidden"}
            fixed md:relative
            inset-x-0 top-20 md:top-0
            bg-white dark:bg-gray-900
            md:bg-transparent
            flex-col md:flex-row
            items-center
            py-4 md:py-0
            space-y-4 md:space-y-0
            border-t md:border-t-0
            border-gray-200 dark:border-gray-700
            shadow-lg md:shadow-none
          `,children:[l.jsx("a",{href:"#services",className:"text-gray-700 dark:text-gray-200 hover:text-red-500 dark:hover:text-red-400 transition-colors",onClick:()=>n(!1),children:"Услуги"}),l.jsx("a",{href:"#reviews",className:"text-gray-700 dark:text-gray-200 hover:text-red-500 dark:hover:text-red-400 transition-colors",onClick:()=>n(!1),children:"Отзывы"}),l.jsx("a",{href:"#faq",className:"text-gray-700 dark:text-gray-200 hover:text-red-500 dark:hover:text-red-400 transition-colors",onClick:()=>n(!1),children:"FAQ"}),l.jsx("a",{href:"#contact",className:"text-gray-700 dark:text-gray-200 hover:text-red-500 dark:hover:text-red-400 transition-colors",onClick:()=>{n(!1),s()},children:"Контакты"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:t==="dark"?l.jsx(Y2,{className:"w-5 h-5"}):l.jsx(H2,{className:"w-5 h-5"})}),l.jsxs("button",{onClick:s,className:"hidden md:flex items-center space-x-2 bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:[l.jsx(ah,{className:"w-5 h-5"}),l.jsx("span",{children:"Связаться с нами"})]}),l.jsx("button",{className:"md:hidden text-gray-700 dark:text-gray-200",onClick:()=>n(!r),children:r?l.jsx(rn,{className:"w-6 h-6"}):l.jsx(W2,{className:"w-6 h-6"})})]})]})})})}function Xy(t,e){return function(){return t.apply(e,arguments)}}const{toString:ej}=Object.prototype,{getPrototypeOf:oh}=Object,Ic=(t=>e=>{const r=ej.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fr=t=>(t=t.toLowerCase(),e=>Ic(e)===t),Lc=t=>e=>typeof e===t,{isArray:Vi}=Array,Ya=Lc("undefined");function tj(t){return t!==null&&!Ya(t)&&t.constructor!==null&&!Ya(t.constructor)&&or(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ev=Fr("ArrayBuffer");function rj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ev(t.buffer),e}const nj=Lc("string"),or=Lc("function"),tv=Lc("number"),Dc=t=>t!==null&&typeof t=="object",sj=t=>t===!0||t===!1,ol=t=>{if(Ic(t)!=="object")return!1;const e=oh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ij=Fr("Date"),aj=Fr("File"),oj=Fr("Blob"),lj=Fr("FileList"),cj=t=>Dc(t)&&or(t.pipe),uj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||or(t.append)&&((e=Ic(t))==="formdata"||e==="object"&&or(t.toString)&&t.toString()==="[object FormData]"))},dj=Fr("URLSearchParams"),[fj,hj,mj,pj]=["ReadableStream","Request","Response","Headers"].map(Fr),gj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wo(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Vi(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(n=0;n<a;n++)o=i[n],e.call(null,t[o],o,t)}}function rv(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nv=t=>!Ya(t)&&t!==ys;function zd(){const{caseless:t}=nv(this)&&this||{},e={},r=(n,s)=>{const i=t&&rv(e,s)||s;ol(e[i])&&ol(n)?e[i]=zd(e[i],n):ol(n)?e[i]=zd({},n):Vi(n)?e[i]=n.slice():e[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&wo(arguments[n],r);return e}const yj=(t,e,r,{allOwnKeys:n}={})=>(wo(e,(s,i)=>{r&&or(s)?t[i]=Xy(s,r):t[i]=s},{allOwnKeys:n}),t),vj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xj=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},wj=(t,e,r,n)=>{let s,i,a;const o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&oh(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},bj=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},_j=t=>{if(!t)return null;if(Vi(t))return t;let e=t.length;if(!tv(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kj=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&oh(Uint8Array)),jj=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Nj=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Sj=Fr("HTMLFormElement"),Ej=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),ip=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Cj=Fr("RegExp"),sv=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};wo(r,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(n[i]=a||s)}),Object.defineProperties(t,n)},Tj=t=>{sv(t,(e,r)=>{if(or(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(or(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Aj=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Vi(t)?n(t):n(String(t).split(e)),r},Pj=()=>{},Rj=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Su="abcdefghijklmnopqrstuvwxyz",ap="0123456789",iv={DIGIT:ap,ALPHA:Su,ALPHA_DIGIT:Su+Su.toUpperCase()+ap},Oj=(t=16,e=iv.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Ij(t){return!!(t&&or(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Lj=t=>{const e=new Array(10),r=(n,s)=>{if(Dc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const i=Vi(n)?[]:{};return wo(n,(a,o)=>{const c=r(a,s+1);!Ya(c)&&(i[o]=c)}),e[s]=void 0,i}}return n};return r(t,0)},Dj=Fr("AsyncFunction"),Mj=t=>t&&(Dc(t)||or(t))&&or(t.then)&&or(t.catch),av=((t,e)=>t?setImmediate:e?((r,n)=>(ys.addEventListener("message",({source:s,data:i})=>{s===ys&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),ys.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",or(ys.postMessage)),Fj=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||av,Y={isArray:Vi,isArrayBuffer:ev,isBuffer:tj,isFormData:uj,isArrayBufferView:rj,isString:nj,isNumber:tv,isBoolean:sj,isObject:Dc,isPlainObject:ol,isReadableStream:fj,isRequest:hj,isResponse:mj,isHeaders:pj,isUndefined:Ya,isDate:ij,isFile:aj,isBlob:oj,isRegExp:Cj,isFunction:or,isStream:cj,isURLSearchParams:dj,isTypedArray:kj,isFileList:lj,forEach:wo,merge:zd,extend:yj,trim:gj,stripBOM:vj,inherits:xj,toFlatObject:wj,kindOf:Ic,kindOfTest:Fr,endsWith:bj,toArray:_j,forEachEntry:jj,matchAll:Nj,isHTMLForm:Sj,hasOwnProperty:ip,hasOwnProp:ip,reduceDescriptors:sv,freezeMethods:Tj,toObjectSet:Aj,toCamelCase:Ej,noop:Pj,toFiniteNumber:Rj,findKey:rv,global:ys,isContextDefined:nv,ALPHABET:iv,generateString:Oj,isSpecCompliantForm:Ij,toJSONObject:Lj,isAsyncFn:Dj,isThenable:Mj,setImmediate:av,asap:Fj};function Ee(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const ov=Ee.prototype,lv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lv[t]={value:t}});Object.defineProperties(Ee,lv);Object.defineProperty(ov,"isAxiosError",{value:!0});Ee.from=(t,e,r,n,s,i)=>{const a=Object.create(ov);return Y.toFlatObject(t,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Ee.call(a,t.message,e,r,n,s),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const $j=null;function Bd(t){return Y.isPlainObject(t)||Y.isArray(t)}function cv(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}function op(t,e,r){return t?t.concat(e).map(function(s,i){return s=cv(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Uj(t){return Y.isArray(t)&&!t.some(Bd)}const zj=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Mc(t,e,r){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!Y.isUndefined(w[v])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(Y.isDate(p))return p.toISOString();if(!c&&Y.isBlob(p))throw new Ee("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(p)||Y.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,v,w){let g=p;if(p&&!w&&typeof p=="object"){if(Y.endsWith(v,"{}"))v=n?v:v.slice(0,-2),p=JSON.stringify(p);else if(Y.isArray(p)&&Uj(p)||(Y.isFileList(p)||Y.endsWith(v,"[]"))&&(g=Y.toArray(p)))return v=cv(v),g.forEach(function(x,k){!(Y.isUndefined(x)||x===null)&&e.append(a===!0?op([v],k,i):a===null?v:v+"[]",f(x))}),!1}return Bd(p)?!0:(e.append(op(w,v,i),f(p)),!1)}const d=[],h=Object.assign(zj,{defaultVisitor:u,convertValue:f,isVisitable:Bd});function m(p,v){if(!Y.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),Y.forEach(p,function(g,y){(!(Y.isUndefined(g)||g===null)&&s.call(e,g,Y.isString(y)?y.trim():y,v,h))===!0&&m(g,v?v.concat(y):[y])}),d.pop()}}if(!Y.isObject(t))throw new TypeError("data must be an object");return m(t),e}function lp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function lh(t,e){this._pairs=[],t&&Mc(t,this,e)}const uv=lh.prototype;uv.append=function(e,r){this._pairs.push([e,r])};uv.toString=function(e){const r=e?function(n){return e.call(this,n,lp)}:lp;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function Bj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dv(t,e,r){if(!e)return t;const n=r&&r.encode||Bj;Y.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=Y.isURLSearchParams(e)?e.toString():new lh(e,r).toString(n),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class cp{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(n){n!==null&&e(n)})}}const fv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vj=typeof URLSearchParams<"u"?URLSearchParams:lh,Wj=typeof FormData<"u"?FormData:null,Hj=typeof Blob<"u"?Blob:null,qj={isBrowser:!0,classes:{URLSearchParams:Vj,FormData:Wj,Blob:Hj},protocols:["http","https","file","blob","url","data"]},ch=typeof window<"u"&&typeof document<"u",Vd=typeof navigator=="object"&&navigator||void 0,Gj=ch&&(!Vd||["ReactNative","NativeScript","NS"].indexOf(Vd.product)<0),Zj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qj=ch&&window.location.href||"http://localhost",Kj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ch,hasStandardBrowserEnv:Gj,hasStandardBrowserWebWorkerEnv:Zj,navigator:Vd,origin:Qj},Symbol.toStringTag,{value:"Module"})),Rt={...Kj,...qj};function Yj(t,e){return Mc(t,new Rt.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return Rt.isNode&&Y.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Jj(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xj(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function hv(t){function e(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=i>=r.length;return a=!a&&Y.isArray(s)?s.length:a,c?(Y.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!o):((!s[a]||!Y.isObject(s[a]))&&(s[a]=[]),e(r,n,s[a],i)&&Y.isArray(s[a])&&(s[a]=Xj(s[a])),!o)}if(Y.isFormData(t)&&Y.isFunction(t.entries)){const r={};return Y.forEachEntry(t,(n,s)=>{e(Jj(n),s,r,0)}),r}return null}function eN(t,e,r){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const bo={transitional:fv,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Y.isObject(e);if(i&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(hv(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yj(e,this.formSerializer).toString();if((o=Y.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mc(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),eN(e)):e}],transformResponse:[function(e){const r=this.transitional||bo.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Ee.from(o,Ee.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{bo.headers[t]={}});const tN=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rN=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||e[r]&&tN[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},up=Symbol("internals");function oa(t){return t&&String(t).trim().toLowerCase()}function ll(t){return t===!1||t==null?t:Y.isArray(t)?t.map(ll):String(t)}function nN(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const sN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Eu(t,e,r,n,s){if(Y.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!Y.isString(e)){if(Y.isString(n))return e.indexOf(n)!==-1;if(Y.isRegExp(n))return n.test(e)}}function iN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function aN(t,e){const r=Y.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,a){return this[n].call(this,e,s,i,a)},configurable:!0})})}class tr{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(o,c,f){const u=oa(c);if(!u)throw new Error("header name must be a non-empty string");const d=Y.findKey(s,u);(!d||s[d]===void 0||f===!0||f===void 0&&s[d]!==!1)&&(s[d||c]=ll(o))}const a=(o,c)=>Y.forEach(o,(f,u)=>i(f,u,c));if(Y.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Y.isString(e)&&(e=e.trim())&&!sN(e))a(rN(e),r);else if(Y.isHeaders(e))for(const[o,c]of e.entries())i(c,o,n);else e!=null&&i(r,e,n);return this}get(e,r){if(e=oa(e),e){const n=Y.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return nN(s);if(Y.isFunction(r))return r.call(this,s,n);if(Y.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=oa(e),e){const n=Y.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Eu(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(a){if(a=oa(a),a){const o=Y.findKey(n,a);o&&(!r||Eu(n,n[o],o,r))&&(delete n[o],s=!0)}}return Y.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||Eu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return Y.forEach(this,(s,i)=>{const a=Y.findKey(n,i);if(a){r[a]=ll(s),delete r[i];return}const o=e?iN(i):String(i).trim();o!==i&&delete r[i],r[o]=ll(s),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Y.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&Y.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[up]=this[up]={accessors:{}}).accessors,s=this.prototype;function i(a){const o=oa(a);n[o]||(aN(s,a),n[o]=!0)}return Y.isArray(e)?e.forEach(i):i(e),this}}tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(tr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Y.freezeMethods(tr);function Cu(t,e){const r=this||bo,n=e||r,s=tr.from(n.headers);let i=n.data;return Y.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function mv(t){return!!(t&&t.__CANCEL__)}function Wi(t,e,r){Ee.call(this,t??"canceled",Ee.ERR_CANCELED,e,r),this.name="CanceledError"}Y.inherits(Wi,Ee,{__CANCEL__:!0});function pv(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ee("Request failed with status code "+r.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function oN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lN(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(c){const f=Date.now(),u=n[i];a||(a=f),r[s]=c,n[s]=f;let d=i,h=0;for(;d!==s;)h+=r[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),f-a<e)return;const m=u&&f-u;return m?Math.round(h*1e3/m):void 0}}function cN(t,e){let r=0,n=1e3/e,s,i;const a=(f,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,f)};return[(...f)=>{const u=Date.now(),d=u-r;d>=n?a(f,u):(s=f,i||(i=setTimeout(()=>{i=null,a(s)},n-d)))},()=>s&&a(s)]}const zl=(t,e,r=3)=>{let n=0;const s=lN(50,250);return cN(i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,c=a-n,f=s(c),u=a<=o;n=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:f||void 0,estimated:f&&o&&u?(o-a)/f:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},dp=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},fp=t=>(...e)=>Y.asap(()=>t(...e)),uN=Rt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Rt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,dN=Rt.hasStandardBrowserEnv?{write(t,e,r,n,s,i){const a=[t+"="+encodeURIComponent(e)];Y.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Y.isString(n)&&a.push("path="+n),Y.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gv(t,e){return t&&!fN(e)?hN(t,e):e}const hp=t=>t instanceof tr?{...t}:t;function Ps(t,e){e=e||{};const r={};function n(f,u,d,h){return Y.isPlainObject(f)&&Y.isPlainObject(u)?Y.merge.call({caseless:h},f,u):Y.isPlainObject(u)?Y.merge({},u):Y.isArray(u)?u.slice():u}function s(f,u,d,h){if(Y.isUndefined(u)){if(!Y.isUndefined(f))return n(void 0,f,d,h)}else return n(f,u,d,h)}function i(f,u){if(!Y.isUndefined(u))return n(void 0,u)}function a(f,u){if(Y.isUndefined(u)){if(!Y.isUndefined(f))return n(void 0,f)}else return n(void 0,u)}function o(f,u,d){if(d in e)return n(f,u);if(d in t)return n(void 0,f)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(f,u,d)=>s(hp(f),hp(u),d,!0)};return Y.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=c[u]||s,h=d(t[u],e[u],u);Y.isUndefined(h)&&d!==o||(r[u]=h)}),r}const yv=t=>{const e=Ps({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:o}=e;e.headers=a=tr.from(a),e.url=dv(gv(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(Y.isFormData(r)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[f,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([f||"multipart/form-data",...u].join("; "))}}if(Rt.hasStandardBrowserEnv&&(n&&Y.isFunction(n)&&(n=n(e)),n||n!==!1&&uN(e.url))){const f=s&&i&&dN.read(i);f&&a.set(s,f)}return e},mN=typeof XMLHttpRequest<"u",pN=mN&&function(t){return new Promise(function(r,n){const s=yv(t);let i=s.data;const a=tr.from(s.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:f}=s,u,d,h,m,p;function v(){m&&m(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function g(){if(!w)return;const x=tr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};pv(function(O){r(O),v()},function(O){n(O),v()},_),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new Ee("Request aborted",Ee.ECONNABORTED,t,w)),w=null)},w.onerror=function(){n(new Ee("Network Error",Ee.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||fv;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new Ee(k,_.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,t,w)),w=null},i===void 0&&a.setContentType(null),"setRequestHeader"in w&&Y.forEach(a.toJSON(),function(k,_){w.setRequestHeader(_,k)}),Y.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),o&&o!=="json"&&(w.responseType=s.responseType),f&&([h,p]=zl(f,!0),w.addEventListener("progress",h)),c&&w.upload&&([d,m]=zl(c),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(u=x=>{w&&(n(!x||x.type?new Wi(null,t,w):x),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const y=oN(s.url);if(y&&Rt.protocols.indexOf(y)===-1){n(new Ee("Unsupported protocol "+y+":",Ee.ERR_BAD_REQUEST,t));return}w.send(i||null)})},gN=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(f){if(!s){s=!0,o();const u=f instanceof Error?f:this.reason;n.abort(u instanceof Ee?u:new Wi(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,i(new Ee(`timeout ${e} of ms exceeded`,Ee.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),t=null)};t.forEach(f=>f.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Y.asap(o),c}},yN=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},vN=async function*(t,e){for await(const r of xN(t))yield*yN(r,e)},xN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},mp=(t,e,r,n)=>{const s=vN(t,e);let i=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:f,value:u}=await s.next();if(f){o(),c.close();return}let d=u.byteLength;if(r){let h=i+=d;r(h)}c.enqueue(new Uint8Array(u))}catch(f){throw o(f),f}},cancel(c){return o(c),s.return()}},{highWaterMark:2})},Fc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vv=Fc&&typeof ReadableStream=="function",wN=Fc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),xv=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bN=vv&&xv(()=>{let t=!1;const e=new Request(Rt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),pp=64*1024,Wd=vv&&xv(()=>Y.isReadableStream(new Response("").body)),Bl={stream:Wd&&(t=>t.body)};Fc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bl[e]&&(Bl[e]=Y.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ee(`Response type '${e}' is not supported`,Ee.ERR_NOT_SUPPORT,n)})})})(new Response);const _N=async t=>{if(t==null)return 0;if(Y.isBlob(t))return t.size;if(Y.isSpecCompliantForm(t))return(await new Request(Rt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(t)||Y.isArrayBuffer(t))return t.byteLength;if(Y.isURLSearchParams(t)&&(t=t+""),Y.isString(t))return(await wN(t)).byteLength},kN=async(t,e)=>{const r=Y.toFiniteNumber(t.getContentLength());return r??_N(e)},jN=Fc&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:o,onUploadProgress:c,responseType:f,headers:u,withCredentials:d="same-origin",fetchOptions:h}=yv(t);f=f?(f+"").toLowerCase():"text";let m=gN([s,i&&i.toAbortSignal()],a),p;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(c&&bN&&r!=="get"&&r!=="head"&&(w=await kN(u,n))!==0){let _=new Request(e,{method:"POST",body:n,duplex:"half"}),S;if(Y.isFormData(n)&&(S=_.headers.get("content-type"))&&u.setContentType(S),_.body){const[O,b]=dp(w,zl(fp(c)));n=mp(_.body,pp,O,b)}}Y.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;p=new Request(e,{...h,signal:m,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:g?d:void 0});let y=await fetch(p);const x=Wd&&(f==="stream"||f==="response");if(Wd&&(o||x&&v)){const _={};["status","statusText","headers"].forEach(N=>{_[N]=y[N]});const S=Y.toFiniteNumber(y.headers.get("content-length")),[O,b]=o&&dp(S,zl(fp(o),!0))||[];y=new Response(mp(y.body,pp,O,()=>{b&&b(),v&&v()}),_)}f=f||"text";let k=await Bl[Y.findKey(Bl,f)||"text"](y,t);return!x&&v&&v(),await new Promise((_,S)=>{pv(_,S,{data:k,headers:tr.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:p})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,t,p),{cause:g.cause||g}):Ee.from(g,g&&g.code,t,p)}}),Hd={http:$j,xhr:pN,fetch:jN};Y.forEach(Hd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const gp=t=>`- ${t}`,NN=t=>Y.isFunction(t)||t===null||t===!1,wv={getAdapter:t=>{t=Y.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let i=0;i<e;i++){r=t[i];let a;if(n=r,!NN(r)&&(n=Hd[(a=String(r)).toLowerCase()],n===void 0))throw new Ee(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(gp).join(`
`):" "+gp(i[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Hd};function Tu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wi(null,t)}function yp(t){return Tu(t),t.headers=tr.from(t.headers),t.data=Cu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wv.getAdapter(t.adapter||bo.adapter)(t).then(function(n){return Tu(t),n.data=Cu.call(t,t.transformResponse,n),n.headers=tr.from(n.headers),n},function(n){return mv(n)||(Tu(t),n&&n.response&&(n.response.data=Cu.call(t,t.transformResponse,n.response),n.response.headers=tr.from(n.response.headers))),Promise.reject(n)})}const bv="1.7.9",$c={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$c[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const vp={};$c.transitional=function(e,r,n){function s(i,a){return"[Axios v"+bv+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,o)=>{if(e===!1)throw new Ee(s(a," has been removed"+(r?" in "+r:"")),Ee.ERR_DEPRECATED);return r&&!vp[a]&&(vp[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,a,o):!0}};$c.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function SN(t,e,r){if(typeof t!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],a=e[i];if(a){const o=t[i],c=o===void 0||a(o,i,t);if(c!==!0)throw new Ee("option "+i+" must be "+c,Ee.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ee("Unknown option "+i,Ee.ERR_BAD_OPTION)}}const cl={assertOptions:SN,validators:$c},Br=cl.validators;class _s{constructor(e){this.defaults=e,this.interceptors={request:new cp,response:new cp}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ps(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&cl.assertOptions(n,{silentJSONParsing:Br.transitional(Br.boolean),forcedJSONParsing:Br.transitional(Br.boolean),clarifyTimeoutError:Br.transitional(Br.boolean)},!1),s!=null&&(Y.isFunction(s)?r.paramsSerializer={serialize:s}:cl.assertOptions(s,{encode:Br.function,serialize:Br.function},!0)),cl.assertOptions(r,{baseUrl:Br.spelling("baseURL"),withXsrfToken:Br.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&Y.merge(i.common,i[r.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=tr.concat(a,i);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let u,d=0,h;if(!c){const p=[yp.bind(this),void 0];for(p.unshift.apply(p,o),p.push.apply(p,f),h=p.length,u=Promise.resolve(r);d<h;)u=u.then(p[d++],p[d++]);return u}h=o.length;let m=r;for(d=0;d<h;){const p=o[d++],v=o[d++];try{m=p(m)}catch(w){v.call(this,w);break}}try{u=yp.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,h=f.length;d<h;)u=u.then(f[d++],f[d++]);return u}getUri(e){e=Ps(this.defaults,e);const r=gv(e.baseURL,e.url);return dv(r,e.params,e.paramsSerializer)}}Y.forEach(["delete","get","head","options"],function(e){_s.prototype[e]=function(r,n){return this.request(Ps(n||{},{method:e,url:r,data:(n||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function r(n){return function(i,a,o){return this.request(Ps(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}_s.prototype[e]=r(),_s.prototype[e+"Form"]=r(!0)});class uh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(o=>{n.subscribe(o),i=o}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},e(function(i,a,o){n.reason||(n.reason=new Wi(i,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new uh(function(s){e=s}),cancel:e}}}function EN(t){return function(r){return t.apply(null,r)}}function CN(t){return Y.isObject(t)&&t.isAxiosError===!0}const qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qd).forEach(([t,e])=>{qd[e]=t});function _v(t){const e=new _s(t),r=Xy(_s.prototype.request,e);return Y.extend(r,_s.prototype,e,{allOwnKeys:!0}),Y.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return _v(Ps(t,s))},r}const dt=_v(bo);dt.Axios=_s;dt.CanceledError=Wi;dt.CancelToken=uh;dt.isCancel=mv;dt.VERSION=bv;dt.toFormData=Mc;dt.AxiosError=Ee;dt.Cancel=dt.CanceledError;dt.all=function(e){return Promise.all(e)};dt.spread=EN;dt.isAxiosError=CN;dt.mergeConfig=Ps;dt.AxiosHeaders=tr;dt.formToJSON=t=>hv(Y.isHTMLForm(t)?new FormData(t):t);dt.getAdapter=wv.getAdapter;dt.HttpStatusCode=qd;dt.default=dt;function TN(){const[t,e]=V.useState([]),[r,n]=V.useState(!0);V.useEffect(()=>{const i=async()=>{try{const o=await dt.get("https://www.cbr-xml-daily.ru/daily_json.js"),{USD:c,EUR:f,CNY:u,JPY:d,KRW:h}=o.data.Valute;e([c,f,u,d,h])}catch(o){console.error("Error fetching rates:",o)}finally{n(!1)}};i();const a=setInterval(i,36e5);return()=>clearInterval(a)},[]);const s=i=>{switch(i){case"USD":return l.jsx(Zy,{className:"w-5 h-5"});case"EUR":return l.jsx(O2,{className:"w-5 h-5"});case"CNY":return l.jsx("span",{className:"text-xl",children:"¥"});case"JPY":return l.jsx(Z2,{className:"w-5 h-5"});case"KRW":return l.jsx("span",{className:"text-xl",children:"₩"});default:return null}};return r?l.jsx("div",{className:"flex justify-center items-center h-16",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):l.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Курсы валют ЦБ РФ"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:t.map(i=>l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:[l.jsx("div",{className:"text-red-500",children:s(i.CharCode)}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[i.Value.toFixed(2)," ₽"]}),l.jsxs("div",{className:`text-xs ${i.Value>i.Previous?"text-green-500":i.Value<i.Previous?"text-red-500":"text-gray-500"}`,children:[i.Value>i.Previous?"↑":i.Value<i.Previous?"↓":"=",Math.abs(i.Value-i.Previous).toFixed(2)]})]})]},i.CharCode))})]})}function AN(){const t=()=>{const e=document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})};return l.jsxs("div",{className:"pt-20 relative",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?auto=format&fit=crop&q=80&w=2000",alt:"Luxury car",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/70 dark:from-black/80 dark:via-black/60 dark:to-black/80"})]}),l.jsxs("div",{className:"container mx-auto px-4 py-16 relative z-10",children:[l.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:"Импорт автомобилей из Азии"}),l.jsx("p",{className:"text-xl text-gray-200 mb-8",children:"Профессиональный подбор и доставка автомобилей из Китая, Японии и Южной Кореи"}),l.jsx("button",{onClick:t,className:"bg-red-500 text-white px-8 py-3 rounded-lg hover:bg-red-600 transition",children:"Подобрать автомобиль"})]}),l.jsx("div",{className:"mt-12 max-w-5xl mx-auto",children:l.jsx(TN,{})}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-16",children:[l.jsxs("div",{className:"bg-white/10 dark:bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-white/20 dark:border-gray-700",children:[l.jsx(Ky,{className:"w-12 h-12 text-red-500 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Опыт и доверие"}),l.jsx("p",{className:"text-gray-200",children:"Более 5 лет успешной работы и сотни довольных клиентов"})]}),l.jsxs("div",{className:"bg-white/10 dark:bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-white/20 dark:border-gray-700",children:[l.jsx(Yy,{className:"w-12 h-12 text-red-500 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Полный цикл услуг"}),l.jsx("p",{className:"text-gray-200",children:"От выбора до доставки и оформления документов"})]}),l.jsxs("div",{className:"bg-white/10 dark:bg-gray-800/50 backdrop-blur-sm p-6 rounded-xl border border-white/20 dark:border-gray-700",children:[l.jsx(I2,{className:"w-12 h-12 text-red-500 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2 text-white",children:"Надежность"}),l.jsx("p",{className:"text-gray-200",children:"Строгая проверка состояния и истории каждого автомобиля"})]})]})]})]})}function PN(){return l.jsx("section",{className:"py-8 md:py-16 bg-white dark:bg-gray-900",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 text-gray-900 dark:text-white",children:"Как купить автомобиль"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 md:gap-8",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(ah,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-center text-gray-900 dark:text-white",children:"Оставить заявку"}),l.jsx("p",{className:"text-xs md:text-sm text-center text-gray-600 dark:text-gray-400",children:"Вам сообщат стоимость"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(L2,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-center text-gray-900 dark:text-white",children:"Заключить договор"}),l.jsx("p",{className:"text-xs md:text-sm text-center text-gray-600 dark:text-gray-400",children:"В офисе или онлайн"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(Zy,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-center text-gray-900 dark:text-white",children:"Подбор и покупка"}),l.jsx("p",{className:"text-xs md:text-sm text-center text-gray-600 dark:text-gray-400",children:"Согласуем все с вами"})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(K2,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-center text-gray-900 dark:text-white",children:"Доставка и таможня"}),l.jsx("p",{className:"text-xs md:text-sm text-center text-gray-600 dark:text-gray-400",children:"Срок от 3-х недель"})]}),l.jsxs("div",{className:"flex flex-col items-center col-span-2 md:col-span-1",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(bi,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-center text-gray-900 dark:text-white",children:"Выдача авто"}),l.jsx("p",{className:"text-xs md:text-sm text-center text-gray-600 dark:text-gray-400",children:"Доставим до ТК"})]})]})]})})}function RN(){return l.jsx("section",{className:"py-8 md:py-16 bg-gray-50 dark:bg-gray-800",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 text-gray-900 dark:text-white",children:"Ваши преимущества"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 md:gap-8",children:[l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(G2,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Бонус"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Месяц стоянки"})]}),l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(C2,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Прозрачность"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Вы знаете все расходы заранее"})]}),l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(Ky,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Надежность"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Гарантийный взнос"})]}),l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(zs,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Удобство"}),l.jsxs("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:["Вам остается только",l.jsx("br",{}),"наслаждаться процессом"]})]}),l.jsxs("div",{className:"flex flex-col items-center text-center col-span-2 md:col-span-1",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 md:w-16 md:h-16 mb-2 md:mb-4 bg-red-100 dark:bg-red-900/20 rounded-full",children:l.jsx(Ka,{className:"w-6 h-6 md:w-8 md:h-8 text-red-500"})}),l.jsx("h3",{className:"text-sm md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Опыт"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:"Более 5 лет работы"})]})]})]})})}function ON({car:t,onClose:e}){const[r,n]=V.useState(0),[s,i]=V.useState(!1);if(!t)return null;const{brand:a,model:o,generation:c,description:f,images:u}=t,d=c.specs[0],h=v=>{v&&v.stopPropagation(),n(w=>(w+1)%u.length)},m=v=>{v&&v.stopPropagation(),n(w=>(w-1+u.length)%u.length)},p=v=>{n(v),i(!0)};return l.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-7xl w-full max-h-[90vh] overflow-y-auto relative",children:[l.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center z-10",children:[l.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a.name," ",o.name," ",c.name]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(rn,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsx("div",{className:"w-full md:w-1/2 p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"aspect-video rounded-lg overflow-hidden cursor-pointer relative",onClick:()=>p(r),children:[l.jsx("img",{src:u[r].url,alt:u[r].alt,className:"w-full h-full object-cover hover:scale-105 transition-transform"}),u.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:v=>m(v),className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:l.jsx(As,{className:"w-5 h-5"})}),l.jsx("button",{onClick:v=>h(v),className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:l.jsx(bn,{className:"w-5 h-5"})})]})]}),u.length>1&&l.jsx("div",{className:"grid grid-cols-6 gap-2",children:u.map((v,w)=>l.jsx("div",{onClick:()=>n(w),className:`aspect-video rounded-lg overflow-hidden cursor-pointer border-2 transition-colors ${r===w?"border-red-500":"border-transparent hover:border-gray-300"}`,children:l.jsx("img",{src:v.url,alt:v.alt,className:"w-full h-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/150?text=Error"}})},w))})]})}),l.jsx("div",{className:"w-full md:w-1/2 p-6 border-t md:border-t-0 md:border-l border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx(Ka,{className:"w-5 h-5 mr-3 text-red-500"}),l.jsxs("span",{children:["Годы выпуска: ",c.years]})]}),l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx(D2,{className:"w-5 h-5 mr-3 text-red-500"}),l.jsxs("span",{children:["Двигатель: ",d.engine]})]}),d.power&&l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx(X2,{className:"w-5 h-5 mr-3 text-red-500"}),l.jsxs("span",{children:["Мощность: ",d.power]})]}),l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx(Qy,{className:"w-5 h-5 mr-3 text-red-500"}),l.jsxs("span",{children:["Трансмиссия: ",d.transmission]})]}),d.drivetrain&&l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx(bi,{className:"w-5 h-5 mr-3 text-red-500"}),l.jsxs("span",{children:["Привод: ",d.drivetrain]})]}),d.acceleration&&l.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[l.jsx(M2,{className:"w-5 h-5 mr-3 text-red-500"}),l.jsxs("span",{children:["Разгон до 100 км/ч: ",d.acceleration]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Описание"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 whitespace-pre-line",children:f})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("a",{href:"https://wa.me/79140744300",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#25D366] text-white py-3 rounded-lg hover:bg-[#128C7E] transition flex items-center justify-center",children:"WhatsApp"}),l.jsx("a",{href:"https://t.me/SGVavtoImport",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-[#0088cc] text-white py-3 rounded-lg hover:bg-[#0077b5] transition flex items-center justify-center",children:"Telegram"})]})]})})]})]}),s&&l.jsxs("div",{className:"fixed inset-0 bg-black z-[60] flex items-center justify-center",children:[l.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-white p-2 hover:bg-white/10 rounded-full",children:l.jsx(rn,{className:"w-6 h-6"})}),l.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white p-2 hover:bg-white/10 rounded-full",children:l.jsx(As,{className:"w-8 h-8"})}),l.jsx("img",{src:u[r].url,alt:u[r].alt,className:"max-h-[90vh] max-w-[90vw] object-contain"}),l.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white p-2 hover:bg-white/10 rounded-full",children:l.jsx(bn,{className:"w-8 h-8"})}),l.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:u.map((v,w)=>l.jsx("button",{onClick:()=>n(w),className:`w-2 h-2 rounded-full ${w===r?"bg-white":"bg-white/50"}`},w))})]})]})}function IN({brand:t,model:e,year:r,price:n,description:s,images:i,specs:a,status:o,onClick:c}){const[f,u]=V.useState(0),d=v=>{switch(v){case"in_stock":return"bg-green-500 text-white";case"on_order":return"bg-yellow-500 text-white";case"in_transit":return"bg-blue-500 text-white";default:return"bg-gray-500 text-white"}},h=v=>{switch(v){case"in_stock":return"В наличии";case"on_order":return"Под заказ";case"in_transit":return"В пути";default:return"В наличии"}},m=v=>{v.stopPropagation(),u(w=>(w+1)%i.length)},p=v=>{v.stopPropagation(),u(w=>(w-1+i.length)%i.length)};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 transition-colors duration-200 cursor-pointer hover:shadow-lg",onClick:c,children:[l.jsxs("div",{className:"relative aspect-[4/3] md:aspect-video",children:[l.jsx("img",{src:i[f].url,alt:i[f].alt,className:"w-full h-full object-cover",onError:v=>{v.target.src="https://via.placeholder.com/400x300?text=No+Image"}}),l.jsx("div",{className:`absolute top-2 right-2 px-3 py-1 rounded-full text-xs md:text-sm font-medium ${d(o)}`,children:h(o)}),i.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:p,className:"absolute left-2 top-1/2 -translate-y-1/2 w-6 h-6 md:w-8 md:h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:l.jsx(As,{className:"w-4 h-4 md:w-5 md:h-5"})}),l.jsx("button",{onClick:m,className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 md:w-8 md:h-8 bg-black/50 rounded-full flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:l.jsx(bn,{className:"w-4 h-4 md:w-5 md:h-5"})}),l.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:i.map((v,w)=>l.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${w===f?"bg-white":"bg-white/50"}`},w))})]})]}),l.jsxs("div",{className:"p-4 md:p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white",children:[t," ",e]}),l.jsx("span",{className:"text-base md:text-lg font-bold text-red-500",children:n})]}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 md:mb-4",children:[r," год"]}),l.jsxs("div",{className:"space-y-1 md:space-y-2 mb-3 md:mb-4",children:[l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("span",{className:"font-medium",children:"Двигатель:"})," ",a.engine,a.power&&` (${a.power})`]}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("span",{className:"font-medium",children:"Коробка:"})," ",a.transmission]}),a.drivetrain&&l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("span",{className:"font-medium",children:"Привод:"})," ",a.drivetrain]}),l.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[l.jsx("span",{className:"font-medium",children:"Пробег:"})," ",a.mileage]})]}),l.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-2 md:line-clamp-3",children:s}),l.jsx("button",{className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 transition text-sm md:text-base",children:"Подробнее"})]})]})}function LN(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState(null),a=V.useRef(null);V.useEffect(()=>{o()},[]);async function o(){n(!0);try{const{data:d,error:h}=await Te.from("cars").select("*, car_images(id, image_url)").order("created_at",{ascending:!1});if(h)throw h;const m=(d||[]).map(p=>({...p,images:p.car_images||[]}));e(m)}catch(d){console.error("Error fetching cars:",d)}finally{n(!1)}}const c=d=>{if(a.current){const m=a.current.scrollLeft+(d==="left"?-300:300);a.current.scrollTo({left:m,behavior:"smooth"})}},f=d=>({brand:d.name.split(" ")[0]||"",model:d.name.split(" ").slice(1).join(" ")||"",year:d.year.toString(),price:`${d.price.toLocaleString()} ₽`,description:d.description,images:[{url:d.main_image,alt:d.name},...(d.images||[]).map(h=>({url:h.image_url,alt:d.name}))],specs:{engine:d.engine,power:d.power||"",transmission:d.transmission,drivetrain:d.drivetrain||"",mileage:d.mileage},status:d.status}),u=d=>{const h=d.name.split(" "),m=h[0]||"",p=h.slice(1).join(" ")||"";return{id:d.id,brand:{name:m,id:1},model:{name:p,id:1},generation:{name:"",years:d.year.toString(),specs:[{engine:d.engine,power:d.power||"",transmission:d.transmission,drivetrain:d.drivetrain||"",acceleration:"",fuelConsumption:""}]},price:`${d.price.toLocaleString()} ₽`,description:d.description,images:[{url:d.main_image,alt:d.name},...(d.images||[]).map(v=>({url:v.image_url,alt:d.name}))],status:d.status}};return l.jsxs("section",{id:"cars",className:"py-8 md:py-16 bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 text-gray-900 dark:text-white",children:"Автомобили в наличии"}),r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):t.length>0?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 -ml-4",children:l.jsx("button",{onClick:()=>c("left"),className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(As,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})}),l.jsx("div",{ref:a,className:"overflow-x-auto scrollbar-hide scroll-smooth px-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.jsx("div",{className:"flex gap-4 md:gap-6",children:t.map(d=>l.jsx("div",{className:"flex-none w-[260px] md:w-[350px]",children:l.jsx(IN,{...f(d),onClick:()=>i(d)})},d.id))})}),l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 -mr-4",children:l.jsx("button",{onClick:()=>c("right"),className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(bn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})})]}):l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Автомобили пока не добавлены"})]}),s&&l.jsx(ON,{car:u(s),onClose:()=>i(null)})]})}const xp=[{id:"petrol",label:"бензиновый",sanctioned:!1},{id:"diesel",label:"дизельный",sanctioned:!1},{id:"hybrid_petrol",label:"бензиновый и электрический",sanctioned:!0},{id:"hybrid_diesel",label:"дизельный и электрический",sanctioned:!0},{id:"electric",label:"электрический",sanctioned:!0}],Zs={JP:{currency:"JPY",name:"Япония",commission:5e4,sanctioned:!1,shippingCosts:{amount:2e5,currency:"JPY"}},JP_SANCTIONED:{currency:"JPY",name:"Япония (санкционная)",commission:1e5,sanctioned:!0,shippingCosts:{amount:0,currency:"USD"}},KR:{currency:"KRW",name:"Корея",commission:75e3,shippingCosts:{amount:2e6,currency:"KRW"}},CN:{currency:"CNY",name:"Китай",commission:75e3,shippingCosts:{amount:17e3,currency:"CNY"}}},DN=[{priceRange:[0,999999],fob:800,freight:1500},{priceRange:[1e6,1999999],fob:900,freight:1500},{priceRange:[2e6,2999999],fob:1e3,freight:1500},{priceRange:[3e6,3999999],fob:1100,freight:1500},{priceRange:[4e6,4999999],fob:1200,freight:1500},{priceRange:[5e6,5999999],fob:1300,freight:1500},{priceRange:[6e6,6999999],fob:1500,freight:1500},{priceRange:[7e6,7999999],fob:1600,freight:1500},{priceRange:[8e6,8999999],fob:1800,freight:1500},{priceRange:[9e6,9999999],fob:2e3,freight:1500}],Au=1e5,wp=(t,e,r=!0)=>t>3e3?t<=3500?e==="new"?2153e3:3297e3:e==="new"?2742e3:3605e3:r?e==="new"?3400:5200:t<=1e3?e==="new"?180200:46e4:t<=2e3?e==="new"?667400:1174e3:e==="new"?1875e3:2839e3;function MN(){const[t,e]=V.useState("JP"),[r,n]=V.useState(""),[s,i]=V.useState(""),[a,o]=V.useState("petrol"),[c,f]=V.useState("new"),[u,d]=V.useState({}),[h,m]=V.useState(null),[p,v]=V.useState(!1);V.useEffect(()=>{(async()=>{try{const T=await dt.get("https://www.cbr-xml-daily.ru/daily_json.js"),{EUR:R,JPY:L,KRW:I,CNY:H,USD:A}=T.data.Valute;d({EUR:R.Value,JPY:L.Value/L.Nominal,KRW:I.Value/I.Nominal,CNY:H.Value,USD:A.Value})}catch(T){console.error("Error fetching rates:",T)}})()},[]);const w=C=>{const T=DN.find(({priceRange:L})=>C>=L[0]&&C<=L[1]);return T?{fob:T.fob+300,freight:T.freight}:{fob:C*.03+300,freight:2500}},g=(C,T)=>{if(C.sanctioned){const{fob:I,freight:H}=w(T),A=I+H;return{costRub:A*u.USD,originalCost:{amount:A,currency:"USD"}}}const{amount:R,currency:L}=C.shippingCosts;return{costRub:R*u[L],originalCost:{amount:R,currency:L}}},y=(C,T,R)=>R==="new"?C<=8500?Math.max(T*2.5,C*.54):C<=16700?Math.max(T*3.5,C*.48):C<=42300?Math.max(T*5.5,C*.48):C<=84500?Math.max(T*7.5,C*.48):C<=169e3?Math.max(T*15,C*.48):Math.max(T*20,C*.48):R==="medium"?T<=1e3?T*1.5:T<=1500?T*1.7:T<=1800?T*2.5:T<=2300?T*2.7:T<=3e3?T*3:T*3.6:T<=1e3?T*3:T<=1500?T*3.2:T<=1800?T*3.5:T<=2300?T*4.8:T<=3e3?T*5:T*5.7,x=C=>C<=2e5?775:C<=45e4?1550:C<=12e5?3100:C<=27e5?8530:C<=42e5?12e3:C<=55e5?15500:C<=7e6?2e4:C<=8e6?23e3:C<=9e6?25e3:C<=1e7?27e3:3e4,k=()=>{const C=parseFloat(r),T=parseFloat(s);if(!C||!T||!u.EUR)return;const R=C*u[Zs[t].currency],L=R/u.EUR,I=g(Zs[t],C),A=y(L,T,c)*u.EUR,E=x(R),B=Zs[t].commission,z=wp(T,c),$=wp(T,c,!1),J=R+I.costRub+A+E+Au+B+z,K=R+I.costRub+A+E+Au+B+$;m({carCostRub:R,carCostOriginal:C,shippingCostRub:I.costRub,shippingCostOriginal:I.originalCost,customsDuty:A,customsFee:E,brokerFee:Au,commission:B,recyclingFee:z,commercialRecyclingFee:$,total:J,totalWithCommercial:K})},_=(C,T)=>{const R=xp.find(L=>L.id===T);if(t==="JP"){if(C>1900||R&&R.sanctioned)return e("JP_SANCTIONED"),v(!0),!0}else if(t==="JP_SANCTIONED"&&C<=1900&&(!R||!R.sanctioned))return e("JP"),v(!1),!1;return!1},S=C=>{i(C);const T=parseFloat(C);isNaN(T)||_(T,a)},O=C=>{o(C);const T=parseFloat(s);isNaN(T)||_(T,C)},b=C=>{const T=C.target.value;(T===""||parseFloat(T)>=0)&&n(T)},N=()=>{const C=document.getElementById("contact");C&&C.scrollIntoView({behavior:"smooth"})};return l.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[l.jsx(T2,{className:"w-6 h-6 text-red-500"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Калькулятор стоимости автомобиля"})]}),l.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex items-start space-x-3",children:[l.jsx(np,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),l.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Расчет является приблизительным и основан на текущем курсе ЦБ РФ. Для получения точной стоимости и актуальных условий доставки, пожалуйста, свяжитесь с нашими менеджерами."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Страна"}),l.jsx("select",{value:t,onChange:C=>e(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:Object.entries(Zs).map(([C,T])=>l.jsx("option",{value:C,children:T.name},C))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Стоимость автомобиля (",Zs[t].currency,")"]}),l.jsx("input",{type:"number",value:r,onChange:b,min:"0",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"Введите стоимость"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Тип двигателя"}),l.jsx("div",{className:"space-y-2",children:xp.map(C=>l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"radio",name:"engineType",value:C.id,checked:a===C.id,onChange:T=>O(T.target.value),className:"form-radio h-4 w-4 text-red-500"}),l.jsx("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:C.label})]},C.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Объем двигателя (куб. см)"}),l.jsx("input",{type:"number",value:s,onChange:C=>S(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Например: 2000"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Возраст автомобиля"}),l.jsxs("select",{value:c,onChange:C=>f(C.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"new",children:"Младше 3 лет"}),l.jsx("option",{value:"medium",children:"3-5 лет"}),l.jsx("option",{value:"old",children:"Старше 5 лет"})]})]}),l.jsx("button",{onClick:k,className:"w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition",children:"Рассчитать"}),p&&l.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg flex items-start space-x-3",children:[l.jsx(np,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),l.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Данный автомобиль попадает под санкционные ограничения. Расчёт будет произведён по тарифам для санкционных автомобилей."})]}),h&&l.jsxs("div",{className:"mt-6 space-y-3 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Расчет полной стоимости:"}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Стоимость автомобиля:"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.carCostOriginal.toLocaleString()," ",Zs[t].currency," (",h.carCostRub.toLocaleString()," ₽)"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Стоимость доставки (приблизительная):"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.shippingCostOriginal.amount.toLocaleString()," ",h.shippingCostOriginal.currency," (",h.shippingCostRub.toLocaleString()," ₽)"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Таможенная пошлина:"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.customsDuty.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Утилизационный сбор:"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.recyclingFee.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Таможенный сбор:"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.customsFee.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Брокерские услуги (приблизительная):"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.brokerFee.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Комиссия компании:"}),l.jsxs("span",{className:"font-medium text-gray-900 dark:text-white text-right",children:[h.commission.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-600 p-2 rounded",children:[l.jsx("span",{children:"Утилизационный сбор (перепродажа):"}),l.jsxs("span",{className:"font-medium text-right",children:[h.commercialRecyclingFee.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-600",children:[l.jsxs("div",{className:"flex justify-between items-baseline font-semibold",children:[l.jsx("span",{className:"text-gray-900 dark:text-white",children:"Итого с утилизационным сбором:"}),l.jsxs("span",{className:"text-red-500 text-right",children:[h.total.toLocaleString()," ₽"]})]}),l.jsxs("div",{className:"flex justify-between items-baseline font-semibold text-gray-500 dark:text-gray-400",children:[l.jsx("span",{children:"Итого с утилизационным сбором (перепродажа):"}),l.jsxs("span",{className:"text-right",children:[h.totalWithCommercial.toLocaleString()," ₽"]})]})]})]}),l.jsx("button",{onClick:N,className:"w-full mt-4 bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition",children:"Получить точный расчет у менеджера"})]})]})]})}function FN(){return l.jsx("section",{id:"services",className:"py-6 md:py-12 bg-white dark:bg-gray-900",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-6 md:mb-8 text-gray-900 dark:text-white",children:"Наши услуги"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 md:gap-4",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 md:p-4 hover:shadow-lg transition",children:[l.jsx(bi,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500 mb-2 md:mb-3"}),l.jsx("h3",{className:"text-base md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Автомобили из Китая"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300",children:"Подбор и доставка автомобилей из Китая"})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 md:p-4 hover:shadow-lg transition",children:[l.jsx(bi,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500 mb-2 md:mb-3"}),l.jsx("h3",{className:"text-base md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Автомобили из Кореи"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300",children:"Импорт автомобилей из Южной Кореи"})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 md:p-4 hover:shadow-lg transition",children:[l.jsx(bi,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500 mb-2 md:mb-3"}),l.jsx("h3",{className:"text-base md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Автомобили из Японии"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300",children:"Доставка санкционных и несанкционных авто"})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 md:p-4 hover:shadow-lg transition",children:[l.jsx(Yy,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500 mb-2 md:mb-3"}),l.jsx("h3",{className:"text-base md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Грузовые автомобили"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300",children:"Импорт грузовиков из Азии"})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 md:p-4 hover:shadow-lg transition",children:[l.jsx(J2,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500 mb-2 md:mb-3"}),l.jsx("h3",{className:"text-base md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Спецтехника"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300",children:"Поставка строительной техники"})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 md:p-4 hover:shadow-lg transition",children:[l.jsx(Qy,{className:"w-8 h-8 md:w-10 md:h-10 text-red-500 mb-2 md:mb-3"}),l.jsx("h3",{className:"text-base md:text-lg font-semibold mb-1 md:mb-2 text-gray-900 dark:text-white",children:"Запчасти из Азии"}),l.jsx("p",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-300",children:"Подбор и доставка запчастей"})]})]}),l.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[l.jsx("a",{href:"https://wa.me/79140744300",target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white px-6 py-2 rounded-lg hover:bg-[#128C7E] transition-colors text-center text-sm",children:"WhatsApp"}),l.jsx("a",{href:"https://t.me/SGVAutoImport",target:"_blank",rel:"noopener noreferrer",className:"bg-[#0088cc] text-white px-6 py-2 rounded-lg hover:bg-[#0077b5] transition-colors text-center text-sm",children:"Telegram"})]})]})})}function $r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Rs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const kv=6048e5,$N=864e5;let UN={};function Uc(){return UN}function Os(t,e){var o,c,f,u;const r=Uc(),n=(e==null?void 0:e.weekStartsOn)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(f=r.locale)==null?void 0:f.options)==null?void 0:u.weekStartsOn)??0,s=$r(t),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Vl(t){return Os(t,{weekStartsOn:1})}function jv(t){const e=$r(t),r=e.getFullYear(),n=Rs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Vl(n),i=Rs(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const a=Vl(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function bp(t){const e=$r(t);return e.setHours(0,0,0,0),e}function _p(t){const e=$r(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function zN(t,e){const r=bp(t),n=bp(e),s=+r-_p(r),i=+n-_p(n);return Math.round((s-i)/$N)}function BN(t){const e=jv(t),r=Rs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Vl(r)}function VN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function WN(t){if(!VN(t)&&typeof t!="number")return!1;const e=$r(t);return!isNaN(Number(e))}function HN(t){const e=$r(t),r=Rs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const qN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GN=(t,e,r)=>{let n;const s=qN[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _i(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const ZN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YN={date:_i({formats:ZN,defaultWidth:"full"}),time:_i({formats:QN,defaultWidth:"full"}),dateTime:_i({formats:KN,defaultWidth:"full"})},JN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XN=(t,e,r,n)=>JN[t];function Zr(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[o]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const eS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aS=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},oS={ordinalNumber:aS,era:Zr({values:eS,defaultWidth:"wide"}),quarter:Zr({values:tS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zr({values:rS,defaultWidth:"wide"}),day:Zr({values:nS,defaultWidth:"wide"}),dayPeriod:Zr({values:sS,defaultWidth:"wide",formattingValues:iS,defaultFormattingWidth:"wide"})};function Qr(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?cS(o,d=>d.test(a)):lS(o,d=>d.test(a));let f;f=t.valueCallback?t.valueCallback(c):c,f=r.valueCallback?r.valueCallback(f):f;const u=e.slice(a.length);return{value:f,rest:u}}}function lS(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function cS(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Nv(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const uS=/^(\d+)(th|st|nd|rd)?/i,dS=/\d+/i,fS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hS={any:[/^b/i,/^(a|c)/i]},mS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pS={any:[/1/i,/2/i,/3/i,/4/i]},gS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_S={ordinalNumber:Nv({matchPattern:uS,parsePattern:dS,valueCallback:t=>parseInt(t,10)}),era:Qr({matchPatterns:fS,defaultMatchWidth:"wide",parsePatterns:hS,defaultParseWidth:"any"}),quarter:Qr({matchPatterns:mS,defaultMatchWidth:"wide",parsePatterns:pS,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qr({matchPatterns:gS,defaultMatchWidth:"wide",parsePatterns:yS,defaultParseWidth:"any"}),day:Qr({matchPatterns:vS,defaultMatchWidth:"wide",parsePatterns:xS,defaultParseWidth:"any"}),dayPeriod:Qr({matchPatterns:wS,defaultMatchWidth:"any",parsePatterns:bS,defaultParseWidth:"any"})},kS={code:"en-US",formatDistance:GN,formatLong:YN,formatRelative:XN,localize:oS,match:_S,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jS(t){const e=$r(t);return zN(e,HN(e))+1}function NS(t){const e=$r(t),r=+Vl(e)-+BN(e);return Math.round(r/kv)+1}function Sv(t,e){var u,d,h,m;const r=$r(t),n=r.getFullYear(),s=Uc(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=Rs(t,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=Os(a,e),c=Rs(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const f=Os(c,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function SS(t,e){var o,c,f,u;const r=Uc(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(f=r.locale)==null?void 0:f.options)==null?void 0:u.firstWeekContainsDate)??1,s=Sv(t,e),i=Rs(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Os(i,e)}function ES(t,e){const r=$r(t),n=+Os(r,e)-+SS(r,e);return Math.round(n/kv)+1}function Be(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Sn={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Be(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Be(r+1,2)},d(t,e){return Be(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Be(t.getHours()%12||12,e.length)},H(t,e){return Be(t.getHours(),e.length)},m(t,e){return Be(t.getMinutes(),e.length)},s(t,e){return Be(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Be(s,e.length)}},Qs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kp={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Sn.y(t,e)},Y:function(t,e,r,n){const s=Sv(t,n),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Be(a,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Be(i,e.length)},R:function(t,e){const r=jv(t);return Be(r,e.length)},u:function(t,e){const r=t.getFullYear();return Be(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Sn.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=ES(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Be(s,e.length)},I:function(t,e,r){const n=NS(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Be(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Sn.d(t,e)},D:function(t,e,r){const n=jS(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Be(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Be(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Be(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Be(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Qs.noon:n===0?s=Qs.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Qs.evening:n>=12?s=Qs.afternoon:n>=4?s=Qs.morning:s=Qs.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Sn.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Sn.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sn.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Sn.s(t,e)},S:function(t,e){return Sn.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Np(n);case"XXXX":case"XX":return fs(n);case"XXXXX":case"XXX":default:return fs(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Np(n);case"xxxx":case"xx":return fs(n);case"xxxxx":case"xxx":default:return fs(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jp(n,":");case"OOOO":default:return"GMT"+fs(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jp(n,":");case"zzzz":default:return"GMT"+fs(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Be(n,e.length)},T:function(t,e,r){const n=t.getTime();return Be(n,e.length)}};function jp(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Be(i,2)}function Np(t,e){return t%60===0?(t>0?"-":"+")+Be(Math.abs(t)/60,2):fs(t,e)}function fs(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Be(Math.trunc(n/60),2),i=Be(n%60,2);return r+s+e+i}const Sp=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ev=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CS=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Sp(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Sp(n,e)).replace("{{time}}",Ev(s,e))},TS={p:Ev,P:CS},AS=/^D+$/,PS=/^Y+$/,RS=["D","DD","YY","YYYY"];function OS(t){return AS.test(t)}function IS(t){return PS.test(t)}function LS(t,e,r){const n=DS(t,e,r);if(console.warn(n),RS.includes(t))throw new RangeError(n)}function DS(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$S=/^'([^]*?)'?$/,US=/''/g,zS=/[a-zA-Z]/;function ks(t,e,r){var u,d,h,m,p,v,w,g;const n=Uc(),s=(r==null?void 0:r.locale)??n.locale??kS,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((v=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((g=(w=n.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0,o=$r(t);if(!WN(o))throw new RangeError("Invalid time value");let c=e.match(FS).map(y=>{const x=y[0];if(x==="p"||x==="P"){const k=TS[x];return k(y,s.formatLong)}return y}).join("").match(MS).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:BS(y)};if(kp[x])return{isToken:!0,value:y};if(x.match(zS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const f={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const x=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&IS(x)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&OS(x))&&LS(x,e,String(t));const k=kp[x[0]];return k(o,x,s.localize,f)}).join("")}function BS(t){const e=t.match($S);return e?e[1].replace(US,"'"):t}function Ep(t,e,r){const n=Os(t,r),s=Os(e,r);return+n==+s}function la(t,e){if(t.one!==void 0&&e===1)return t.one;const r=e%10,n=e%100;return r===1&&n!==11?t.singularNominative.replace("{{count}}",String(e)):r>=2&&r<=4&&(n<10||n>20)?t.singularGenitive.replace("{{count}}",String(e)):t.pluralGenitive.replace("{{count}}",String(e))}function Ft(t){return(e,r)=>r!=null&&r.addSuffix?r.comparison&&r.comparison>0?t.future?la(t.future,e):"через "+la(t.regular,e):t.past?la(t.past,e):la(t.regular,e)+" назад":la(t.regular,e)}const VS={lessThanXSeconds:Ft({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:Ft({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(t,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:Ft({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:Ft({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:Ft({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:Ft({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:Ft({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:Ft({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:Ft({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:Ft({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:Ft({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:Ft({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:Ft({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:Ft({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:Ft({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},WS=(t,e,r)=>VS[t](e,r),HS={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},qS={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},GS={any:"{{date}}, {{time}}"},ZS={date:_i({formats:HS,defaultWidth:"full"}),time:_i({formats:qS,defaultWidth:"full"}),dateTime:_i({formats:GS,defaultWidth:"any"})},dh=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function QS(t){const e=dh[t];switch(t){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function Cp(t){const e=dh[t];return t===2?"'во "+e+" в' p":"'в "+e+" в' p"}function KS(t){const e=dh[t];switch(t){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const YS={lastWeek:(t,e,r)=>{const n=t.getDay();return Ep(t,e,r)?Cp(n):QS(n)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(t,e,r)=>{const n=t.getDay();return Ep(t,e,r)?Cp(n):KS(n)},other:"P"},JS=(t,e,r,n)=>{const s=YS[t];return typeof s=="function"?s(e,r,n):s},XS={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},eE={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},tE={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},rE={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},nE={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},sE={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},iE={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},aE=(t,e)=>{const r=Number(t),n=e==null?void 0:e.unit;let s;return n==="date"?s="-е":n==="week"||n==="minute"||n==="second"?s="-я":s="-й",r+s},oE={ordinalNumber:aE,era:Zr({values:XS,defaultWidth:"wide"}),quarter:Zr({values:eE,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zr({values:tE,defaultWidth:"wide",formattingValues:rE,defaultFormattingWidth:"wide"}),day:Zr({values:nE,defaultWidth:"wide"}),dayPeriod:Zr({values:sE,defaultWidth:"any",formattingValues:iE,defaultFormattingWidth:"wide"})},lE=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,cE=/\d+/i,uE={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},dE={any:[/^д/i,/^н/i]},fE={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},hE={any:[/1/i,/2/i,/3/i,/4/i]},mE={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},pE={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},gE={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},yE={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},vE={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},xE={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},wE={ordinalNumber:Nv({matchPattern:lE,parsePattern:cE,valueCallback:t=>parseInt(t,10)}),era:Qr({matchPatterns:uE,defaultMatchWidth:"wide",parsePatterns:dE,defaultParseWidth:"any"}),quarter:Qr({matchPatterns:fE,defaultMatchWidth:"wide",parsePatterns:hE,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qr({matchPatterns:mE,defaultMatchWidth:"wide",parsePatterns:pE,defaultParseWidth:"any"}),day:Qr({matchPatterns:gE,defaultMatchWidth:"wide",parsePatterns:yE,defaultParseWidth:"any"}),dayPeriod:Qr({matchPatterns:vE,defaultMatchWidth:"wide",parsePatterns:xE,defaultParseWidth:"any"})},Wl={code:"ru",formatDistance:WS,formatLong:ZS,formatRelative:JS,localize:oE,match:wE,options:{weekStartsOn:1,firstWeekContainsDate:1}},Tp=[{id:"1",title:"Открыли новый офис во Владивостоке",excerpt:"Мы расширяем нашу сеть представительств для удобства клиентов",content:"Мы рады сообщить, что открыли новый офис во Владивостоке для удобства наших клиентов. Теперь вы можете посетить нас по адресу: г. Владивосток, ул. Русская 99.",image_url:"https://images.unsplash.com/photo-1577495508048-b635879837f1?auto=format&fit=crop&w=800",category:"Компания",created_at:"2024-02-15"},{id:"2",title:"Новые правила ввоза автомобилей",excerpt:"Изменения в таможенном законодательстве с 2024 года",content:"С 2024 года вступают в силу новые правила ввоза автомобилей на территорию РФ. Основные изменения касаются таможенных пошлин, экологических требований и процедуры оформления.",image_url:"https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?auto=format&fit=crop&w=800",category:"Законодательство",created_at:"2024-02-10"}],bE=t=>{if(!t)return l.jsx(l.Fragment,{});const n=t.replace(/&laquo;/g,"«").replace(/&raquo;/g,"»").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&nbsp;/g," ").replace(/\n/g," ").replace(/\s+/g," ").replace(/<!-- wp:paragraph -->/g,"").replace(/<!-- \/wp:paragraph -->/g,"").replace(/<!-- wp:list -->/g,"").replace(/<!-- \/wp:list -->/g,"").replace(/<!-- wp:list-item -->/g,"").replace(/<!-- \/wp:list-item -->/g,"").replace(/<\/?[^>]+(>|$)/g,"").trim().split(".").filter(s=>s.trim()).map(s=>s.trim()+".");return l.jsx("div",{className:"prose dark:prose-invert max-w-none",children:n.map((s,i)=>l.jsx("p",{className:"mb-4 text-gray-900 dark:text-gray-100",children:s},i))})};function _E(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState(null),[a,o]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{f()},[]);async function f(){n(!0);try{const{data:h,error:m}=await Te.from("news").select("*").order("created_at",{ascending:!1});if(m)if(m.code==="42P01")console.log("News table doesn't exist yet, using sample data"),e(Tp);else throw m;else e(h||[])}catch(h){console.error("Error fetching news:",h),e(Tp)}finally{n(!1)}}const u=h=>{if(c.current){const p=c.current.scrollLeft+(h==="left"?-400:400);c.current.scrollTo({left:p,behavior:"smooth"})}},d=h=>{i(h),o(!0)};return l.jsxs("section",{className:"py-8 md:py-12 bg-gray-50 dark:bg-gray-900",children:[l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Новости"}),r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):t.length>0?l.jsxs("div",{className:"relative",children:[l.jsx("button",{onClick:()=>u("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 -ml-4",children:l.jsx(As,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("div",{ref:c,className:"overflow-x-auto scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.jsx("div",{className:"flex gap-4 px-4",children:t.map(h=>l.jsxs("article",{className:"flex-none w-[300px] bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition cursor-pointer",onClick:()=>d(h),children:[l.jsx("img",{src:h.image_url,alt:h.title,className:"w-full h-48 object-cover",onError:m=>{m.target.src="https://via.placeholder.com/300x200?text=No+Image"}}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:[l.jsx(Ka,{className:"w-4 h-4 mr-2"}),ks(new Date(h.created_at),"d MMMM yyyy",{locale:Wl}),l.jsx("span",{className:"mx-2",children:"•"}),h.category]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:h.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:h.excerpt}),l.jsxs("button",{className:"text-red-500 hover:text-red-600 transition-colors flex items-center",children:["Читать далее",l.jsx(bn,{className:"w-4 h-4 ml-1"})]})]})]},h.id))})}),l.jsx("button",{onClick:()=>u("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 -mr-4",children:l.jsx(bn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})]}):l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Новости пока не добавлены"})]}),a&&s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:s.title}),l.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(rn,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-4",children:[l.jsx(Ka,{className:"w-4 h-4 mr-2"}),ks(new Date(s.created_at),"d MMMM yyyy",{locale:Wl}),l.jsx("span",{className:"mx-2",children:"•"}),s.category]}),l.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-auto rounded-lg mb-6",onError:h=>{h.target.src="https://via.placeholder.com/800x400?text=No+Image"}}),bE(s.content)]})]})})]})}function kE({review:t,onClose:e}){const[r,n]=V.useState(0),s=t.images||(t.image_url?[t.image_url]:[]),i=()=>{s.length>1&&n(c=>(c+1)%s.length)},a=()=>{s.length>1&&n(c=>(c-1+s.length)%s.length)},o=c=>{if(!c)return null;const u=(c.match(/<!-- wp:paragraph -->\s*<p>(.*?)<\/p>\n<!-- \/wp:paragraph -->/gs)||[]).map((p,v)=>{var g;const w=((g=p.match(/<p>(.*?)<\/p>/s))==null?void 0:g[1])||"";return l.jsx("p",{className:"mb-4 text-gray-900 dark:text-gray-100",children:w},`p-${v}`)}),h=(c.match(/<!-- wp:list -->\s*<ul>(.*?)<\/ul>\n<!-- \/wp:list -->/gs)||[]).map((p,v)=>{const g=(p.match(/<li>(.*?)<\/li>/g)||[]).map((y,x)=>{var _;const k=((_=y.match(/<li>(.*?)<\/li>/))==null?void 0:_[1])||"";return l.jsx("li",{className:"ml-5 list-disc text-gray-900 dark:text-gray-100",children:k},x)});return l.jsx("ul",{className:"mb-4",children:g},`list-${v}`)}),m=[...u,...h];return l.jsx("div",{className:"review-content text-gray-900 dark:text-gray-100",children:m.length>0?m:l.jsx("p",{children:c})})};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.author}),l.jsx("div",{className:"flex items-center",children:[...Array(t.rating)].map((c,f)=>l.jsx(Ul,{className:"w-4 h-4 text-yellow-400 fill-current"},f))})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:l.jsx(rn,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"prose dark:prose-invert max-w-none mb-4",children:o(t.text)}),s.length>0&&l.jsxs("div",{className:"relative mb-4",children:[l.jsx("img",{src:s[r],alt:`Отзыв от ${t.author}`,className:"w-full rounded-lg max-h-[400px] object-contain"}),s.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:a,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 rounded-full p-2 text-white hover:bg-black/70",children:l.jsx(As,{className:"w-5 h-5"})}),l.jsx("button",{onClick:i,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 rounded-full p-2 text-white hover:bg-black/70",children:l.jsx(bn,{className:"w-5 h-5"})}),l.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-1",children:s.map((c,f)=>l.jsx("div",{className:`w-2 h-2 rounded-full ${f===r?"bg-white":"bg-white/50"}`},f))})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[l.jsx("span",{children:new Date(t.created_at).toLocaleDateString()}),l.jsxs("a",{href:"#",className:"text-red-500 hover:text-red-600 flex items-center",children:[l.jsx(Pc,{className:"w-4 h-4 mr-1"}),t.source]})]})]})]})})}function jE(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),s=V.useRef(null),[i,a]=V.useState(null);V.useEffect(()=>{o()},[]);async function o(){n(!0);try{const{data:u,error:d}=await Te.from("reviews").select("*").order("created_at",{ascending:!1});if(d)throw d;e(u||[])}catch(u){console.error("Error fetching reviews:",u)}finally{n(!1)}}const c=u=>{if(s.current){const h=s.current.scrollLeft+(u==="left"?-400:400);s.current.scrollTo({left:h,behavior:"smooth"})}},f=u=>{if(!u)return"";let d=u.replace(/<!-- wp:paragraph -->\n<p>(.*?)<\/p>\n<!-- \/wp:paragraph -->/g,"$1 ").replace(/<!-- wp:list -->\n<ul>(.*?)<\/ul>\n<!-- \/wp:list -->/g,"$1 ").replace(/<!-- wp:list-item -->\n<li>(.*?)<\/li>\n<!-- \/wp:list-item -->/g,"• $1 ");return d=d.replace(/<[^>]*>/g,""),d.trim()};return l.jsxs("section",{id:"reviews",className:"py-16 bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-900 dark:text-white",children:"Отзывы клиентов"}),r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):t.length>0?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 -ml-4",children:l.jsx("button",{onClick:()=>c("left"),className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(As,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})}),l.jsx("div",{ref:s,className:"overflow-x-auto scrollbar-hide scroll-smooth px-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.jsx("div",{className:"flex gap-4 md:gap-6",children:t.map(u=>{var d;return l.jsx("div",{className:"flex-none w-[280px] md:w-[400px]",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 md:p-6 border border-gray-200 dark:border-gray-700 h-full cursor-pointer hover:shadow-lg transition",onClick:()=>a(u),children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:u.author}),l.jsx("div",{className:"flex items-center",children:[...Array(u.rating)].map((h,m)=>l.jsx(Ul,{className:"w-4 h-4 text-yellow-400 fill-current"},m))})]}),l.jsxs("a",{href:"#",className:"text-red-500 hover:text-red-600 flex items-center",children:[l.jsx(Pc,{className:"w-4 h-4 mr-1"}),u.source]})]}),(u.image_url||u.images&&u.images.length>0)&&l.jsxs("div",{className:"mb-4 aspect-video rounded-lg overflow-hidden",children:[l.jsx("img",{src:u.image_url||((d=u.images)==null?void 0:d[0]),alt:`Отзыв от ${u.author}`,className:"w-full h-full object-cover"}),u.images&&u.images.length>1&&l.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:["+",u.images.length-1]})]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-4",children:f(u.text)}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(u.created_at).toLocaleDateString()})]})},u.id)})})}),l.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 -mr-4",children:l.jsx("button",{onClick:()=>c("right"),className:"bg-white dark:bg-gray-800 rounded-full p-2 shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:l.jsx(bn,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})})})]}):l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"Отзывы пока не добавлены"})]}),i&&l.jsx(kE,{review:i,onClose:()=>a(null)})]})}function NE(){return l.jsx("section",{className:"py-16 bg-white dark:bg-gray-900",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 z-0",children:l.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?auto=format&fit=crop&q=80&w=2000",alt:"Luxury car",className:"w-full h-full object-cover opacity-20"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:"Бесплатная консультация по подбору автомобиля"}),l.jsx("p",{className:"text-gray-300 mb-8 text-lg",children:"Наши специалисты помогут выбрать идеальный автомобиль, учитывая ваши предпочтения и бюджет. Расскажем о текущих трендах рынка, особенностях различных моделей и поможем с оформлением документов."}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("button",{className:"bg-red-500 text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors flex items-center",children:[l.jsx(Pc,{className:"w-5 h-5 mr-2"}),"Записаться на консультацию"]}),l.jsx("a",{href:"https://wa.me/79140744300",target:"_blank",rel:"noopener noreferrer",className:"bg-[#25D366] text-white px-6 py-3 rounded-lg hover:bg-[#128C7E] transition-colors",children:"Написать в WhatsApp"}),l.jsx("a",{href:"https://t.me/SGVAutoImport",target:"_blank",rel:"noopener noreferrer",className:"bg-[#0088cc] text-white px-6 py-3 rounded-lg hover:bg-[#0077b5] transition-colors",children:"Написать в Telegram"})]})]})]})})})}var _o=t=>t.type==="checkbox",vs=t=>t instanceof Date,Ut=t=>t==null;const Cv=t=>typeof t=="object";var ut=t=>!Ut(t)&&!Array.isArray(t)&&Cv(t)&&!vs(t),SE=t=>ut(t)&&t.target?_o(t.target)?t.target.checked:t.target.value:t,EE=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,CE=(t,e)=>t.has(EE(e)),TE=t=>{const e=t.constructor&&t.constructor.prototype;return ut(e)&&e.hasOwnProperty("isPrototypeOf")},fh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yr(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(fh&&(t instanceof Blob||n))&&(r||ut(t)))if(e=r?[]:{},!r&&!TE(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=yr(t[s]));else return t;return e}var zc=t=>Array.isArray(t)?t.filter(Boolean):[],ht=t=>t===void 0,pe=(t,e,r)=>{if(!e||!ut(t))return r;const n=zc(e.split(/[,[\].]+?/)).reduce((s,i)=>Ut(s)?s:s[i],t);return ht(n)||n===t?ht(t[e])?r:t[e]:n},Hr=t=>typeof t=="boolean",hh=t=>/^\w*$/.test(t),Tv=t=>zc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),qe=(t,e,r)=>{let n=-1;const s=hh(e)?[e]:Tv(e),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let c=r;if(n!==a){const f=t[o];c=ut(f)||Array.isArray(f)?f:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=c,t=t[o]}return t};const Ap={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ln={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};nr.createContext(null);var AE=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==Pr.all&&(e._proxyFormState[a]=!n||Pr.all),t[a]}});return s},Gt=t=>ut(t)&&!Object.keys(t).length,PE=(t,e,r,n)=>{r(t);const{name:s,...i}=t;return Gt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===Pr.all)},ul=t=>Array.isArray(t)?t:[t];function RE(t){const e=nr.useRef(t);e.current=t,nr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}var Yr=t=>typeof t=="string",OE=(t,e,r,n,s)=>Yr(t)?(n&&e.watch.add(t),pe(r,t,s)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),pe(r,i))):(n&&(e.watchAll=!0),r),Av=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Pp=t=>({isOnSubmit:!t||t===Pr.onSubmit,isOnBlur:t===Pr.onBlur,isOnChange:t===Pr.onChange,isOnAll:t===Pr.all,isOnTouch:t===Pr.onTouched}),Rp=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Ta=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const i=pe(t,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Ta(o,e))break}else if(ut(o)&&Ta(o,e))break}}};var IE=(t,e,r)=>{const n=ul(pe(t,r));return qe(n,"root",e[r]),qe(t,r,n),t},mh=t=>t.type==="file",Kr=t=>typeof t=="function",Hl=t=>{if(!fh)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dl=t=>Yr(t),ph=t=>t.type==="radio",ql=t=>t instanceof RegExp;const Op={value:!1,isValid:!1},Ip={value:!0,isValid:!0};var Pv=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ht(t[0].attributes.value)?ht(t[0].value)||t[0].value===""?Ip:{value:t[0].value,isValid:!0}:Ip:Op}return Op};const Lp={isValid:!1,value:null};var Rv=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Lp):Lp;function Dp(t,e,r="validate"){if(dl(t)||Array.isArray(t)&&t.every(dl)||Hr(t)&&!t)return{type:r,message:dl(t)?t:"",ref:e}}var Ks=t=>ut(t)&&!ql(t)?t:{value:t,message:""},Mp=async(t,e,r,n,s,i)=>{const{ref:a,refs:o,required:c,maxLength:f,minLength:u,min:d,max:h,pattern:m,validate:p,name:v,valueAsNumber:w,mount:g}=t._f,y=pe(r,v);if(!g||e.has(v))return{};const x=o?o[0]:a,k=R=>{s&&x.reportValidity&&(x.setCustomValidity(Hr(R)?"":R||""),x.reportValidity())},_={},S=ph(a),O=_o(a),b=S||O,N=(w||mh(a))&&ht(a.value)&&ht(y)||Hl(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,C=Av.bind(null,v,n,_),T=(R,L,I,H=ln.maxLength,A=ln.minLength)=>{const E=R?L:I;_[v]={type:R?H:A,message:E,ref:a,...C(R?H:A,E)}};if(i?!Array.isArray(y)||!y.length:c&&(!b&&(N||Ut(y))||Hr(y)&&!y||O&&!Pv(o).isValid||S&&!Rv(o).isValid)){const{value:R,message:L}=dl(c)?{value:!!c,message:c}:Ks(c);if(R&&(_[v]={type:ln.required,message:L,ref:x,...C(ln.required,L)},!n))return k(L),_}if(!N&&(!Ut(d)||!Ut(h))){let R,L;const I=Ks(h),H=Ks(d);if(!Ut(y)&&!isNaN(y)){const A=a.valueAsNumber||y&&+y;Ut(I.value)||(R=A>I.value),Ut(H.value)||(L=A<H.value)}else{const A=a.valueAsDate||new Date(y),E=$=>new Date(new Date().toDateString()+" "+$),B=a.type=="time",z=a.type=="week";Yr(I.value)&&y&&(R=B?E(y)>E(I.value):z?y>I.value:A>new Date(I.value)),Yr(H.value)&&y&&(L=B?E(y)<E(H.value):z?y<H.value:A<new Date(H.value))}if((R||L)&&(T(!!R,I.message,H.message,ln.max,ln.min),!n))return k(_[v].message),_}if((f||u)&&!N&&(Yr(y)||i&&Array.isArray(y))){const R=Ks(f),L=Ks(u),I=!Ut(R.value)&&y.length>+R.value,H=!Ut(L.value)&&y.length<+L.value;if((I||H)&&(T(I,R.message,L.message),!n))return k(_[v].message),_}if(m&&!N&&Yr(y)){const{value:R,message:L}=Ks(m);if(ql(R)&&!y.match(R)&&(_[v]={type:ln.pattern,message:L,ref:a,...C(ln.pattern,L)},!n))return k(L),_}if(p){if(Kr(p)){const R=await p(y,r),L=Dp(R,x);if(L&&(_[v]={...L,...C(ln.validate,L.message)},!n))return k(L.message),_}else if(ut(p)){let R={};for(const L in p){if(!Gt(R)&&!n)break;const I=Dp(await p[L](y,r),x,L);I&&(R={...I,...C(L,I.message)},k(I.message),n&&(_[v]=R))}if(!Gt(R)&&(_[v]={ref:x,...R},!n))return _}}return k(!0),_};function LE(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ht(t)?n++:t[e[n++]];return t}function DE(t){for(const e in t)if(t.hasOwnProperty(e)&&!ht(t[e]))return!1;return!0}function gt(t,e){const r=Array.isArray(e)?e:hh(e)?[e]:Tv(e),n=r.length===1?t:LE(t,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(ut(n)&&Gt(n)||Array.isArray(n)&&DE(n))&&gt(t,r.slice(0,-1)),t}var Pu=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Gd=t=>Ut(t)||!Cv(t);function Ln(t,e){if(Gd(t)||Gd(e))return t===e;if(vs(t)&&vs(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const i=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=e[s];if(vs(i)&&vs(a)||ut(i)&&ut(a)||Array.isArray(i)&&Array.isArray(a)?!Ln(i,a):i!==a)return!1}}return!0}var Ov=t=>t.type==="select-multiple",ME=t=>ph(t)||_o(t),Ru=t=>Hl(t)&&t.isConnected,Iv=t=>{for(const e in t)if(Kr(t[e]))return!0;return!1};function Gl(t,e={}){const r=Array.isArray(t);if(ut(t)||r)for(const n in t)Array.isArray(t[n])||ut(t[n])&&!Iv(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Gl(t[n],e[n])):Ut(t[n])||(e[n]=!0);return e}function Lv(t,e,r){const n=Array.isArray(t);if(ut(t)||n)for(const s in t)Array.isArray(t[s])||ut(t[s])&&!Iv(t[s])?ht(e)||Gd(r[s])?r[s]=Array.isArray(t[s])?Gl(t[s],[]):{...Gl(t[s])}:Lv(t[s],Ut(e)?{}:e[s],r[s]):r[s]=!Ln(t[s],e[s]);return r}var ca=(t,e)=>Lv(t,e,Gl(e)),Dv=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ht(t)?t:e?t===""?NaN:t&&+t:r&&Yr(t)?new Date(t):n?n(t):t;function Ou(t){const e=t.ref;return mh(e)?e.files:ph(e)?Rv(t.refs).value:Ov(e)?[...e.selectedOptions].map(({value:r})=>r):_o(e)?Pv(t.refs).value:Dv(ht(e.value)?t.ref.value:e.value,t)}var FE=(t,e,r,n)=>{const s={};for(const i of t){const a=pe(e,i);a&&qe(s,i,a._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},ua=t=>ht(t)?t:ql(t)?t.source:ut(t)?ql(t.value)?t.value.source:t.value:t;const Fp="AsyncFunction";var $E=t=>!!t&&!!t.validate&&!!(Kr(t.validate)&&t.validate.constructor.name===Fp||ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Fp)),UE=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function $p(t,e,r){const n=pe(t,r);if(n||hh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=pe(e,i),o=pe(t,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:r}}var zE=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,BE=(t,e)=>!zc(pe(t,e)).length&&gt(t,e);const VE={mode:Pr.onSubmit,reValidateMode:Pr.onChange,shouldFocusError:!0};function WE(t={}){let e={...VE,...t},r={submitCount:0,isDirty:!1,isLoading:Kr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=ut(e.defaultValues)||ut(e.values)?yr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:yr(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,f=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:Pu(),array:Pu(),state:Pu()},h=Pp(e.mode),m=Pp(e.reValidateMode),p=e.criteriaMode===Pr.all,v=D=>Z=>{clearTimeout(f),f=setTimeout(D,Z)},w=async D=>{if(!e.disabled&&(u.isValid||D)){const Z=e.resolver?Gt((await b()).errors):await C(n,!0);Z!==r.isValid&&d.state.next({isValid:Z})}},g=(D,Z)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((D||Array.from(o.mount)).forEach(Q=>{Q&&(Z?qe(r.validatingFields,Q,Z):gt(r.validatingFields,Q))}),d.state.next({validatingFields:r.validatingFields,isValidating:!Gt(r.validatingFields)}))},y=(D,Z=[],Q,se,oe=!0,ee=!0)=>{if(se&&Q&&!e.disabled){if(a.action=!0,ee&&Array.isArray(pe(n,D))){const fe=Q(pe(n,D),se.argA,se.argB);oe&&qe(n,D,fe)}if(ee&&Array.isArray(pe(r.errors,D))){const fe=Q(pe(r.errors,D),se.argA,se.argB);oe&&qe(r.errors,D,fe),BE(r.errors,D)}if(u.touchedFields&&ee&&Array.isArray(pe(r.touchedFields,D))){const fe=Q(pe(r.touchedFields,D),se.argA,se.argB);oe&&qe(r.touchedFields,D,fe)}u.dirtyFields&&(r.dirtyFields=ca(s,i)),d.state.next({name:D,isDirty:R(D,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qe(i,D,Z)},x=(D,Z)=>{qe(r.errors,D,Z),d.state.next({errors:r.errors})},k=D=>{r.errors=D,d.state.next({errors:r.errors,isValid:!1})},_=(D,Z,Q,se)=>{const oe=pe(n,D);if(oe){const ee=pe(i,D,ht(Q)?pe(s,D):Q);ht(ee)||se&&se.defaultChecked||Z?qe(i,D,Z?ee:Ou(oe._f)):H(D,ee),a.mount&&w()}},S=(D,Z,Q,se,oe)=>{let ee=!1,fe=!1;const we={name:D};if(!e.disabled){const $e=!!(pe(n,D)&&pe(n,D)._f&&pe(n,D)._f.disabled);if(!Q||se){u.isDirty&&(fe=r.isDirty,r.isDirty=we.isDirty=R(),ee=fe!==we.isDirty);const Ze=$e||Ln(pe(s,D),Z);fe=!!(!$e&&pe(r.dirtyFields,D)),Ze||$e?gt(r.dirtyFields,D):qe(r.dirtyFields,D,!0),we.dirtyFields=r.dirtyFields,ee=ee||u.dirtyFields&&fe!==!Ze}if(Q){const Ze=pe(r.touchedFields,D);Ze||(qe(r.touchedFields,D,Q),we.touchedFields=r.touchedFields,ee=ee||u.touchedFields&&Ze!==Q)}ee&&oe&&d.state.next(we)}return ee?we:{}},O=(D,Z,Q,se)=>{const oe=pe(r.errors,D),ee=u.isValid&&Hr(Z)&&r.isValid!==Z;if(e.delayError&&Q?(c=v(()=>x(D,Q)),c(e.delayError)):(clearTimeout(f),c=null,Q?qe(r.errors,D,Q):gt(r.errors,D)),(Q?!Ln(oe,Q):oe)||!Gt(se)||ee){const fe={...se,...ee&&Hr(Z)?{isValid:Z}:{},errors:r.errors,name:D};r={...r,...fe},d.state.next(fe)}},b=async D=>{g(D,!0);const Z=await e.resolver(i,e.context,FE(D||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(D),Z},N=async D=>{const{errors:Z}=await b(D);if(D)for(const Q of D){const se=pe(Z,Q);se?qe(r.errors,Q,se):gt(r.errors,Q)}else r.errors=Z;return Z},C=async(D,Z,Q={valid:!0})=>{for(const se in D){const oe=D[se];if(oe){const{_f:ee,...fe}=oe;if(ee){const we=o.array.has(ee.name),$e=oe._f&&$E(oe._f);$e&&u.validatingFields&&g([se],!0);const Ze=await Mp(oe,o.disabled,i,p,e.shouldUseNativeValidation&&!Z,we);if($e&&u.validatingFields&&g([se]),Ze[ee.name]&&(Q.valid=!1,Z))break;!Z&&(pe(Ze,ee.name)?we?IE(r.errors,Ze,ee.name):qe(r.errors,ee.name,Ze[ee.name]):gt(r.errors,ee.name))}!Gt(fe)&&await C(fe,Z,Q)}}return Q.valid},T=()=>{for(const D of o.unMount){const Z=pe(n,D);Z&&(Z._f.refs?Z._f.refs.every(Q=>!Ru(Q)):!Ru(Z._f.ref))&&ae(D)}o.unMount=new Set},R=(D,Z)=>!e.disabled&&(D&&Z&&qe(i,D,Z),!Ln(J(),s)),L=(D,Z,Q)=>OE(D,o,{...a.mount?i:ht(Z)?s:Yr(D)?{[D]:Z}:Z},Q,Z),I=D=>zc(pe(a.mount?i:s,D,e.shouldUnregister?pe(s,D,[]):[])),H=(D,Z,Q={})=>{const se=pe(n,D);let oe=Z;if(se){const ee=se._f;ee&&(!ee.disabled&&qe(i,D,Dv(Z,ee)),oe=Hl(ee.ref)&&Ut(Z)?"":Z,Ov(ee.ref)?[...ee.ref.options].forEach(fe=>fe.selected=oe.includes(fe.value)):ee.refs?_o(ee.ref)?ee.refs.length>1?ee.refs.forEach(fe=>(!fe.defaultChecked||!fe.disabled)&&(fe.checked=Array.isArray(oe)?!!oe.find(we=>we===fe.value):oe===fe.value)):ee.refs[0]&&(ee.refs[0].checked=!!oe):ee.refs.forEach(fe=>fe.checked=fe.value===oe):mh(ee.ref)?ee.ref.value="":(ee.ref.value=oe,ee.ref.type||d.values.next({name:D,values:{...i}})))}(Q.shouldDirty||Q.shouldTouch)&&S(D,oe,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&$(D)},A=(D,Z,Q)=>{for(const se in Z){const oe=Z[se],ee=`${D}.${se}`,fe=pe(n,ee);(o.array.has(D)||ut(oe)||fe&&!fe._f)&&!vs(oe)?A(ee,oe,Q):H(ee,oe,Q)}},E=(D,Z,Q={})=>{const se=pe(n,D),oe=o.array.has(D),ee=yr(Z);qe(i,D,ee),oe?(d.array.next({name:D,values:{...i}}),(u.isDirty||u.dirtyFields)&&Q.shouldDirty&&d.state.next({name:D,dirtyFields:ca(s,i),isDirty:R(D,ee)})):se&&!se._f&&!Ut(ee)?A(D,ee,Q):H(D,ee,Q),Rp(D,o)&&d.state.next({...r}),d.values.next({name:a.mount?D:void 0,values:{...i}})},B=async D=>{a.mount=!0;const Z=D.target;let Q=Z.name,se=!0;const oe=pe(n,Q),ee=()=>Z.type?Ou(oe._f):SE(D),fe=we=>{se=Number.isNaN(we)||vs(we)&&isNaN(we.getTime())||Ln(we,pe(i,Q,we))};if(oe){let we,$e;const Ze=ee(),He=D.type===Ap.BLUR||D.type===Ap.FOCUS_OUT,hr=!UE(oe._f)&&!e.resolver&&!pe(r.errors,Q)&&!oe._f.deps||zE(He,pe(r.touchedFields,Q),r.isSubmitted,m,h),it=Rp(Q,o,He);qe(i,Q,Ze),He?(oe._f.onBlur&&oe._f.onBlur(D),c&&c(0)):oe._f.onChange&&oe._f.onChange(D);const xt=S(Q,Ze,He,!1),jt=!Gt(xt)||it;if(!He&&d.values.next({name:Q,type:D.type,values:{...i}}),hr)return u.isValid&&(e.mode==="onBlur"&&He?w():He||w()),jt&&d.state.next({name:Q,...it?{}:xt});if(!He&&it&&d.state.next({...r}),e.resolver){const{errors:Mt}=await b([Q]);if(fe(Ze),se){const Ct=$p(r.errors,n,Q),mr=$p(Mt,n,Ct.name||Q);we=mr.error,Q=mr.name,$e=Gt(Mt)}}else g([Q],!0),we=(await Mp(oe,o.disabled,i,p,e.shouldUseNativeValidation))[Q],g([Q]),fe(Ze),se&&(we?$e=!1:u.isValid&&($e=await C(n,!0)));se&&(oe._f.deps&&$(oe._f.deps),O(Q,$e,we,xt))}},z=(D,Z)=>{if(pe(r.errors,Z)&&D.focus)return D.focus(),1},$=async(D,Z={})=>{let Q,se;const oe=ul(D);if(e.resolver){const ee=await N(ht(D)?D:oe);Q=Gt(ee),se=D?!oe.some(fe=>pe(ee,fe)):Q}else D?(se=(await Promise.all(oe.map(async ee=>{const fe=pe(n,ee);return await C(fe&&fe._f?{[ee]:fe}:fe)}))).every(Boolean),!(!se&&!r.isValid)&&w()):se=Q=await C(n);return d.state.next({...!Yr(D)||u.isValid&&Q!==r.isValid?{}:{name:D},...e.resolver||!D?{isValid:Q}:{},errors:r.errors}),Z.shouldFocus&&!se&&Ta(n,z,D?oe:o.mount),se},J=D=>{const Z={...a.mount?i:s};return ht(D)?Z:Yr(D)?pe(Z,D):D.map(Q=>pe(Z,Q))},K=(D,Z)=>({invalid:!!pe((Z||r).errors,D),isDirty:!!pe((Z||r).dirtyFields,D),error:pe((Z||r).errors,D),isValidating:!!pe(r.validatingFields,D),isTouched:!!pe((Z||r).touchedFields,D)}),ne=D=>{D&&ul(D).forEach(Z=>gt(r.errors,Z)),d.state.next({errors:D?r.errors:{}})},F=(D,Z,Q)=>{const se=(pe(n,D,{_f:{}})._f||{}).ref,oe=pe(r.errors,D)||{},{ref:ee,message:fe,type:we,...$e}=oe;qe(r.errors,D,{...$e,...Z,ref:se}),d.state.next({name:D,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&se&&se.focus&&se.focus()},U=(D,Z)=>Kr(D)?d.values.subscribe({next:Q=>D(L(void 0,Z),Q)}):L(D,Z,!0),ae=(D,Z={})=>{for(const Q of D?ul(D):o.mount)o.mount.delete(Q),o.array.delete(Q),Z.keepValue||(gt(n,Q),gt(i,Q)),!Z.keepError&&gt(r.errors,Q),!Z.keepDirty&&gt(r.dirtyFields,Q),!Z.keepTouched&&gt(r.touchedFields,Q),!Z.keepIsValidating&&gt(r.validatingFields,Q),!e.shouldUnregister&&!Z.keepDefaultValue&&gt(s,Q);d.values.next({values:{...i}}),d.state.next({...r,...Z.keepDirty?{isDirty:R()}:{}}),!Z.keepIsValid&&w()},xe=({disabled:D,name:Z,field:Q,fields:se})=>{(Hr(D)&&a.mount||D||o.disabled.has(Z))&&(D?o.disabled.add(Z):o.disabled.delete(Z),S(Z,Ou(Q?Q._f:pe(se,Z)._f),!1,!1,!0))},ke=(D,Z={})=>{let Q=pe(n,D);const se=Hr(Z.disabled)||Hr(e.disabled);return qe(n,D,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:D}},name:D,mount:!0,...Z}}),o.mount.add(D),Q?xe({field:Q,disabled:Hr(Z.disabled)?Z.disabled:e.disabled,name:D}):_(D,!0,Z.value),{...se?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:ua(Z.min),max:ua(Z.max),minLength:ua(Z.minLength),maxLength:ua(Z.maxLength),pattern:ua(Z.pattern)}:{},name:D,onChange:B,onBlur:B,ref:oe=>{if(oe){ke(D,Z),Q=pe(n,D);const ee=ht(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,fe=ME(ee),we=Q._f.refs||[];if(fe?we.find($e=>$e===ee):ee===Q._f.ref)return;qe(n,D,{_f:{...Q._f,...fe?{refs:[...we.filter(Ru),ee,...Array.isArray(pe(s,D))?[{}]:[]],ref:{type:ee.type,name:D}}:{ref:ee}}}),_(D,!1,void 0,ee)}else Q=pe(n,D,{}),Q._f&&(Q._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(CE(o.array,D)&&a.action)&&o.unMount.add(D)}}},be=()=>e.shouldFocusError&&Ta(n,z,o.mount),Fe=D=>{Hr(D)&&(d.state.next({disabled:D}),Ta(n,(Z,Q)=>{const se=pe(n,Q);se&&(Z.disabled=se._f.disabled||D,Array.isArray(se._f.refs)&&se._f.refs.forEach(oe=>{oe.disabled=se._f.disabled||D}))},0,!1))},Ge=(D,Z)=>async Q=>{let se;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let oe=yr(i);if(o.disabled.size)for(const ee of o.disabled)qe(oe,ee,void 0);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:fe}=await b();r.errors=ee,oe=fe}else await C(n);if(gt(r.errors,"root"),Gt(r.errors)){d.state.next({errors:{}});try{await D(oe,Q)}catch(ee){se=ee}}else Z&&await Z({...r.errors},Q),be(),setTimeout(be);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gt(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},et=(D,Z={})=>{pe(n,D)&&(ht(Z.defaultValue)?E(D,yr(pe(s,D))):(E(D,Z.defaultValue),qe(s,D,yr(Z.defaultValue))),Z.keepTouched||gt(r.touchedFields,D),Z.keepDirty||(gt(r.dirtyFields,D),r.isDirty=Z.defaultValue?R(D,yr(pe(s,D))):R()),Z.keepError||(gt(r.errors,D),u.isValid&&w()),d.state.next({...r}))},fr=(D,Z={})=>{const Q=D?yr(D):s,se=yr(Q),oe=Gt(D),ee=oe?s:se;if(Z.keepDefaultValues||(s=Q),!Z.keepValues){if(Z.keepDirtyValues){const fe=new Set([...o.mount,...Object.keys(ca(s,i))]);for(const we of Array.from(fe))pe(r.dirtyFields,we)?qe(ee,we,pe(i,we)):E(we,pe(ee,we))}else{if(fh&&ht(D))for(const fe of o.mount){const we=pe(n,fe);if(we&&we._f){const $e=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Hl($e)){const Ze=$e.closest("form");if(Ze){Ze.reset();break}}}}n={}}i=e.shouldUnregister?Z.keepDefaultValues?yr(s):{}:yr(ee),d.array.next({values:{...ee}}),d.values.next({values:{...ee}})}o={mount:Z.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Ln(D,s)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?ca(s,i):r.dirtyFields:Z.keepDefaultValues&&D?ca(s,D):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Dt=(D,Z)=>fr(Kr(D)?D(i):D,Z);return{control:{register:ke,unregister:ae,getFieldState:K,handleSubmit:Ge,setError:F,_executeSchema:b,_getWatch:L,_getDirty:R,_updateValid:w,_removeUnmounted:T,_updateFieldArray:y,_updateDisabledField:xe,_getFieldArray:I,_reset:fr,_resetDefaultValues:()=>Kr(e.defaultValues)&&e.defaultValues().then(D=>{Dt(D,e.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:D=>{r={...r,...D}},_disableForm:Fe,_subjects:d,_proxyFormState:u,_setErrors:k,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(D){a=D},get _defaultValues(){return s},get _names(){return o},set _names(D){o=D},get _formState(){return r},set _formState(D){r=D},get _options(){return e},set _options(D){e={...e,...D}}},trigger:$,register:ke,handleSubmit:Ge,watch:U,setValue:E,getValues:J,reset:Dt,resetField:et,clearErrors:ne,unregister:ae,setError:F,setFocus:(D,Z={})=>{const Q=pe(n,D),se=Q&&Q._f;if(se){const oe=se.refs?se.refs[0]:se.ref;oe.focus&&(oe.focus(),Z.shouldSelect&&Kr(oe.select)&&oe.select())}},getFieldState:K}}function Hi(t={}){const e=nr.useRef(void 0),r=nr.useRef(void 0),[n,s]=nr.useState({isDirty:!1,isValidating:!1,isLoading:Kr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Kr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...WE(t),formState:n});const i=e.current.control;return i._options=t,RE({subject:i._subjects.state,next:a=>{PE(a,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),nr.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),nr.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),nr.useEffect(()=>{t.values&&!Ln(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),nr.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),nr.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),nr.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=AE(n,i),e.current}const Up=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Mv=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Up(n.ref,r,t):n.refs&&n.refs.forEach(s=>Up(s,r,t))}},HE=(t,e)=>{e.shouldUseNativeValidation&&Mv(t,e);const r={};for(const n in t){const s=pe(e.fields,n),i=Object.assign(t[n]||{},{ref:s&&s.ref});if(qE(e.names||Object.keys(t),n)){const a=Object.assign({},pe(r,n));qe(a,"root",i),qe(r,n,a)}else qe(r,n,i)}return r},qE=(t,e)=>t.some(r=>r.startsWith(e+"."));var GE=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,i=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[a]={message:o.message,type:o.code}}else r[a]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var c=r[a].types,f=c&&c[n.code];r[a]=Av(a,e,r,s,f?[].concat(f,n.message):n.message)}t.shift()}return r},qi=function(t,e,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(a,o){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(f){return i.shouldUseNativeValidation&&Mv({},i),{errors:{},values:r.raw?n:f}})}catch(f){return o(f)}return c&&c.then?c.then(void 0,o):c}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:HE(GE(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},Le;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Le||(Le={}));var Zd;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Zd||(Zd={}));const me=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hn=t=>{switch(typeof t){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(t)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(t)?me.array:t===null?me.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?me.promise:typeof Map<"u"&&t instanceof Map?me.map:typeof Set<"u"&&t instanceof Set?me.set:typeof Date<"u"&&t instanceof Date?me.date:me.object;default:return me.unknown}},ie=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ZE=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class lr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let o=n,c=0;for(;c<a.path.length;){const f=a.path[c];c===a.path.length-1?(o[f]=o[f]||{_errors:[]},o[f]._errors.push(r(a))):o[f]=o[f]||{_errors:[]},o=o[f],c++}}};return s(this),n}static assert(e){if(!(e instanceof lr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}lr.create=t=>new lr(t);const Oi=(t,e)=>{let r;switch(t.code){case ie.invalid_type:t.received===me.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ie.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Le.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:r=`Unrecognized key(s) in object: ${Le.joinValues(t.keys,", ")}`;break;case ie.invalid_union:r="Invalid input";break;case ie.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Le.joinValues(t.options)}`;break;case ie.invalid_enum_value:r=`Invalid enum value. Expected ${Le.joinValues(t.options)}, received '${t.received}'`;break;case ie.invalid_arguments:r="Invalid function arguments";break;case ie.invalid_return_type:r="Invalid function return type";break;case ie.invalid_date:r="Invalid date";break;case ie.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Le.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ie.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ie.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ie.custom:r="Invalid input";break;case ie.invalid_intersection_types:r="Intersection results could not be merged";break;case ie.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ie.not_finite:r="Number must be finite";break;default:r=e.defaultError,Le.assertNever(t)}return{message:r}};let Fv=Oi;function QE(t){Fv=t}function Zl(){return Fv}const Ql=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,i=[...r,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const c=n.filter(f=>!!f).slice().reverse();for(const f of c)o=f(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},KE=[];function he(t,e){const r=Zl(),n=Ql({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Oi?void 0:Oi].filter(s=>!!s)});t.common.issues.push(n)}class Lt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return je;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const i=await s.key,a=await s.value;n.push({key:i,value:a})}return Lt.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return je;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}}const je=Object.freeze({status:"aborted"}),fi=t=>({status:"dirty",value:t}),Bt=t=>({status:"valid",value:t}),Qd=t=>t.status==="aborted",Kd=t=>t.status==="dirty",Is=t=>t.status==="valid",Ja=t=>typeof Promise<"u"&&t instanceof Promise;function Kl(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function $v(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));var ga,ya;class nn{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zp=(t,e)=>{if(Is(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new lr(t.common.issues);return this._error=r,this._error}}};function Ce(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{var c,f;const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(f=u??r)!==null&&f!==void 0?f:o.defaultError}},description:s}}class Pe{get description(){return this._def.description}_getType(e){return hn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:hn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Lt,ctx:{common:e.parent.common,data:e.data,parsedType:hn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ja(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hn(e)},i=this._parseSync({data:e,path:s.path,parent:s});return zp(s,i)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hn(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return Is(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>Is(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hn(e)},s=this._parse({data:e,path:n.path,parent:n}),i=await(Ja(s)?s:Promise.resolve(s));return zp(n,i)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:ie.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Mr({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return en.create(this,this._def)}nullable(){return Xn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lr.create(this)}promise(){return Li.create(this,this._def)}or(e){return ro.create([this,e],this._def)}and(e){return no.create(this,e,this._def)}transform(e){return new Mr({...Ce(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new lo({...Ce(this._def),innerType:this,defaultValue:r,typeName:_e.ZodDefault})}brand(){return new gh({typeName:_e.ZodBranded,type:this,...Ce(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new co({...Ce(this._def),innerType:this,catchValue:r,typeName:_e.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ko.create(this,e)}readonly(){return uo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YE=/^c[^\s-]{8,}$/i,JE=/^[0-9a-z]+$/,XE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t4=/^[a-z0-9_-]{21}$/i,r4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,n4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,s4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,i4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Iu;const a4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,l4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,c4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,u4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,d4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Uv="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",f4=new RegExp(`^${Uv}$`);function zv(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function h4(t){return new RegExp(`^${zv(t)}$`)}function Bv(t){let e=`${Uv}T${zv(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function m4(t,e){return!!((e==="v4"||!e)&&a4.test(t)||(e==="v6"||!e)&&l4.test(t))}function p4(t,e){if(!r4.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function g4(t,e){return!!((e==="v4"||!e)&&o4.test(t)||(e==="v6"||!e)&&c4.test(t))}class Rr extends Pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==me.string){const i=this._getOrReturnCtx(e);return he(i,{code:ie.invalid_type,expected:me.string,received:i.parsedType}),je}const n=new Lt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?he(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&he(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")s4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"email",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Iu||(Iu=new RegExp(i4,"u")),Iu.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"emoji",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")e4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"uuid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")t4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"nanoid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")YE.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")JE.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cuid2",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")XE.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ulid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),he(s,{validation:"url",code:ie.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"regex",code:ie.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Bv(i).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?f4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?h4(i).test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{code:ie.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?n4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"duration",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?m4(e.data,i.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"ip",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?p4(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"jwt",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?g4(e.data,i.version)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"cidr",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?u4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?d4.test(e.data)||(s=this._getOrReturnCtx(e,s),he(s,{validation:"base64url",code:ie.invalid_string,message:i.message}),n.dirty()):Le.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:ie.invalid_string,...ve.errToObj(n)})}_addCheck(e){return new Rr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...ve.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ve.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ve.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ve.errToObj(r)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Rr.create=t=>{var e;return new Rr({checks:[],typeName:_e.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ce(t)})};function y4(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class Kn extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==me.number){const i=this._getOrReturnCtx(e);return he(i,{code:ie.invalid_type,expected:me.number,received:i.parsedType}),je}let n;const s=new Lt;for(const i of this._def.checks)i.kind==="int"?Le.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),he(n,{code:ie.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),he(n,{code:ie.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),he(n,{code:ie.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?y4(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),he(n,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),he(n,{code:ie.not_finite,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ve.toString(r))}setLimit(e,r,n,s){return new Kn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ve.toString(s)}]})}_addCheck(e){return new Kn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Kn.create=t=>new Kn({checks:[],typeName:_e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class Yn extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==me.bigint)return this._getInvalidInput(e);let n;const s=new Lt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),he(n,{code:ie.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),he(n,{code:ie.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),he(n,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Le.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.bigint,received:r.parsedType}),je}gte(e,r){return this.setLimit("min",e,!0,ve.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ve.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ve.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ve.toString(r))}setLimit(e,r,n,s){return new Yn({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:ve.toString(s)}]})}_addCheck(e){return new Yn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Yn.create=t=>{var e;return new Yn({checks:[],typeName:_e.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ce(t)})};class Xa extends Pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==me.boolean){const n=this._getOrReturnCtx(e);return he(n,{code:ie.invalid_type,expected:me.boolean,received:n.parsedType}),je}return Bt(e.data)}}Xa.create=t=>new Xa({typeName:_e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ce(t)});class Ls extends Pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==me.date){const i=this._getOrReturnCtx(e);return he(i,{code:ie.invalid_type,expected:me.date,received:i.parsedType}),je}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return he(i,{code:ie.invalid_date}),je}const n=new Lt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),he(s,{code:ie.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Le.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ls({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ls.create=t=>new Ls({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_e.ZodDate,...Ce(t)});class Yl extends Pe{_parse(e){if(this._getType(e)!==me.symbol){const n=this._getOrReturnCtx(e);return he(n,{code:ie.invalid_type,expected:me.symbol,received:n.parsedType}),je}return Bt(e.data)}}Yl.create=t=>new Yl({typeName:_e.ZodSymbol,...Ce(t)});class eo extends Pe{_parse(e){if(this._getType(e)!==me.undefined){const n=this._getOrReturnCtx(e);return he(n,{code:ie.invalid_type,expected:me.undefined,received:n.parsedType}),je}return Bt(e.data)}}eo.create=t=>new eo({typeName:_e.ZodUndefined,...Ce(t)});class to extends Pe{_parse(e){if(this._getType(e)!==me.null){const n=this._getOrReturnCtx(e);return he(n,{code:ie.invalid_type,expected:me.null,received:n.parsedType}),je}return Bt(e.data)}}to.create=t=>new to({typeName:_e.ZodNull,...Ce(t)});class Ii extends Pe{constructor(){super(...arguments),this._any=!0}_parse(e){return Bt(e.data)}}Ii.create=t=>new Ii({typeName:_e.ZodAny,...Ce(t)});class js extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bt(e.data)}}js.create=t=>new js({typeName:_e.ZodUnknown,...Ce(t)});class _n extends Pe{_parse(e){const r=this._getOrReturnCtx(e);return he(r,{code:ie.invalid_type,expected:me.never,received:r.parsedType}),je}}_n.create=t=>new _n({typeName:_e.ZodNever,...Ce(t)});class Jl extends Pe{_parse(e){if(this._getType(e)!==me.undefined){const n=this._getOrReturnCtx(e);return he(n,{code:ie.invalid_type,expected:me.void,received:n.parsedType}),je}return Bt(e.data)}}Jl.create=t=>new Jl({typeName:_e.ZodVoid,...Ce(t)});class Lr extends Pe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==me.array)return he(r,{code:ie.invalid_type,expected:me.array,received:r.parsedType}),je;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(a||o)&&(he(r,{code:a?ie.too_big:ie.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(he(r,{code:ie.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(he(r,{code:ie.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,o)=>s.type._parseAsync(new nn(r,a,r.path,o)))).then(a=>Lt.mergeArray(n,a));const i=[...r.data].map((a,o)=>s.type._parseSync(new nn(r,a,r.path,o)));return Lt.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Lr({...this._def,minLength:{value:e,message:ve.toString(r)}})}max(e,r){return new Lr({...this._def,maxLength:{value:e,message:ve.toString(r)}})}length(e,r){return new Lr({...this._def,exactLength:{value:e,message:ve.toString(r)}})}nonempty(e){return this.min(1,e)}}Lr.create=(t,e)=>new Lr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Ce(e)});function Xs(t){if(t instanceof tt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=en.create(Xs(n))}return new tt({...t._def,shape:()=>e})}else return t instanceof Lr?new Lr({...t._def,type:Xs(t.element)}):t instanceof en?en.create(Xs(t.unwrap())):t instanceof Xn?Xn.create(Xs(t.unwrap())):t instanceof sn?sn.create(t.items.map(e=>Xs(e))):t}class tt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Le.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==me.object){const f=this._getOrReturnCtx(e);return he(f,{code:ie.invalid_type,expected:me.object,received:f.parsedType}),je}const{status:n,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof _n&&this._def.unknownKeys==="strip"))for(const f in s.data)a.includes(f)||o.push(f);const c=[];for(const f of a){const u=i[f],d=s.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new nn(s,d,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof _n){const f=this._def.unknownKeys;if(f==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(f==="strict")o.length>0&&(he(s,{code:ie.unrecognized_keys,keys:o}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const u of o){const d=s.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new nn(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const u of c){const d=await u.key,h=await u.value;f.push({key:d,value:h,alwaysSet:u.alwaysSet})}return f}).then(f=>Lt.mergeObjectSync(n,f)):Lt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new tt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,i,a,o;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=ve.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){const r={};return Le.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new tt({...this._def,shape:()=>r})}omit(e){const r={};return Le.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new tt({...this._def,shape:()=>r})}deepPartial(){return Xs(this)}partial(e){const r={};return Le.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new tt({...this._def,shape:()=>r})}required(e){const r={};return Le.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof en;)i=i._def.innerType;r[n]=i}}),new tt({...this._def,shape:()=>r})}keyof(){return Vv(Le.objectKeys(this.shape))}}tt.create=(t,e)=>new tt({shape:()=>t,unknownKeys:"strip",catchall:_n.create(),typeName:_e.ZodObject,...Ce(e)});tt.strictCreate=(t,e)=>new tt({shape:()=>t,unknownKeys:"strict",catchall:_n.create(),typeName:_e.ZodObject,...Ce(e)});tt.lazycreate=(t,e)=>new tt({shape:t,unknownKeys:"strip",catchall:_n.create(),typeName:_e.ZodObject,...Ce(e)});class ro extends Pe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new lr(o.ctx.common.issues));return he(r,{code:ie.invalid_union,unionErrors:a}),je}if(r.common.async)return Promise.all(n.map(async i=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of n){const f={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:f});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:f}),f.common.issues.length&&a.push(f.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(c=>new lr(c));return he(r,{code:ie.invalid_union,unionErrors:o}),je}}get options(){return this._def.options}}ro.create=(t,e)=>new ro({options:t,typeName:_e.ZodUnion,...Ce(e)});const cn=t=>t instanceof io?cn(t.schema):t instanceof Mr?cn(t.innerType()):t instanceof ao?[t.value]:t instanceof Jn?t.options:t instanceof oo?Le.objectValues(t.enum):t instanceof lo?cn(t._def.innerType):t instanceof eo?[void 0]:t instanceof to?[null]:t instanceof en?[void 0,...cn(t.unwrap())]:t instanceof Xn?[null,...cn(t.unwrap())]:t instanceof gh||t instanceof uo?cn(t.unwrap()):t instanceof co?cn(t._def.innerType):[];class Bc extends Pe{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==me.object)return he(r,{code:ie.invalid_type,expected:me.object,received:r.parsedType}),je;const n=this.discriminator,s=r.data[n],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(he(r,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const i of r){const a=cn(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new Bc({typeName:_e.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Ce(n)})}}function Yd(t,e){const r=hn(t),n=hn(e);if(t===e)return{valid:!0,data:t};if(r===me.object&&n===me.object){const s=Le.objectKeys(e),i=Le.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const c=Yd(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(r===me.array&&n===me.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],c=Yd(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===me.date&&n===me.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class no extends Pe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(i,a)=>{if(Qd(i)||Qd(a))return je;const o=Yd(i.value,a.value);return o.valid?((Kd(i)||Kd(a))&&r.dirty(),{status:r.value,value:o.data}):(he(n,{code:ie.invalid_intersection_types}),je)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}no.create=(t,e,r)=>new no({left:t,right:e,typeName:_e.ZodIntersection,...Ce(r)});class sn extends Pe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.array)return he(n,{code:ie.invalid_type,expected:me.array,received:n.parsedType}),je;if(n.data.length<this._def.items.length)return he(n,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),je;!this._def.rest&&n.data.length>this._def.items.length&&(he(n,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((a,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new nn(n,a,n.path,o)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>Lt.mergeArray(r,a)):Lt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new sn({...this._def,rest:e})}}sn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sn({items:t,typeName:_e.ZodTuple,rest:null,...Ce(e)})};class so extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.object)return he(n,{code:ie.invalid_type,expected:me.object,received:n.parsedType}),je;const s=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:i._parse(new nn(n,o,n.path,o)),value:a._parse(new nn(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?Lt.mergeObjectAsync(r,s):Lt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Pe?new so({keyType:e,valueType:r,typeName:_e.ZodRecord,...Ce(n)}):new so({keyType:Rr.create(),valueType:e,typeName:_e.ZodRecord,...Ce(r)})}}class Xl extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.map)return he(n,{code:ie.invalid_type,expected:me.map,received:n.parsedType}),je;const s=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([o,c],f)=>({key:s._parse(new nn(n,o,n.path,[f,"key"])),value:i._parse(new nn(n,c,n.path,[f,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of a){const f=await c.key,u=await c.value;if(f.status==="aborted"||u.status==="aborted")return je;(f.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(f.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of a){const f=c.key,u=c.value;if(f.status==="aborted"||u.status==="aborted")return je;(f.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(f.value,u.value)}return{status:r.value,value:o}}}}Xl.create=(t,e,r)=>new Xl({valueType:e,keyType:t,typeName:_e.ZodMap,...Ce(r)});class Ds extends Pe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==me.set)return he(n,{code:ie.invalid_type,expected:me.set,received:n.parsedType}),je;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(he(n,{code:ie.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(he(n,{code:ie.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function a(c){const f=new Set;for(const u of c){if(u.status==="aborted")return je;u.status==="dirty"&&r.dirty(),f.add(u.value)}return{status:r.value,value:f}}const o=[...n.data.values()].map((c,f)=>i._parse(new nn(n,c,n.path,f)));return n.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,r){return new Ds({...this._def,minSize:{value:e,message:ve.toString(r)}})}max(e,r){return new Ds({...this._def,maxSize:{value:e,message:ve.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ds.create=(t,e)=>new Ds({valueType:t,minSize:null,maxSize:null,typeName:_e.ZodSet,...Ce(e)});class ki extends Pe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==me.function)return he(r,{code:ie.invalid_type,expected:me.function,received:r.parsedType}),je;function n(o,c){return Ql({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zl(),Oi].filter(f=>!!f),issueData:{code:ie.invalid_arguments,argumentsError:c}})}function s(o,c){return Ql({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zl(),Oi].filter(f=>!!f),issueData:{code:ie.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof Li){const o=this;return Bt(async function(...c){const f=new lr([]),u=await o._def.args.parseAsync(c,i).catch(m=>{throw f.addIssue(n(c,m)),f}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(m=>{throw f.addIssue(s(d,m)),f})})}else{const o=this;return Bt(function(...c){const f=o._def.args.safeParse(c,i);if(!f.success)throw new lr([n(c,f.error)]);const u=Reflect.apply(a,this,f.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new lr([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ki({...this._def,args:sn.create(e).rest(js.create())})}returns(e){return new ki({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ki({args:e||sn.create([]).rest(js.create()),returns:r||js.create(),typeName:_e.ZodFunction,...Ce(n)})}}class io extends Pe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}io.create=(t,e)=>new io({getter:t,typeName:_e.ZodLazy,...Ce(e)});class ao extends Pe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return he(r,{received:r.data,code:ie.invalid_literal,expected:this._def.value}),je}return{status:"valid",value:e.data}}get value(){return this._def.value}}ao.create=(t,e)=>new ao({value:t,typeName:_e.ZodLiteral,...Ce(e)});function Vv(t,e){return new Jn({values:t,typeName:_e.ZodEnum,...Ce(e)})}class Jn extends Pe{constructor(){super(...arguments),ga.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return he(r,{expected:Le.joinValues(n),received:r.parsedType,code:ie.invalid_type}),je}if(Kl(this,ga)||$v(this,ga,new Set(this._def.values)),!Kl(this,ga).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return he(r,{received:r.data,code:ie.invalid_enum_value,options:n}),je}return Bt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Jn.create(e,{...this._def,...r})}exclude(e,r=this._def){return Jn.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}ga=new WeakMap;Jn.create=Vv;class oo extends Pe{constructor(){super(...arguments),ya.set(this,void 0)}_parse(e){const r=Le.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==me.string&&n.parsedType!==me.number){const s=Le.objectValues(r);return he(n,{expected:Le.joinValues(s),received:n.parsedType,code:ie.invalid_type}),je}if(Kl(this,ya)||$v(this,ya,new Set(Le.getValidEnumValues(this._def.values))),!Kl(this,ya).has(e.data)){const s=Le.objectValues(r);return he(n,{received:n.data,code:ie.invalid_enum_value,options:s}),je}return Bt(e.data)}get enum(){return this._def.values}}ya=new WeakMap;oo.create=(t,e)=>new oo({values:t,typeName:_e.ZodNativeEnum,...Ce(e)});class Li extends Pe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==me.promise&&r.common.async===!1)return he(r,{code:ie.invalid_type,expected:me.promise,received:r.parsedType}),je;const n=r.parsedType===me.promise?r.data:Promise.resolve(r.data);return Bt(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Li.create=(t,e)=>new Li({type:t,typeName:_e.ZodPromise,...Ce(e)});class Mr extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{he(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async o=>{if(r.value==="aborted")return je;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?je:c.status==="dirty"||r.value==="dirty"?fi(c.value):c});{if(r.value==="aborted")return je;const o=this._def.schema._parseSync({data:a,path:n.path,parent:n});return o.status==="aborted"?je:o.status==="dirty"||r.value==="dirty"?fi(o.value):o}}if(s.type==="refinement"){const a=o=>{const c=s.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?je:(o.status==="dirty"&&r.dirty(),a(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?je:(o.status==="dirty"&&r.dirty(),a(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Is(a))return a;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Is(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:r.value,value:o})):a);Le.assertNever(s)}}Mr.create=(t,e,r)=>new Mr({schema:t,typeName:_e.ZodEffects,effect:e,...Ce(r)});Mr.createWithPreprocess=(t,e,r)=>new Mr({schema:e,effect:{type:"preprocess",transform:t},typeName:_e.ZodEffects,...Ce(r)});class en extends Pe{_parse(e){return this._getType(e)===me.undefined?Bt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}en.create=(t,e)=>new en({innerType:t,typeName:_e.ZodOptional,...Ce(e)});class Xn extends Pe{_parse(e){return this._getType(e)===me.null?Bt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xn.create=(t,e)=>new Xn({innerType:t,typeName:_e.ZodNullable,...Ce(e)});class lo extends Pe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}lo.create=(t,e)=>new lo({innerType:t,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ce(e)});class co extends Pe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ja(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new lr(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new lr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}co.create=(t,e)=>new co({innerType:t,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ce(e)});class ec extends Pe{_parse(e){if(this._getType(e)!==me.nan){const n=this._getOrReturnCtx(e);return he(n,{code:ie.invalid_type,expected:me.nan,received:n.parsedType}),je}return{status:"valid",value:e.data}}}ec.create=t=>new ec({typeName:_e.ZodNaN,...Ce(t)});const v4=Symbol("zod_brand");class gh extends Pe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ko extends Pe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?je:i.status==="dirty"?(r.dirty(),fi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?je:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new ko({in:e,out:r,typeName:_e.ZodPipeline})}}class uo extends Pe{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Is(s)&&(s.value=Object.freeze(s.value)),s);return Ja(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}uo.create=(t,e)=>new uo({innerType:t,typeName:_e.ZodReadonly,...Ce(e)});function Bp(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Wv(t,e={},r){return t?Ii.create().superRefine((n,s)=>{var i,a;const o=t(n);if(o instanceof Promise)return o.then(c=>{var f,u;if(!c){const d=Bp(e,n),h=(u=(f=d.fatal)!==null&&f!==void 0?f:r)!==null&&u!==void 0?u:!0;s.addIssue({code:"custom",...d,fatal:h})}});if(!o){const c=Bp(e,n),f=(a=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&a!==void 0?a:!0;s.addIssue({code:"custom",...c,fatal:f})}}):Ii.create()}const x4={object:tt.lazycreate};var _e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_e||(_e={}));const w4=(t,e={message:`Input not instance of ${t.name}`})=>Wv(r=>r instanceof t,e),Hv=Rr.create,qv=Kn.create,b4=ec.create,_4=Yn.create,Gv=Xa.create,k4=Ls.create,j4=Yl.create,N4=eo.create,S4=to.create,E4=Ii.create,C4=js.create,T4=_n.create,A4=Jl.create,P4=Lr.create,R4=tt.create,O4=tt.strictCreate,I4=ro.create,L4=Bc.create,D4=no.create,M4=sn.create,F4=so.create,$4=Xl.create,U4=Ds.create,z4=ki.create,B4=io.create,V4=ao.create,W4=Jn.create,H4=oo.create,q4=Li.create,Vp=Mr.create,G4=en.create,Z4=Xn.create,Q4=Mr.createWithPreprocess,K4=ko.create,Y4=()=>Hv().optional(),J4=()=>qv().optional(),X4=()=>Gv().optional(),e3={string:t=>Rr.create({...t,coerce:!0}),number:t=>Kn.create({...t,coerce:!0}),boolean:t=>Xa.create({...t,coerce:!0}),bigint:t=>Yn.create({...t,coerce:!0}),date:t=>Ls.create({...t,coerce:!0})},t3=je;var Se=Object.freeze({__proto__:null,defaultErrorMap:Oi,setErrorMap:QE,getErrorMap:Zl,makeIssue:Ql,EMPTY_PATH:KE,addIssueToContext:he,ParseStatus:Lt,INVALID:je,DIRTY:fi,OK:Bt,isAborted:Qd,isDirty:Kd,isValid:Is,isAsync:Ja,get util(){return Le},get objectUtil(){return Zd},ZodParsedType:me,getParsedType:hn,ZodType:Pe,datetimeRegex:Bv,ZodString:Rr,ZodNumber:Kn,ZodBigInt:Yn,ZodBoolean:Xa,ZodDate:Ls,ZodSymbol:Yl,ZodUndefined:eo,ZodNull:to,ZodAny:Ii,ZodUnknown:js,ZodNever:_n,ZodVoid:Jl,ZodArray:Lr,ZodObject:tt,ZodUnion:ro,ZodDiscriminatedUnion:Bc,ZodIntersection:no,ZodTuple:sn,ZodRecord:so,ZodMap:Xl,ZodSet:Ds,ZodFunction:ki,ZodLazy:io,ZodLiteral:ao,ZodEnum:Jn,ZodNativeEnum:oo,ZodPromise:Li,ZodEffects:Mr,ZodTransformer:Mr,ZodOptional:en,ZodNullable:Xn,ZodDefault:lo,ZodCatch:co,ZodNaN:ec,BRAND:v4,ZodBranded:gh,ZodPipeline:ko,ZodReadonly:uo,custom:Wv,Schema:Pe,ZodSchema:Pe,late:x4,get ZodFirstPartyTypeKind(){return _e},coerce:e3,any:E4,array:P4,bigint:_4,boolean:Gv,date:k4,discriminatedUnion:L4,effect:Vp,enum:W4,function:z4,instanceof:w4,intersection:D4,lazy:B4,literal:V4,map:$4,nan:b4,nativeEnum:H4,never:T4,null:S4,nullable:Z4,number:qv,object:R4,oboolean:X4,onumber:J4,optional:G4,ostring:Y4,pipeline:K4,preprocess:Q4,promise:q4,record:F4,set:U4,strictObject:O4,string:Hv,symbol:j4,transformer:Vp,tuple:M4,undefined:N4,union:I4,unknown:C4,void:A4,NEVER:t3,ZodIssueCode:ie,quotelessJson:ZE,ZodError:lr});const r3=Se.object({name:Se.string().min(2,"Введите ваше имя"),phone:Se.string().min(10,"Введите корректный номер телефона").regex(/^[0-9+\s()-]+$/,"Некорректный формат номера"),email:Se.string().email("Введите корректный email"),budget:Se.string().min(1,"Укажите ваш бюджет"),city:Se.string().min(2,"Укажите ваш город"),contactMethod:Se.enum(["whatsapp","telegram","phone"],{required_error:"Выберите способ связи"})});function n3(){const[t,e]=V.useState(!1),[r,n]=V.useState(!1),[s,i]=V.useState(null),{register:a,handleSubmit:o,reset:c,formState:{errors:f}}=Hi({resolver:qi(r3)}),u=async d=>{e(!0),i(null);try{const{error:h}=await Te.from("contact_form_submissions").insert([{name:d.name,phone:d.phone,email:d.email,budget:d.budget,city:d.city,contact_method:d.contactMethod,status:"new"}]);if(h)throw h;n(!0),c(),setTimeout(()=>{n(!1)},5e3)}catch(h){console.error("Error submitting form:",h),i("Произошла ошибка при отправке формы. Пожалуйста, попробуйте позже или свяжитесь с нами напрямую.")}finally{e(!1)}};return l.jsx("section",{id:"contact",className:"py-8 md:py-16 bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 transition-colors duration-200",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8 max-w-6xl mx-auto",children:[l.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 p-4 md:p-8 rounded-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-lg",children:l.jsxs("div",{className:"space-y-4 md:space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Наши менеджеры"}),l.jsx("div",{className:"flex items-start space-x-3 text-gray-600 dark:text-gray-300",children:l.jsx("div",{children:l.jsx("p",{children:"С 10:00 до 01:00 (по Владивостоку)"})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Связаться с нами"}),l.jsx("div",{className:"flex items-start space-x-3 text-gray-600 dark:text-gray-300",children:l.jsxs("div",{children:[l.jsx("p",{children:"sgvautoimport@gmail.com"}),l.jsx("p",{className:"mt-1",children:"+7 (914) 074-43-00"})]})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Заходите к нам"}),l.jsx("div",{className:"flex items-start space-x-3 text-gray-600 dark:text-gray-300",children:l.jsxs("div",{children:[l.jsx("p",{children:"г. Владивосток, ул. Русская 99"}),l.jsx("p",{className:"text-sm",children:"(Встреча в офисе по предварительной записи)"})]})})]})]})}),l.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 p-4 md:p-8 rounded-2xl backdrop-blur-sm border border-gray-200 dark:border-gray-700 shadow-lg",children:[l.jsx("h2",{className:"text-xl md:text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Задумались об авто? Давайте поможем выбрать →"}),r&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg",children:"Спасибо за заявку! Мы свяжемся с вами в ближайшее время."}),s&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:s}),l.jsxs("form",{onSubmit:o(u),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Ваше имя",...a("name"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),f.name&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.name.message})]}),l.jsxs("div",{children:[l.jsx("input",{type:"tel",placeholder:"Номер телефона",...a("phone"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),f.phone&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.phone.message})]}),l.jsxs("div",{children:[l.jsx("input",{type:"email",placeholder:"Электронная почта",...a("email"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),f.email&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.email.message})]}),l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Ваш бюджет",...a("budget"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),f.budget&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.budget.message})]}),l.jsxs("div",{children:[l.jsx("input",{type:"text",placeholder:"Ваш город",...a("city"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),f.city&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.city.message})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4",children:[l.jsxs("label",{className:"relative flex cursor-pointer",children:[l.jsx("input",{type:"radio",value:"whatsapp",...a("contactMethod"),className:"peer sr-only"}),l.jsx("div",{className:"flex items-center justify-center w-full p-2 md:p-3 text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg peer-checked:border-red-500 peer-checked:bg-red-50 dark:peer-checked:bg-red-900/20 peer-checked:text-red-500",children:l.jsx("span",{className:"text-sm",children:"WhatsApp"})})]}),l.jsxs("label",{className:"relative flex cursor-pointer",children:[l.jsx("input",{type:"radio",value:"telegram",...a("contactMethod"),className:"peer sr-only"}),l.jsx("div",{className:"flex items-center justify-center w-full p-2 md:p-3 text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg peer-checked:border-red-500 peer-checked:bg-red-50 dark:peer-checked:bg-red-900/20 peer-checked:text-red-500",children:l.jsx("span",{className:"text-sm",children:"Telegram"})})]}),l.jsxs("label",{className:"relative flex cursor-pointer",children:[l.jsx("input",{type:"radio",value:"phone",...a("contactMethod"),className:"peer sr-only"}),l.jsx("div",{className:"flex items-center justify-center w-full p-2 md:p-3 text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg peer-checked:border-red-500 peer-checked:bg-red-50 dark:peer-checked:bg-red-900/20 peer-checked:text-red-500",children:l.jsx("span",{className:"text-sm",children:"Звонок"})})]})]}),f.contactMethod&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:f.contactMethod.message}),l.jsx("button",{type:"submit",disabled:t,className:"w-full bg-red-500 text-white py-3 rounded-lg hover:bg-red-600 transition flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:t?l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Отправка..."}),l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Отправить"}),l.jsx(Q2,{className:"w-5 h-5"})]})})]})]})]})})})}function s3(t){const[e,r]=V.useState(!1);return V.useEffect(()=>{const n=window.matchMedia(t);n.matches!==e&&r(n.matches);const s=()=>r(n.matches);return n.addEventListener("change",s),()=>n.removeEventListener("change",s)},[e,t]),e}function i3(){const t=s3("(max-width: 768px)"),[e,r]=V.useState([]),[n,s]=V.useState(!0),[i,a]=V.useState(null);V.useEffect(()=>{o()},[]);async function o(){s(!0);try{const{data:u,error:d}=await Te.from("faqs").select("*").order("order_number",{ascending:!0});if(d)throw d;r(u||[])}catch(u){console.error("Error fetching FAQs:",u)}finally{s(!1)}}const c=t&&e.length>6?e.slice(0,6):e,f=u=>{a(i===u?null:u)};return l.jsx("section",{id:"faq",className:"py-16 bg-white dark:bg-gray-900 transition-colors duration-200",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center mb-12 text-gray-900 dark:text-white",children:"Часто задаваемые вопросы"}),n?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):c.length>0?l.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:c.map(u=>l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 cursor-pointer",onClick:()=>f(u.id),children:[l.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm md:text-base",children:u.question}),l.jsx(P2,{className:`w-5 h-5 text-gray-500 dark:text-gray-400 transform transition-transform ${i===u.id?"rotate-180":""}`})]}),i===u.id&&l.jsx("div",{className:"px-4 md:px-6 pb-4 md:pb-6",children:l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm md:text-base",children:u.answer})})]},u.id))}):l.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"FAQ пока не добавлены"})]})})}function Zv(){return l.jsx("footer",{className:"bg-gray-900 text-white py-12",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"SGV Auto Import"}),l.jsx("p",{className:"text-gray-300",children:"Профессиональный импорт автомобилей из Азии с полным циклом услуг"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Контакты"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("a",{href:"tel:+79140744300",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[l.jsx(ah,{className:"w-5 h-5 mr-2"}),"+7 (914) 074-43-00"]}),l.jsxs("a",{href:"mailto:sgvautoimport@gmail.com",className:"flex items-center text-gray-300 hover:text-white transition-colors",children:[l.jsx(B2,{className:"w-5 h-5 mr-2"}),"sgvautoimport@gmail.com"]}),l.jsxs("div",{className:"flex items-center text-gray-300",children:[l.jsx(V2,{className:"w-5 h-5 mr-2"}),"Владивосток"]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Мы в соцсетях"}),l.jsx("div",{className:"flex space-x-3",children:l.jsx("a",{href:"https://t.me/SGVavtoImport",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition-colors",children:l.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})})]})]}),l.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:[l.jsxs("p",{children:["© ",new Date().getFullYear()," SGV Auto Import. Все права защищены."]}),l.jsx("a",{href:"https://t.me/SGVavtoImport",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors mt-2 inline-block",children:"Подписывайтесь на наш Telegram канал"})]})]})})}function a3(){return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 transition-colors duration-200",children:[l.jsx(Jy,{}),l.jsx(AN,{}),l.jsx(PN,{}),l.jsx(RN,{}),l.jsx(LN,{}),l.jsx("div",{className:"container mx-auto px-4 py-8",children:l.jsx(MN,{})}),l.jsx(FN,{}),l.jsx(_E,{}),l.jsx(jE,{}),l.jsx(NE,{}),l.jsx(i3,{}),l.jsx(n3,{}),l.jsx(Zv,{})]})}const o3=["Все новости","Компания","Законодательство","Автомобили","Мероприятия"];function l3(){const[t,e]=V.useState({search:"",category:"",dateFrom:"",dateTo:""});return l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[l.jsx(Jy,{}),l.jsx("main",{className:"pt-20",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Новости"}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:l.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Поиск по новостям",value:t.search,onChange:r=>e({...t,search:r.target.value}),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]}),l.jsx("select",{value:t.category,onChange:r=>e({...t,category:r.target.value}),className:"px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:o3.map(r=>l.jsx("option",{value:r==="Все новости"?"":r,children:r},r))}),l.jsx("div",{children:l.jsx("input",{type:"date",value:t.dateFrom,onChange:r=>e({...t,dateFrom:r.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})}),l.jsx("div",{children:l.jsx("input",{type:"date",value:t.dateTo,onChange:r=>e({...t,dateTo:r.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})})]})}),l.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:l.jsxs("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition",children:[l.jsx("img",{src:"https://images.unsplash.com/photo-1621007947382-bb3c3994e3fb?auto=format&fit=crop&w=800",alt:"News",className:"w-full h-48 object-cover"}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-2",children:[l.jsx(Ka,{className:"w-4 h-4 mr-2"}),"15 февраля 2024",l.jsx("span",{className:"mx-2",children:"•"}),"Компания"]}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Открытие нового офиса во Владивостоке"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Мы расширяем нашу сеть представительств для удобства клиентов"}),l.jsxs("button",{className:"text-red-500 hover:text-red-600 transition-colors flex items-center",children:["Читать далее",l.jsx(bn,{className:"w-4 h-4 ml-1"})]})]})]})}),l.jsx("div",{className:"mt-8 flex justify-center",children:l.jsxs("nav",{className:"flex items-center space-x-2",children:[l.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Предыдущая"}),l.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg",children:"1"}),l.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"2"}),l.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"3"}),l.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Следующая"})]})})]})}),l.jsx(Zv,{})]})}const c3=Se.object({email:Se.string().email("Введите корректный email"),password:Se.string().min(6,"Пароль должен быть не менее 6 символов")});function u3(){var h,m;const{signIn:t}=sh(),e=kc(),r=is(),[n,s]=V.useState(!1),[i,a]=V.useState(null),o=((m=(h=r.state)==null?void 0:h.from)==null?void 0:m.pathname)||"/admin",{register:c,handleSubmit:f,formState:{errors:u}}=Hi({resolver:qi(c3),defaultValues:{email:"",password:""}}),d=async p=>{s(!0),a(null);try{await t(p.email,p.password),console.log("Login successful, navigating to:",o),e(o,{replace:!0})}catch(v){console.error("Login error:",v),a(v.message||"Ошибка входа. Проверьте email и пароль.")}finally{s(!1)}};return l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8",children:[l.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white mb-8",children:"Вход в панель администратора"}),i&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:i}),l.jsxs("form",{onSubmit:f(d),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),l.jsx("input",{type:"email",...c("email"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.email&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Пароль"}),l.jsx("input",{type:"password",...c("password"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),u.password&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.password.message})]}),l.jsx("button",{type:"submit",disabled:n,className:"w-full bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 transition flex items-center justify-center",children:n?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mr-2",children:"Вход..."}),l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"Войти"})]})]})})}function d3(){const[t,e]=V.useState({cars:0,news:0,reviews:0,faqs:0}),[r,n]=V.useState(!0);return V.useEffect(()=>{async function s(){n(!0);try{const{count:i,error:a}=await Te.from("cars").select("*",{count:"exact",head:!0}),{count:o,error:c}=await Te.from("reviews").select("*",{count:"exact",head:!0}),{count:f,error:u}=await Te.from("faqs").select("*",{count:"exact",head:!0});a&&console.error("Error fetching cars:",a),c&&console.error("Error fetching reviews:",c),u&&console.error("Error fetching faqs:",u),e({cars:i||0,news:0,reviews:o||0,faqs:f||0})}catch(i){console.error("Error fetching dashboard stats:",i)}finally{n(!1)}}s()},[]),l.jsxs("div",{className:"p-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Панель управления"}),r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):l.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Автомобили"}),l.jsx("p",{className:"text-3xl font-bold text-red-500",children:t.cars})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Новости"}),l.jsx("p",{className:"text-3xl font-bold text-red-500",children:t.news})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Отзывы"}),l.jsx("p",{className:"text-3xl font-bold text-red-500",children:t.reviews})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"FAQ"}),l.jsx("p",{className:"text-3xl font-bold text-red-500",children:t.faqs})]})]}),l.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Последние действия"}),l.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{className:"py-3 flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Добавлен новый автомобиль"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Toyota Camry"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Сегодня, 14:32"})]}),l.jsxs("div",{className:"py-3 flex items-center justify-between border-b border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Обновлен отзыв"}),l.jsx("p",{className:"text-xs text-gray-500",children:"ID: 45"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"Вчера, 18:15"})]}),l.jsxs("div",{className:"py-3 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:"Добавлен новый FAQ"}),l.jsx("p",{className:"text-xs text-gray-500",children:"О гарантии"})]}),l.jsx("span",{className:"text-xs text-gray-500",children:"23.05.2025, 10:45"})]})]})]})]})}function Zo(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qv={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,s,i){function a(f,u){if(!s[f]){if(!n[f]){var d=typeof Zo=="function"&&Zo;if(!u&&d)return d(f,!0);if(o)return o(f,!0);var h=new Error("Cannot find module '"+f+"'");throw h.code="MODULE_NOT_FOUND",h}var m=s[f]={exports:{}};n[f][0].call(m.exports,function(p){var v=n[f][1][p];return a(v||p)},m,m.exports,r,n,s,i)}return s[f].exports}for(var o=typeof Zo=="function"&&Zo,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(r,n,s){(function(i){var a=i.MutationObserver||i.WebKitMutationObserver,o;if(a){var c=0,f=new a(p),u=i.document.createTextNode("");f.observe(u,{characterData:!0}),o=function(){u.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel<"u"){var d=new i.MessageChannel;d.port1.onmessage=p,o=function(){d.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?o=function(){var w=i.document.createElement("script");w.onreadystatechange=function(){p(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:o=function(){setTimeout(p,0)};var h,m=[];function p(){h=!0;for(var w,g,y=m.length;y;){for(g=m,m=[],w=-1;++w<y;)g[w]();y=m.length}h=!1}n.exports=v;function v(w){m.push(w)===1&&!h&&o()}}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,s){var i=r(1);function a(){}var o={},c=["REJECTED"],f=["FULFILLED"],u=["PENDING"];n.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==a&&v(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,S){if(typeof _!="function"&&this.state===f||typeof S!="function"&&this.state===c)return this;var O=new this.constructor(a);if(this.state!==u){var b=this.state===f?_:S;m(O,b,this.outcome)}else this.queue.push(new h(O,_,S));return O};function h(_,S,O){this.promise=_,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},h.prototype.otherCallFulfilled=function(_){m(this.promise,this.onFulfilled,_)},h.prototype.callRejected=function(_){o.reject(this.promise,_)},h.prototype.otherCallRejected=function(_){m(this.promise,this.onRejected,_)};function m(_,S,O){i(function(){var b;try{b=S(O)}catch(N){return o.reject(_,N)}b===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,b)})}o.resolve=function(_,S){var O=w(p,S);if(O.status==="error")return o.reject(_,O.value);var b=O.value;if(b)v(_,b);else{_.state=f,_.outcome=S;for(var N=-1,C=_.queue.length;++N<C;)_.queue[N].callFulfilled(S)}return _},o.reject=function(_,S){_.state=c,_.outcome=S;for(var O=-1,b=_.queue.length;++O<b;)_.queue[O].callRejected(S);return _};function p(_){var S=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof S=="function")return function(){S.apply(_,arguments)}}function v(_,S){var O=!1;function b(R){O||(O=!0,o.reject(_,R))}function N(R){O||(O=!0,o.resolve(_,R))}function C(){S(N,b)}var T=w(C);T.status==="error"&&b(T.value)}function w(_,S){var O={};try{O.value=_(S),O.status="success"}catch(b){O.status="error",O.value=b}return O}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=y;function y(_){var S=new this(a);return o.reject(S,_)}d.all=x;function x(_){var S=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,b=!1;if(!O)return this.resolve([]);for(var N=new Array(O),C=0,T=-1,R=new this(a);++T<O;)L(_[T],T);return R;function L(I,H){S.resolve(I).then(A,function(E){b||(b=!0,o.reject(R,E))});function A(E){N[H]=E,++C===O&&!b&&(b=!0,o.resolve(R,N))}}}d.race=k;function k(_){var S=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,b=!1;if(!O)return this.resolve([]);for(var N=-1,C=new this(a);++N<O;)T(_[N]);return C;function T(R){S.resolve(R).then(function(L){b||(b=!0,o.resolve(C,L))},function(L){b||(b=!0,o.reject(C,L))})}}},{1:1}],3:[function(r,n,s){(function(i){typeof i.Promise!="function"&&(i.Promise=r(2))}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,s){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j};function a(j,M){if(!(j instanceof M))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=o();function f(){try{if(!c||!c.open)return!1;var j=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!j||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function u(j,M){j=j||[],M=M||{};try{return new Blob(j,M)}catch(W){if(W.name!=="TypeError")throw W;for(var P=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new P,G=0;G<j.length;G+=1)q.append(j[G]);return q.getBlob(M.type)}}typeof Promise>"u"&&r(3);var d=Promise;function h(j,M){M&&j.then(function(P){M(null,P)},function(P){M(P)})}function m(j,M,P){typeof M=="function"&&j.then(M),typeof P=="function"&&j.catch(P)}function p(j){return typeof j!="string"&&(console.warn(j+" used as a key, but it is not a string."),j=String(j)),j}function v(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var w="local-forage-detect-blob-support",g=void 0,y={},x=Object.prototype.toString,k="readonly",_="readwrite";function S(j){for(var M=j.length,P=new ArrayBuffer(M),q=new Uint8Array(P),G=0;G<M;G++)q[G]=j.charCodeAt(G);return P}function O(j){return new d(function(M){var P=j.transaction(w,_),q=u([""]);P.objectStore(w).put(q,"key"),P.onabort=function(G){G.preventDefault(),G.stopPropagation(),M(!1)},P.oncomplete=function(){var G=navigator.userAgent.match(/Chrome\/(\d+)/),W=navigator.userAgent.match(/Edge\//);M(W||!G||parseInt(G[1],10)>=43)}}).catch(function(){return!1})}function b(j){return typeof g=="boolean"?d.resolve(g):O(j).then(function(M){return g=M,g})}function N(j){var M=y[j.name],P={};P.promise=new d(function(q,G){P.resolve=q,P.reject=G}),M.deferredOperations.push(P),M.dbReady?M.dbReady=M.dbReady.then(function(){return P.promise}):M.dbReady=P.promise}function C(j){var M=y[j.name],P=M.deferredOperations.pop();if(P)return P.resolve(),P.promise}function T(j,M){var P=y[j.name],q=P.deferredOperations.pop();if(q)return q.reject(M),q.promise}function R(j,M){return new d(function(P,q){if(y[j.name]=y[j.name]||K(),j.db)if(M)N(j),j.db.close();else return P(j.db);var G=[j.name];M&&G.push(j.version);var W=c.open.apply(c,G);M&&(W.onupgradeneeded=function(X){var re=W.result;try{re.createObjectStore(j.storeName),X.oldVersion<=1&&re.createObjectStore(w)}catch(ce){if(ce.name==="ConstraintError")console.warn('The database "'+j.name+'" has been upgraded from version '+X.oldVersion+" to version "+X.newVersion+', but the storage "'+j.storeName+'" already exists.');else throw ce}}),W.onerror=function(X){X.preventDefault(),q(W.error)},W.onsuccess=function(){var X=W.result;X.onversionchange=function(re){re.target.close()},P(X),C(j)}})}function L(j){return R(j,!1)}function I(j){return R(j,!0)}function H(j,M){if(!j.db)return!0;var P=!j.db.objectStoreNames.contains(j.storeName),q=j.version<j.db.version,G=j.version>j.db.version;if(q&&(j.version!==M&&console.warn('The database "'+j.name+`" can't be downgraded from version `+j.db.version+" to version "+j.version+"."),j.version=j.db.version),G||P){if(P){var W=j.db.version+1;W>j.version&&(j.version=W)}return!0}return!1}function A(j){return new d(function(M,P){var q=new FileReader;q.onerror=P,q.onloadend=function(G){var W=btoa(G.target.result||"");M({__local_forage_encoded_blob:!0,data:W,type:j.type})},q.readAsBinaryString(j)})}function E(j){var M=S(atob(j.data));return u([M],{type:j.type})}function B(j){return j&&j.__local_forage_encoded_blob}function z(j){var M=this,P=M._initReady().then(function(){var q=y[M._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return m(P,j,j),P}function $(j){N(j);for(var M=y[j.name],P=M.forages,q=0;q<P.length;q++){var G=P[q];G._dbInfo.db&&(G._dbInfo.db.close(),G._dbInfo.db=null)}return j.db=null,L(j).then(function(W){return j.db=W,H(j)?I(j):W}).then(function(W){j.db=M.db=W;for(var X=0;X<P.length;X++)P[X]._dbInfo.db=W}).catch(function(W){throw T(j,W),W})}function J(j,M,P,q){q===void 0&&(q=1);try{var G=j.db.transaction(j.storeName,M);P(null,G)}catch(W){if(q>0&&(!j.db||W.name==="InvalidStateError"||W.name==="NotFoundError"))return d.resolve().then(function(){if(!j.db||W.name==="NotFoundError"&&!j.db.objectStoreNames.contains(j.storeName)&&j.version<=j.db.version)return j.db&&(j.version=j.db.version+1),I(j)}).then(function(){return $(j).then(function(){J(j,M,P,q-1)})}).catch(P);P(W)}}function K(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(j){var M=this,P={db:null};if(j)for(var q in j)P[q]=j[q];var G=y[P.name];G||(G=K(),y[P.name]=G),G.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=z);var W=[];function X(){return d.resolve()}for(var re=0;re<G.forages.length;re++){var ce=G.forages[re];ce!==M&&W.push(ce._initReady().catch(X))}var ue=G.forages.slice(0);return d.all(W).then(function(){return P.db=G.db,L(P)}).then(function(de){return P.db=de,H(P,M._defaultConfig.version)?I(P):de}).then(function(de){P.db=G.db=de,M._dbInfo=P;for(var ye=0;ye<ue.length;ye++){var Re=ue[ye];Re!==M&&(Re._dbInfo.db=P.db,Re._dbInfo.version=P.version)}})}function F(j,M){var P=this;j=p(j);var q=new d(function(G,W){P.ready().then(function(){J(P._dbInfo,k,function(X,re){if(X)return W(X);try{var ce=re.objectStore(P._dbInfo.storeName),ue=ce.get(j);ue.onsuccess=function(){var de=ue.result;de===void 0&&(de=null),B(de)&&(de=E(de)),G(de)},ue.onerror=function(){W(ue.error)}}catch(de){W(de)}})}).catch(W)});return h(q,M),q}function U(j,M){var P=this,q=new d(function(G,W){P.ready().then(function(){J(P._dbInfo,k,function(X,re){if(X)return W(X);try{var ce=re.objectStore(P._dbInfo.storeName),ue=ce.openCursor(),de=1;ue.onsuccess=function(){var ye=ue.result;if(ye){var Re=ye.value;B(Re)&&(Re=E(Re));var Ue=j(Re,ye.key,de++);Ue!==void 0?G(Ue):ye.continue()}else G()},ue.onerror=function(){W(ue.error)}}catch(ye){W(ye)}})}).catch(W)});return h(q,M),q}function ae(j,M,P){var q=this;j=p(j);var G=new d(function(W,X){var re;q.ready().then(function(){return re=q._dbInfo,x.call(M)==="[object Blob]"?b(re.db).then(function(ce){return ce?M:A(M)}):M}).then(function(ce){J(q._dbInfo,_,function(ue,de){if(ue)return X(ue);try{var ye=de.objectStore(q._dbInfo.storeName);ce===null&&(ce=void 0);var Re=ye.put(ce,j);de.oncomplete=function(){ce===void 0&&(ce=null),W(ce)},de.onabort=de.onerror=function(){var Ue=Re.error?Re.error:Re.transaction.error;X(Ue)}}catch(Ue){X(Ue)}})}).catch(X)});return h(G,P),G}function xe(j,M){var P=this;j=p(j);var q=new d(function(G,W){P.ready().then(function(){J(P._dbInfo,_,function(X,re){if(X)return W(X);try{var ce=re.objectStore(P._dbInfo.storeName),ue=ce.delete(j);re.oncomplete=function(){G()},re.onerror=function(){W(ue.error)},re.onabort=function(){var de=ue.error?ue.error:ue.transaction.error;W(de)}}catch(de){W(de)}})}).catch(W)});return h(q,M),q}function ke(j){var M=this,P=new d(function(q,G){M.ready().then(function(){J(M._dbInfo,_,function(W,X){if(W)return G(W);try{var re=X.objectStore(M._dbInfo.storeName),ce=re.clear();X.oncomplete=function(){q()},X.onabort=X.onerror=function(){var ue=ce.error?ce.error:ce.transaction.error;G(ue)}}catch(ue){G(ue)}})}).catch(G)});return h(P,j),P}function be(j){var M=this,P=new d(function(q,G){M.ready().then(function(){J(M._dbInfo,k,function(W,X){if(W)return G(W);try{var re=X.objectStore(M._dbInfo.storeName),ce=re.count();ce.onsuccess=function(){q(ce.result)},ce.onerror=function(){G(ce.error)}}catch(ue){G(ue)}})}).catch(G)});return h(P,j),P}function Fe(j,M){var P=this,q=new d(function(G,W){if(j<0){G(null);return}P.ready().then(function(){J(P._dbInfo,k,function(X,re){if(X)return W(X);try{var ce=re.objectStore(P._dbInfo.storeName),ue=!1,de=ce.openKeyCursor();de.onsuccess=function(){var ye=de.result;if(!ye){G(null);return}j===0||ue?G(ye.key):(ue=!0,ye.advance(j))},de.onerror=function(){W(de.error)}}catch(ye){W(ye)}})}).catch(W)});return h(q,M),q}function Ge(j){var M=this,P=new d(function(q,G){M.ready().then(function(){J(M._dbInfo,k,function(W,X){if(W)return G(W);try{var re=X.objectStore(M._dbInfo.storeName),ce=re.openKeyCursor(),ue=[];ce.onsuccess=function(){var de=ce.result;if(!de){q(ue);return}ue.push(de.key),de.continue()},ce.onerror=function(){G(ce.error)}}catch(de){G(de)}})}).catch(G)});return h(P,j),P}function et(j,M){M=v.apply(this,arguments);var P=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||P.name,j.storeName=j.storeName||P.storeName);var q=this,G;if(!j.name)G=d.reject("Invalid arguments");else{var W=j.name===P.name&&q._dbInfo.db,X=W?d.resolve(q._dbInfo.db):L(j).then(function(re){var ce=y[j.name],ue=ce.forages;ce.db=re;for(var de=0;de<ue.length;de++)ue[de]._dbInfo.db=re;return re});j.storeName?G=X.then(function(re){if(re.objectStoreNames.contains(j.storeName)){var ce=re.version+1;N(j);var ue=y[j.name],de=ue.forages;re.close();for(var ye=0;ye<de.length;ye++){var Re=de[ye];Re._dbInfo.db=null,Re._dbInfo.version=ce}var Ue=new d(function(ze,ft){var ot=c.open(j.name,ce);ot.onerror=function(pr){var Ki=ot.result;Ki.close(),ft(pr)},ot.onupgradeneeded=function(){var pr=ot.result;pr.deleteObjectStore(j.storeName)},ot.onsuccess=function(){var pr=ot.result;pr.close(),ze(pr)}});return Ue.then(function(ze){ue.db=ze;for(var ft=0;ft<de.length;ft++){var ot=de[ft];ot._dbInfo.db=ze,C(ot._dbInfo)}}).catch(function(ze){throw(T(j,ze)||d.resolve()).catch(function(){}),ze})}}):G=X.then(function(re){N(j);var ce=y[j.name],ue=ce.forages;re.close();for(var de=0;de<ue.length;de++){var ye=ue[de];ye._dbInfo.db=null}var Re=new d(function(Ue,ze){var ft=c.deleteDatabase(j.name);ft.onerror=function(){var ot=ft.result;ot&&ot.close(),ze(ft.error)},ft.onblocked=function(){console.warn('dropInstance blocked for database "'+j.name+'" until all open connections are closed')},ft.onsuccess=function(){var ot=ft.result;ot&&ot.close(),Ue(ot)}});return Re.then(function(Ue){ce.db=Ue;for(var ze=0;ze<ue.length;ze++){var ft=ue[ze];C(ft._dbInfo)}}).catch(function(Ue){throw(T(j,Ue)||d.resolve()).catch(function(){}),Ue})})}return h(G,M),G}var fr={_driver:"asyncStorage",_initStorage:ne,_support:f(),iterate:U,getItem:F,setItem:ae,removeItem:xe,clear:ke,length:be,key:Fe,keys:Ge,dropInstance:et};function Dt(){return typeof openDatabase=="function"}var Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pt="~~local_forage_type~",We=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",Z=D.length,Q="arbf",se="blob",oe="si08",ee="ui08",fe="uic8",we="si16",$e="si32",Ze="ur16",He="ui32",hr="fl32",it="fl64",xt=Z+Q.length,jt=Object.prototype.toString;function Mt(j){var M=j.length*.75,P=j.length,q,G=0,W,X,re,ce;j[j.length-1]==="="&&(M--,j[j.length-2]==="="&&M--);var ue=new ArrayBuffer(M),de=new Uint8Array(ue);for(q=0;q<P;q+=4)W=Me.indexOf(j[q]),X=Me.indexOf(j[q+1]),re=Me.indexOf(j[q+2]),ce=Me.indexOf(j[q+3]),de[G++]=W<<2|X>>4,de[G++]=(X&15)<<4|re>>2,de[G++]=(re&3)<<6|ce&63;return ue}function Ct(j){var M=new Uint8Array(j),P="",q;for(q=0;q<M.length;q+=3)P+=Me[M[q]>>2],P+=Me[(M[q]&3)<<4|M[q+1]>>4],P+=Me[(M[q+1]&15)<<2|M[q+2]>>6],P+=Me[M[q+2]&63];return M.length%3===2?P=P.substring(0,P.length-1)+"=":M.length%3===1&&(P=P.substring(0,P.length-2)+"=="),P}function mr(j,M){var P="";if(j&&(P=jt.call(j)),j&&(P==="[object ArrayBuffer]"||j.buffer&&jt.call(j.buffer)==="[object ArrayBuffer]")){var q,G=D;j instanceof ArrayBuffer?(q=j,G+=Q):(q=j.buffer,P==="[object Int8Array]"?G+=oe:P==="[object Uint8Array]"?G+=ee:P==="[object Uint8ClampedArray]"?G+=fe:P==="[object Int16Array]"?G+=we:P==="[object Uint16Array]"?G+=Ze:P==="[object Int32Array]"?G+=$e:P==="[object Uint32Array]"?G+=He:P==="[object Float32Array]"?G+=hr:P==="[object Float64Array]"?G+=it:M(new Error("Failed to get type for BinaryArray"))),M(G+Ct(q))}else if(P==="[object Blob]"){var W=new FileReader;W.onload=function(){var X=pt+j.type+"~"+Ct(this.result);M(D+se+X)},W.readAsArrayBuffer(j)}else try{M(JSON.stringify(j))}catch(X){console.error("Couldn't convert value into a JSON string: ",j),M(null,X)}}function Gi(j){if(j.substring(0,Z)!==D)return JSON.parse(j);var M=j.substring(xt),P=j.substring(Z,xt),q;if(P===se&&We.test(M)){var G=M.match(We);q=G[1],M=M.substring(G[0].length)}var W=Mt(M);switch(P){case Q:return W;case se:return u([W],{type:q});case oe:return new Int8Array(W);case ee:return new Uint8Array(W);case fe:return new Uint8ClampedArray(W);case we:return new Int16Array(W);case Ze:return new Uint16Array(W);case $e:return new Int32Array(W);case He:return new Uint32Array(W);case hr:return new Float32Array(W);case it:return new Float64Array(W);default:throw new Error("Unkown type: "+P)}}var Zi={serialize:mr,deserialize:Gi,stringToBuffer:Mt,bufferToString:Ct};function Bs(j,M,P,q){j.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],P,q)}function jo(j){var M=this,P={db:null};if(j)for(var q in j)P[q]=typeof j[q]!="string"?j[q].toString():j[q];var G=new d(function(W,X){try{P.db=openDatabase(P.name,String(P.version),P.description,P.size)}catch(re){return X(re)}P.db.transaction(function(re){Bs(re,P,function(){M._dbInfo=P,W()},function(ce,ue){X(ue)})},X)});return P.serializer=Zi,G}function Ht(j,M,P,q,G,W){j.executeSql(P,q,G,function(X,re){re.code===re.SYNTAX_ERR?X.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(ce,ue){ue.rows.length?W(ce,re):Bs(ce,M,function(){ce.executeSql(P,q,G,W)},W)},W):W(X,re)},W)}function Wc(j,M){var P=this;j=p(j);var q=new d(function(G,W){P.ready().then(function(){var X=P._dbInfo;X.db.transaction(function(re){Ht(re,X,"SELECT * FROM "+X.storeName+" WHERE key = ? LIMIT 1",[j],function(ce,ue){var de=ue.rows.length?ue.rows.item(0).value:null;de&&(de=X.serializer.deserialize(de)),G(de)},function(ce,ue){W(ue)})})}).catch(W)});return h(q,M),q}function Ur(j,M){var P=this,q=new d(function(G,W){P.ready().then(function(){var X=P._dbInfo;X.db.transaction(function(re){Ht(re,X,"SELECT * FROM "+X.storeName,[],function(ce,ue){for(var de=ue.rows,ye=de.length,Re=0;Re<ye;Re++){var Ue=de.item(Re),ze=Ue.value;if(ze&&(ze=X.serializer.deserialize(ze)),ze=j(ze,Ue.key,Re+1),ze!==void 0){G(ze);return}}G()},function(ce,ue){W(ue)})})}).catch(W)});return h(q,M),q}function jr(j,M,P,q){var G=this;j=p(j);var W=new d(function(X,re){G.ready().then(function(){M===void 0&&(M=null);var ce=M,ue=G._dbInfo;ue.serializer.serialize(M,function(de,ye){ye?re(ye):ue.db.transaction(function(Re){Ht(Re,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[j,de],function(){X(ce)},function(Ue,ze){re(ze)})},function(Re){if(Re.code===Re.QUOTA_ERR){if(q>0){X(jr.apply(G,[j,ce,P,q-1]));return}re(Re)}})})}).catch(re)});return h(W,P),W}function jn(j,M,P){return jr.apply(this,[j,M,P,1])}function as(j,M){var P=this;j=p(j);var q=new d(function(G,W){P.ready().then(function(){var X=P._dbInfo;X.db.transaction(function(re){Ht(re,X,"DELETE FROM "+X.storeName+" WHERE key = ?",[j],function(){G()},function(ce,ue){W(ue)})})}).catch(W)});return h(q,M),q}function No(j){var M=this,P=new d(function(q,G){M.ready().then(function(){var W=M._dbInfo;W.db.transaction(function(X){Ht(X,W,"DELETE FROM "+W.storeName,[],function(){q()},function(re,ce){G(ce)})})}).catch(G)});return h(P,j),P}function an(j){var M=this,P=new d(function(q,G){M.ready().then(function(){var W=M._dbInfo;W.db.transaction(function(X){Ht(X,W,"SELECT COUNT(key) as c FROM "+W.storeName,[],function(re,ce){var ue=ce.rows.item(0).c;q(ue)},function(re,ce){G(ce)})})}).catch(G)});return h(P,j),P}function on(j,M){var P=this,q=new d(function(G,W){P.ready().then(function(){var X=P._dbInfo;X.db.transaction(function(re){Ht(re,X,"SELECT key FROM "+X.storeName+" WHERE id = ? LIMIT 1",[j+1],function(ce,ue){var de=ue.rows.length?ue.rows.item(0).key:null;G(de)},function(ce,ue){W(ue)})})}).catch(W)});return h(q,M),q}function hx(j){var M=this,P=new d(function(q,G){M.ready().then(function(){var W=M._dbInfo;W.db.transaction(function(X){Ht(X,W,"SELECT key FROM "+W.storeName,[],function(re,ce){for(var ue=[],de=0;de<ce.rows.length;de++)ue.push(ce.rows.item(de).key);q(ue)},function(re,ce){G(ce)})})}).catch(G)});return h(P,j),P}function mx(j){return new d(function(M,P){j.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(G,W){for(var X=[],re=0;re<W.rows.length;re++)X.push(W.rows.item(re).name);M({db:j,storeNames:X})},function(G,W){P(W)})},function(q){P(q)})})}function px(j,M){M=v.apply(this,arguments);var P=this.config();j=typeof j!="function"&&j||{},j.name||(j.name=j.name||P.name,j.storeName=j.storeName||P.storeName);var q=this,G;return j.name?G=new d(function(W){var X;j.name===P.name?X=q._dbInfo.db:X=openDatabase(j.name,"","",0),j.storeName?W({db:X,storeNames:[j.storeName]}):W(mx(X))}).then(function(W){return new d(function(X,re){W.db.transaction(function(ce){function ue(Ue){return new d(function(ze,ft){ce.executeSql("DROP TABLE IF EXISTS "+Ue,[],function(){ze()},function(ot,pr){ft(pr)})})}for(var de=[],ye=0,Re=W.storeNames.length;ye<Re;ye++)de.push(ue(W.storeNames[ye]));d.all(de).then(function(){X()}).catch(function(Ue){re(Ue)})},function(ce){re(ce)})})}):G=d.reject("Invalid arguments"),h(G,M),G}var gx={_driver:"webSQLStorage",_initStorage:jo,_support:Dt(),iterate:Ur,getItem:Wc,setItem:jn,removeItem:as,clear:No,length:an,key:on,keys:hx,dropInstance:px};function yx(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function bh(j,M){var P=j.name+"/";return j.storeName!==M.storeName&&(P+=j.storeName+"/"),P}function vx(){var j="_localforage_support_test";try{return localStorage.setItem(j,!0),localStorage.removeItem(j),!1}catch{return!0}}function xx(){return!vx()||localStorage.length>0}function wx(j){var M=this,P={};if(j)for(var q in j)P[q]=j[q];return P.keyPrefix=bh(j,M._defaultConfig),xx()?(M._dbInfo=P,P.serializer=Zi,d.resolve()):d.reject()}function bx(j){var M=this,P=M.ready().then(function(){for(var q=M._dbInfo.keyPrefix,G=localStorage.length-1;G>=0;G--){var W=localStorage.key(G);W.indexOf(q)===0&&localStorage.removeItem(W)}});return h(P,j),P}function _x(j,M){var P=this;j=p(j);var q=P.ready().then(function(){var G=P._dbInfo,W=localStorage.getItem(G.keyPrefix+j);return W&&(W=G.serializer.deserialize(W)),W});return h(q,M),q}function kx(j,M){var P=this,q=P.ready().then(function(){for(var G=P._dbInfo,W=G.keyPrefix,X=W.length,re=localStorage.length,ce=1,ue=0;ue<re;ue++){var de=localStorage.key(ue);if(de.indexOf(W)===0){var ye=localStorage.getItem(de);if(ye&&(ye=G.serializer.deserialize(ye)),ye=j(ye,de.substring(X),ce++),ye!==void 0)return ye}}});return h(q,M),q}function jx(j,M){var P=this,q=P.ready().then(function(){var G=P._dbInfo,W;try{W=localStorage.key(j)}catch{W=null}return W&&(W=W.substring(G.keyPrefix.length)),W});return h(q,M),q}function Nx(j){var M=this,P=M.ready().then(function(){for(var q=M._dbInfo,G=localStorage.length,W=[],X=0;X<G;X++){var re=localStorage.key(X);re.indexOf(q.keyPrefix)===0&&W.push(re.substring(q.keyPrefix.length))}return W});return h(P,j),P}function Sx(j){var M=this,P=M.keys().then(function(q){return q.length});return h(P,j),P}function Ex(j,M){var P=this;j=p(j);var q=P.ready().then(function(){var G=P._dbInfo;localStorage.removeItem(G.keyPrefix+j)});return h(q,M),q}function Cx(j,M,P){var q=this;j=p(j);var G=q.ready().then(function(){M===void 0&&(M=null);var W=M;return new d(function(X,re){var ce=q._dbInfo;ce.serializer.serialize(M,function(ue,de){if(de)re(de);else try{localStorage.setItem(ce.keyPrefix+j,ue),X(W)}catch(ye){(ye.name==="QuotaExceededError"||ye.name==="NS_ERROR_DOM_QUOTA_REACHED")&&re(ye),re(ye)}})})});return h(G,P),G}function Tx(j,M){if(M=v.apply(this,arguments),j=typeof j!="function"&&j||{},!j.name){var P=this.config();j.name=j.name||P.name,j.storeName=j.storeName||P.storeName}var q=this,G;return j.name?G=new d(function(W){j.storeName?W(bh(j,q._defaultConfig)):W(j.name+"/")}).then(function(W){for(var X=localStorage.length-1;X>=0;X--){var re=localStorage.key(X);re.indexOf(W)===0&&localStorage.removeItem(re)}}):G=d.reject("Invalid arguments"),h(G,M),G}var Ax={_driver:"localStorageWrapper",_initStorage:wx,_support:yx(),iterate:kx,getItem:_x,setItem:Cx,removeItem:Ex,clear:bx,length:Sx,key:jx,keys:Nx,dropInstance:Tx},Px=function(M,P){return M===P||typeof M=="number"&&typeof P=="number"&&isNaN(M)&&isNaN(P)},Rx=function(M,P){for(var q=M.length,G=0;G<q;){if(Px(M[G],P))return!0;G++}return!1},_h=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"},Qi={},kh={},Vs={INDEXEDDB:fr,WEBSQL:gx,LOCALSTORAGE:Ax},Ox=[Vs.INDEXEDDB._driver,Vs.WEBSQL._driver,Vs.LOCALSTORAGE._driver],So=["dropInstance"],Hc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(So),Ix={description:"",driver:Ox.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Lx(j,M){j[M]=function(){var P=arguments;return j.ready().then(function(){return j[M].apply(j,P)})}}function qc(){for(var j=1;j<arguments.length;j++){var M=arguments[j];if(M)for(var P in M)M.hasOwnProperty(P)&&(_h(M[P])?arguments[0][P]=M[P].slice():arguments[0][P]=M[P])}return arguments[0]}var Dx=function(){function j(M){a(this,j);for(var P in Vs)if(Vs.hasOwnProperty(P)){var q=Vs[P],G=q._driver;this[P]=G,Qi[G]||this.defineDriver(q)}this._defaultConfig=qc({},Ix),this._config=qc({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return j.prototype.config=function(P){if((typeof P>"u"?"undefined":i(P))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in P){if(q==="storeName"&&(P[q]=P[q].replace(/\W/g,"_")),q==="version"&&typeof P[q]!="number")return new Error("Database version must be a number.");this._config[q]=P[q]}return"driver"in P&&P.driver?this.setDriver(this._config.driver):!0}else return typeof P=="string"?this._config[P]:this._config},j.prototype.defineDriver=function(P,q,G){var W=new d(function(X,re){try{var ce=P._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!P._driver){re(ue);return}for(var de=Hc.concat("_initStorage"),ye=0,Re=de.length;ye<Re;ye++){var Ue=de[ye],ze=!Rx(So,Ue);if((ze||P[Ue])&&typeof P[Ue]!="function"){re(ue);return}}var ft=function(){for(var Ki=function($x){return function(){var Ux=new Error("Method "+$x+" is not implemented by the current driver"),jh=d.reject(Ux);return h(jh,arguments[arguments.length-1]),jh}},Gc=0,Fx=So.length;Gc<Fx;Gc++){var Zc=So[Gc];P[Zc]||(P[Zc]=Ki(Zc))}};ft();var ot=function(Ki){Qi[ce]&&console.info("Redefining LocalForage driver: "+ce),Qi[ce]=P,kh[ce]=Ki,X()};"_support"in P?P._support&&typeof P._support=="function"?P._support().then(ot,re):ot(!!P._support):ot(!0)}catch(pr){re(pr)}});return m(W,q,G),W},j.prototype.driver=function(){return this._driver||null},j.prototype.getDriver=function(P,q,G){var W=Qi[P]?d.resolve(Qi[P]):d.reject(new Error("Driver not found."));return m(W,q,G),W},j.prototype.getSerializer=function(P){var q=d.resolve(Zi);return m(q,P),q},j.prototype.ready=function(P){var q=this,G=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return m(G,P,P),G},j.prototype.setDriver=function(P,q,G){var W=this;_h(P)||(P=[P]);var X=this._getSupportedDrivers(P);function re(){W._config.driver=W.driver()}function ce(ye){return W._extend(ye),re(),W._ready=W._initStorage(W._config),W._ready}function ue(ye){return function(){var Re=0;function Ue(){for(;Re<ye.length;){var ze=ye[Re];return Re++,W._dbInfo=null,W._ready=null,W.getDriver(ze).then(ce).catch(Ue)}re();var ft=new Error("No available storage method found.");return W._driverSet=d.reject(ft),W._driverSet}return Ue()}}var de=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=de.then(function(){var ye=X[0];return W._dbInfo=null,W._ready=null,W.getDriver(ye).then(function(Re){W._driver=Re._driver,re(),W._wrapLibraryMethodsWithReady(),W._initDriver=ue(X)})}).catch(function(){re();var ye=new Error("No available storage method found.");return W._driverSet=d.reject(ye),W._driverSet}),m(this._driverSet,q,G),this._driverSet},j.prototype.supports=function(P){return!!kh[P]},j.prototype._extend=function(P){qc(this,P)},j.prototype._getSupportedDrivers=function(P){for(var q=[],G=0,W=P.length;G<W;G++){var X=P[G];this.supports(X)&&q.push(X)}return q},j.prototype._wrapLibraryMethodsWithReady=function(){for(var P=0,q=Hc.length;P<q;P++)Lx(this,Hc[P])},j.prototype.createInstance=function(P){return new j(P)},j}(),Mx=new Dx;n.exports=Mx},{3:3}]},{},[4])(4)})})(Qv);var f3=Qv.exports;const tn=Yp(f3);function h3(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}function Kv(t,e){return new Promise(function(r,n){let s;return m3(t).then(function(i){try{return s=i,r(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(a){return n(a)}},n)})}const m3=t=>new Promise((e,r)=>{const n=new FileReader;n.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let a=0;if(i.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const o=i.getUint16(a);if(o===65498)break;const c=i.getUint16(a+2);if(o===65505&&i.getUint32(a+4)===1165519206){const f=a+10;let u;switch(i.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(i.getUint16(f+2,u)!==42)return r("TIFF header contains invalid version");const d=i.getUint32(f+4,u),h=f+d+2+12*i.getUint16(f+d,u);for(let m=f+d+2;m<h;m+=12)if(i.getUint16(m,u)==274){if(i.getUint16(m+2,u)!==3)return r("Orientation data type is invalid");if(i.getUint32(m+4,u)!==1)return r("Orientation data count is invalid");i.setUint16(m+8,1,u);break}return e(s.slice(a,a+2+c))}a+=2+c}return e(new Blob)}),n.readAsArrayBuffer(t)});var tc={},p3={get exports(){return tc},set exports(t){tc=t}};(function(t){var e,r,n={};p3.exports=n,n.parse=function(s,i){for(var a=n.bin.readUshort,o=n.bin.readUint,c=0,f={},u=new Uint8Array(s),d=u.length-4;o(u,d)!=101010256;)d--;c=d,c+=4;var h=a(u,c+=4);a(u,c+=2);var m=o(u,c+=2),p=o(u,c+=4);c+=4,c=p;for(var v=0;v<h;v++){o(u,c),c+=4,c+=4,c+=4,o(u,c+=4),m=o(u,c+=4);var w=o(u,c+=4),g=a(u,c+=4),y=a(u,c+2),x=a(u,c+4);c+=6;var k=o(u,c+=8);c+=4,c+=g+y+x,n._readLocal(u,k,f,m,w,i)}return f},n._readLocal=function(s,i,a,o,c,f){var u=n.bin.readUshort,d=n.bin.readUint;d(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);d(s,i+=2),d(s,i+=4),i+=4;var m=u(s,i+=8),p=u(s,i+=2);i+=2;var v=n.bin.readUTF8(s,i,m);if(i+=m,i+=p,f)a[v]={size:c,csize:o};else{var w=new Uint8Array(s.buffer,i);if(h==0)a[v]=new Uint8Array(w.buffer.slice(i,i+o));else{if(h!=8)throw"unknown compression method: "+h;var g=new Uint8Array(c);n.inflateRaw(w,g),a[v]=g}}},n.inflateRaw=function(s,i){return n.F.inflate(s,i)},n.inflate=function(s,i){return s[0],s[1],n.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},n.deflate=function(s,i){i==null&&(i={level:6});var a=0,o=new Uint8Array(50+Math.floor(1.1*s.length));o[a]=120,o[a+1]=156,a+=2,a=n.F.deflateRaw(s,o,a,i.level);var c=n.adler(s,0,s.length);return o[a+0]=c>>>24&255,o[a+1]=c>>>16&255,o[a+2]=c>>>8&255,o[a+3]=c>>>0&255,new Uint8Array(o.buffer,0,a+4)},n.deflateRaw=function(s,i){i==null&&(i={level:6});var a=new Uint8Array(50+Math.floor(1.1*s.length)),o=n.F.deflateRaw(s,a,o,i.level);return new Uint8Array(a.buffer,0,o)},n.encode=function(s,i){i==null&&(i=!1);var a=0,o=n.bin.writeUint,c=n.bin.writeUshort,f={};for(var u in s){var d=!n._noNeed(u)&&!i,h=s[u],m=n.crc.crc(h,0,h.length);f[u]={cpr:d,usize:h.length,crc:m,file:d?n.deflateRaw(h):h}}for(var u in f)a+=f[u].file.length+30+46+2*n.bin.sizeUTF8(u);a+=22;var p=new Uint8Array(a),v=0,w=[];for(var u in f){var g=f[u];w.push(v),v=n._writeHeader(p,v,u,g,0)}var y=0,x=v;for(var u in f)g=f[u],w.push(v),v=n._writeHeader(p,v,u,g,1,w[y++]);var k=v-x;return o(p,v,101010256),v+=4,c(p,v+=4,y),c(p,v+=2,y),o(p,v+=2,k),o(p,v+=4,x),v+=4,v+=2,p.buffer},n._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},n._writeHeader=function(s,i,a,o,c,f){var u=n.bin.writeUint,d=n.bin.writeUshort,h=o.file;return u(s,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),d(s,i,20),d(s,i+=2,0),d(s,i+=2,o.cpr?8:0),u(s,i+=2,0),u(s,i+=4,o.crc),u(s,i+=4,h.length),u(s,i+=4,o.usize),d(s,i+=4,n.bin.sizeUTF8(a)),d(s,i+=2,0),i+=2,c==1&&(i+=2,i+=2,u(s,i+=6,f),i+=4),i+=n.bin.writeUTF8(s,i,a),c==0&&(s.set(h,i),i+=h.length),i},n.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var a=i,o=0;o<8;o++)1&a?a=3988292384^a>>>1:a>>>=1;s[i]=a}return s}(),update:function(s,i,a,o){for(var c=0;c<o;c++)s=n.crc.table[255&(s^i[a+c])]^s>>>8;return s},crc:function(s,i,a){return 4294967295^n.crc.update(4294967295,s,i,a)}},n.adler=function(s,i,a){for(var o=1,c=0,f=i,u=i+a;f<u;){for(var d=Math.min(f+5552,u);f<d;)c+=o+=s[f++];o%=65521,c%=65521}return c<<16|o},n.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,a){s[i]=255&a,s[i+1]=a>>8&255,s[i+2]=a>>16&255,s[i+3]=a>>24&255},readASCII:function(s,i,a){for(var o="",c=0;c<a;c++)o+=String.fromCharCode(s[i+c]);return o},writeASCII:function(s,i,a){for(var o=0;o<a.length;o++)s[i+o]=a.charCodeAt(o)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,a){for(var o,c="",f=0;f<a;f++)c+="%"+n.bin.pad(s[i+f].toString(16));try{o=decodeURIComponent(c)}catch{return n.bin.readASCII(s,i,a)}return o},writeUTF8:function(s,i,a){for(var o=a.length,c=0,f=0;f<o;f++){var u=a.charCodeAt(f);if(!(4294967168&u))s[i+c]=u,c++;else if(!(4294965248&u))s[i+c]=192|u>>6,s[i+c+1]=128|u>>0&63,c+=2;else if(!(4294901760&u))s[i+c]=224|u>>12,s[i+c+1]=128|u>>6&63,s[i+c+2]=128|u>>0&63,c+=3;else{if(4292870144&u)throw"e";s[i+c]=240|u>>18,s[i+c+1]=128|u>>12&63,s[i+c+2]=128|u>>6&63,s[i+c+3]=128|u>>0&63,c+=4}}return c},sizeUTF8:function(s){for(var i=s.length,a=0,o=0;o<i;o++){var c=s.charCodeAt(o);if(!(4294967168&c))a++;else if(!(4294965248&c))a+=2;else if(!(4294901760&c))a+=3;else{if(4292870144&c)throw"e";a+=4}}return a}},n.F={},n.F.deflateRaw=function(s,i,a,o){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],f=n.F.U,u=n.F._goodIndex;n.F._hash;var d=n.F._putsE,h=0,m=a<<3,p=0,v=s.length;if(o==0){for(;h<v;)d(i,m,h+(T=Math.min(65535,v-h))==v?1:0),m=n.F._copyExact(s,h,T,i,m+8),h+=T;return m>>>3}var w=f.lits,g=f.strt,y=f.prev,x=0,k=0,_=0,S=0,O=0,b=0;for(v>2&&(g[b=n.F._hash(s,0)]=0),h=0;h<v;h++){if(O=b,h+1<v-2){b=n.F._hash(s,h+1);var N=h+1&32767;y[N]=g[b],g[b]=N}if(p<=h){(x>14e3||k>26697)&&v-h>100&&(p<h&&(w[x]=h-p,x+=2,p=h),m=n.F._writeBlock(h==v-1||p==v?1:0,w,x,S,s,_,h-_,i,m),x=k=S=0,_=h);var C=0;h<v-2&&(C=n.F._bestMatch(s,h,y,O,Math.min(c[2],v-h),c[3]));var T=C>>>16,R=65535&C;if(C!=0){R=65535&C;var L=u(T=C>>>16,f.of0);f.lhst[257+L]++;var I=u(R,f.df0);f.dhst[I]++,S+=f.exb[L]+f.dxb[I],w[x]=T<<23|h-p,w[x+1]=R<<16|L<<8|I,x+=2,p=h+T}else f.lhst[s[h]]++;k++}}for(_==h&&s.length!=0||(p<h&&(w[x]=h-p,x+=2,p=h),m=n.F._writeBlock(1,w,x,S,s,_,h-_,i,m),x=0,k=0,x=k=S=0,_=h);7&m;)m++;return m>>>3},n.F._bestMatch=function(s,i,a,o,c,f){var u=32767&i,d=a[u],h=u-d+32768&32767;if(d==u||o!=n.F._hash(s,i-h))return 0;for(var m=0,p=0,v=Math.min(32767,i);h<=v&&--f!=0&&d!=u;){if(m==0||s[i+m]==s[i+m-h]){var w=n.F._howLong(s,i,h);if(w>m){if(p=h,(m=w)>=c)break;h+2<w&&(w=h+2);for(var g=0,y=0;y<w-2;y++){var x=i-h+y+32768&32767,k=x-a[x]+32768&32767;k>g&&(g=k,d=x)}}}h+=(u=d)-(d=a[u])+32768&32767}return m<<16|p},n.F._howLong=function(s,i,a){if(s[i]!=s[i-a]||s[i+1]!=s[i+1-a]||s[i+2]!=s[i+2-a])return 0;var o=i,c=Math.min(s.length,i+258);for(i+=3;i<c&&s[i]==s[i-a];)i++;return i-o},n.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(s,i,a,o,c,f,u,d,h){var m,p,v,w,g,y,x,k,_,S=n.F.U,O=n.F._putsF,b=n.F._putsE;S.lhst[256]++,p=(m=n.F.getTrees())[0],v=m[1],w=m[2],g=m[3],y=m[4],x=m[5],k=m[6],_=m[7];var N=32+(h+3&7?8-(h+3&7):0)+(u<<3),C=o+n.F.contSize(S.fltree,S.lhst)+n.F.contSize(S.fdtree,S.dhst),T=o+n.F.contSize(S.ltree,S.lhst)+n.F.contSize(S.dtree,S.dhst);T+=14+3*x+n.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var R=0;R<286;R++)S.lhst[R]=0;for(R=0;R<30;R++)S.dhst[R]=0;for(R=0;R<19;R++)S.ihst[R]=0;var L=N<C&&N<T?0:C<T?1:2;if(O(d,h,s),O(d,h+1,L),h+=3,L==0){for(;7&h;)h++;h=n.F._copyExact(c,f,u,d,h)}else{var I,H;if(L==1&&(I=S.fltree,H=S.fdtree),L==2){n.F.makeCodes(S.ltree,p),n.F.revCodes(S.ltree,p),n.F.makeCodes(S.dtree,v),n.F.revCodes(S.dtree,v),n.F.makeCodes(S.itree,w),n.F.revCodes(S.itree,w),I=S.ltree,H=S.dtree,b(d,h,g-257),b(d,h+=5,y-1),b(d,h+=5,x-4),h+=4;for(var A=0;A<x;A++)b(d,h+3*A,S.itree[1+(S.ordr[A]<<1)]);h+=3*x,h=n.F._codeTiny(k,S.itree,d,h),h=n.F._codeTiny(_,S.itree,d,h)}for(var E=f,B=0;B<a;B+=2){for(var z=i[B],$=z>>>23,J=E+(8388607&z);E<J;)h=n.F._writeLit(c[E++],I,d,h);if($!=0){var K=i[B+1],ne=K>>16,F=K>>8&255,U=255&K;b(d,h=n.F._writeLit(257+F,I,d,h),$-S.of0[F]),h+=S.exb[F],O(d,h=n.F._writeLit(U,H,d,h),ne-S.df0[U]),h+=S.dxb[U],E+=$}}h=n.F._writeLit(256,I,d,h)}return h},n.F._copyExact=function(s,i,a,o,c){var f=c>>>3;return o[f]=a,o[f+1]=a>>>8,o[f+2]=255-o[f],o[f+3]=255-o[f+1],f+=4,o.set(new Uint8Array(s.buffer,i,a),f),c+(a+4<<3)},n.F.getTrees=function(){for(var s=n.F.U,i=n.F._hufTree(s.lhst,s.ltree,15),a=n.F._hufTree(s.dhst,s.dtree,15),o=[],c=n.F._lenCodes(s.ltree,o),f=[],u=n.F._lenCodes(s.dtree,f),d=0;d<o.length;d+=2)s.ihst[o[d]]++;for(d=0;d<f.length;d+=2)s.ihst[f[d]]++;for(var h=n.F._hufTree(s.ihst,s.itree,7),m=19;m>4&&s.itree[1+(s.ordr[m-1]<<1)]==0;)m--;return[i,a,h,c,u,m,o,f]},n.F.getSecond=function(s){for(var i=[],a=0;a<s.length;a+=2)i.push(s[a+1]);return i},n.F.nonZero=function(s){for(var i="",a=0;a<s.length;a+=2)s[a+1]!=0&&(i+=(a>>1)+",");return i},n.F.contSize=function(s,i){for(var a=0,o=0;o<i.length;o++)a+=i[o]*s[1+(o<<1)];return a},n.F._codeTiny=function(s,i,a,o){for(var c=0;c<s.length;c+=2){var f=s[c],u=s[c+1];o=n.F._writeLit(f,i,a,o);var d=f==16?2:f==17?3:7;f>15&&(n.F._putsE(a,o,u,d),o+=d)}return o},n.F._lenCodes=function(s,i){for(var a=s.length;a!=2&&s[a-1]==0;)a-=2;for(var o=0;o<a;o+=2){var c=s[o+1],f=o+3<a?s[o+3]:-1,u=o+5<a?s[o+5]:-1,d=o==0?-1:s[o-1];if(c==0&&f==c&&u==c){for(var h=o+5;h+2<a&&s[h+2]==c;)h+=2;(m=Math.min(h+1-o>>>1,138))<11?i.push(17,m-3):i.push(18,m-11),o+=2*m-2}else if(c==d&&f==c&&u==c){for(h=o+5;h+2<a&&s[h+2]==c;)h+=2;var m=Math.min(h+1-o>>>1,6);i.push(16,m-3),o+=2*m-2}else i.push(c,0)}return a>>>1},n.F._hufTree=function(s,i,a){var o=[],c=s.length,f=i.length,u=0;for(u=0;u<f;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<c;u++)s[u]!=0&&o.push({lit:u,f:s[u]});var d=o.length,h=o.slice(0);if(d==0)return 0;if(d==1){var m=o[0].lit;return h=m==0?1:0,i[1+(m<<1)]=1,i[1+(h<<1)]=1,1}o.sort(function(k,_){return k.f-_.f});var p=o[0],v=o[1],w=0,g=1,y=2;for(o[0]={lit:-1,f:p.f+v.f,l:p,r:v,d:0};g!=d-1;)p=w!=g&&(y==d||o[w].f<o[y].f)?o[w++]:o[y++],v=w!=g&&(y==d||o[w].f<o[y].f)?o[w++]:o[y++],o[g++]={lit:-1,f:p.f+v.f,l:p,r:v};var x=n.F.setDepth(o[g-1],0);for(x>a&&(n.F.restrictDepth(h,a,x),x=a),u=0;u<d;u++)i[1+(h[u].lit<<1)]=h[u].d;return x},n.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(n.F.setDepth(s.l,i+1),n.F.setDepth(s.r,i+1))},n.F.restrictDepth=function(s,i,a){var o=0,c=1<<a-i,f=0;for(s.sort(function(d,h){return h.d==d.d?d.f-h.f:h.d-d.d}),o=0;o<s.length&&s[o].d>i;o++){var u=s[o].d;s[o].d=i,f+=c-(1<<a-u)}for(f>>>=a-i;f>0;)(u=s[o].d)<i?(s[o].d++,f-=1<<i-u-1):o++;for(;o>=0;o--)s[o].d==i&&f<0&&(s[o].d--,f++);f!=0&&console.log("debt left")},n.F._goodIndex=function(s,i){var a=0;return i[16|a]<=s&&(a|=16),i[8|a]<=s&&(a|=8),i[4|a]<=s&&(a|=4),i[2|a]<=s&&(a|=2),i[1|a]<=s&&(a|=1),a},n.F._writeLit=function(s,i,a,o){return n.F._putsF(a,o,i[s<<1]),o+i[1+(s<<1)]},n.F.inflate=function(s,i){var a=Uint8Array;if(s[0]==3&&s[1]==0)return i||new a(0);var o=n.F,c=o._bitsF,f=o._bitsE,u=o._decodeTiny,d=o.makeCodes,h=o.codes2map,m=o._get17,p=o.U,v=i==null;v&&(i=new a(s.length>>>2<<3));for(var w,g,y=0,x=0,k=0,_=0,S=0,O=0,b=0,N=0,C=0;y==0;)if(y=c(s,C,1),x=c(s,C+1,2),C+=3,x!=0){if(v&&(i=n.F._check(i,N+(1<<17))),x==1&&(w=p.flmap,g=p.fdmap,O=511,b=31),x==2){k=f(s,C,5)+257,_=f(s,C+5,5)+1,S=f(s,C+10,4)+4,C+=14;for(var T=0;T<38;T+=2)p.itree[T]=0,p.itree[T+1]=0;var R=1;for(T=0;T<S;T++){var L=f(s,C+3*T,3);p.itree[1+(p.ordr[T]<<1)]=L,L>R&&(R=L)}C+=3*S,d(p.itree,R),h(p.itree,R,p.imap),w=p.lmap,g=p.dmap,C=u(p.imap,(1<<R)-1,k+_,s,C,p.ttree);var I=o._copyOut(p.ttree,0,k,p.ltree);O=(1<<I)-1;var H=o._copyOut(p.ttree,k,_,p.dtree);b=(1<<H)-1,d(p.ltree,I),h(p.ltree,I,w),d(p.dtree,H),h(p.dtree,H,g)}for(;;){var A=w[m(s,C)&O];C+=15&A;var E=A>>>4;if(!(E>>>8))i[N++]=E;else{if(E==256)break;var B=N+E-254;if(E>264){var z=p.ldef[E-257];B=N+(z>>>3)+f(s,C,7&z),C+=7&z}var $=g[m(s,C)&b];C+=15&$;var J=$>>>4,K=p.ddef[J],ne=(K>>>4)+c(s,C,15&K);for(C+=15&K,v&&(i=n.F._check(i,N+(1<<17)));N<B;)i[N]=i[N++-ne],i[N]=i[N++-ne],i[N]=i[N++-ne],i[N]=i[N++-ne];N=B}}}else{7&C&&(C+=8-(7&C));var F=4+(C>>>3),U=s[F-4]|s[F-3]<<8;v&&(i=n.F._check(i,N+U)),i.set(new a(s.buffer,s.byteOffset+F,U),N),C=F+U<<3,N+=U}return i.length==N?i:i.slice(0,N)},n.F._check=function(s,i){var a=s.length;if(i<=a)return s;var o=new Uint8Array(Math.max(a<<1,i));return o.set(s,0),o},n.F._decodeTiny=function(s,i,a,o,c,f){for(var u=n.F._bitsE,d=n.F._get17,h=0;h<a;){var m=s[d(o,c)&i];c+=15&m;var p=m>>>4;if(p<=15)f[h]=p,h++;else{var v=0,w=0;p==16?(w=3+u(o,c,2),c+=2,v=f[h-1]):p==17?(w=3+u(o,c,3),c+=3):p==18&&(w=11+u(o,c,7),c+=7);for(var g=h+w;h<g;)f[h]=v,h++}}return c},n.F._copyOut=function(s,i,a,o){for(var c=0,f=0,u=o.length>>>1;f<a;){var d=s[f+i];o[f<<1]=0,o[1+(f<<1)]=d,d>c&&(c=d),f++}for(;f<u;)o[f<<1]=0,o[1+(f<<1)]=0,f++;return c},n.F.makeCodes=function(s,i){for(var a,o,c,f,u=n.F.U,d=s.length,h=u.bl_count,m=0;m<=i;m++)h[m]=0;for(m=1;m<d;m+=2)h[s[m]]++;var p=u.next_code;for(a=0,h[0]=0,o=1;o<=i;o++)a=a+h[o-1]<<1,p[o]=a;for(c=0;c<d;c+=2)(f=s[c+1])!=0&&(s[c]=p[f],p[f]++)},n.F.codes2map=function(s,i,a){for(var o=s.length,c=n.F.U.rev15,f=0;f<o;f+=2)if(s[f+1]!=0)for(var u=f>>1,d=s[f+1],h=u<<4|d,m=i-d,p=s[f]<<m,v=p+(1<<m);p!=v;)a[c[p]>>>15-i]=h,p++},n.F.revCodes=function(s,i){for(var a=n.F.U.rev15,o=15-i,c=0;c<s.length;c+=2){var f=s[c]<<i-s[c+1];s[c]=a[f]>>>o}},n.F._putsE=function(s,i,a){a<<=7&i;var o=i>>>3;s[o]|=a,s[o+1]|=a>>>8},n.F._putsF=function(s,i,a){a<<=7&i;var o=i>>>3;s[o]|=a,s[o+1]|=a>>>8,s[o+2]|=a>>>16},n.F._bitsE=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<a)-1},n.F._bitsF=function(s,i,a){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<a)-1},n.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},n.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=n.F.U,i=0;i<32768;i++){var a=i;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,s.rev15[i]=(a>>>16|a<<16)>>>17}function o(c,f,u){for(;f--!=0;)c.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];o(s.fltree,144,8),o(s.fltree,112,9),o(s.fltree,24,7),o(s.fltree,8,8),n.F.makeCodes(s.fltree,9),n.F.codes2map(s.fltree,9,s.flmap),n.F.revCodes(s.fltree,9),o(s.fdtree,32,5),n.F.makeCodes(s.fdtree,5),n.F.codes2map(s.fdtree,5,s.fdmap),n.F.revCodes(s.fdtree,5),o(s.itree,19,0),o(s.ltree,286,0),o(s.dtree,30,0),o(s.ttree,320,0)}()})();var g3=h3({__proto__:null,default:tc},[tc]);const Sr=function(){var t={nextZero(u,d){for(;u[d]!=0;)d++;return d},readUshort:(u,d)=>u[d]<<8|u[d+1],writeUshort(u,d,h){u[d]=h>>8&255,u[d+1]=255&h},readUint:(u,d)=>16777216*u[d]+(u[d+1]<<16|u[d+2]<<8|u[d+3]),writeUint(u,d,h){u[d]=h>>24&255,u[d+1]=h>>16&255,u[d+2]=h>>8&255,u[d+3]=255&h},readASCII(u,d,h){let m="";for(let p=0;p<h;p++)m+=String.fromCharCode(u[d+p]);return m},writeASCII(u,d,h){for(let m=0;m<h.length;m++)u[d+m]=h.charCodeAt(m)},readBytes(u,d,h){const m=[];for(let p=0;p<h;p++)m.push(u[d+p]);return m},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,d,h){let m,p="";for(let v=0;v<h;v++)p+=`%${t.pad(u[d+v].toString(16))}`;try{m=decodeURIComponent(p)}catch{return t.readASCII(u,d,h)}return m}};function e(u,d,h,m){const p=d*h,v=i(m),w=Math.ceil(d*v/8),g=new Uint8Array(4*p),y=new Uint32Array(g.buffer),{ctype:x}=m,{depth:k}=m,_=t.readUshort;if(x==6){const z=p<<2;if(k==8)for(var S=0;S<z;S+=4)g[S]=u[S],g[S+1]=u[S+1],g[S+2]=u[S+2],g[S+3]=u[S+3];if(k==16)for(S=0;S<z;S++)g[S]=u[S<<1]}else if(x==2){const z=m.tabs.tRNS;if(z==null){if(k==8)for(S=0;S<p;S++){var O=3*S;y[S]=255<<24|u[O+2]<<16|u[O+1]<<8|u[O]}if(k==16)for(S=0;S<p;S++)O=6*S,y[S]=255<<24|u[O+4]<<16|u[O+2]<<8|u[O]}else{var b=z[0];const $=z[1],J=z[2];if(k==8)for(S=0;S<p;S++){var N=S<<2;O=3*S,y[S]=255<<24|u[O+2]<<16|u[O+1]<<8|u[O],u[O]==b&&u[O+1]==$&&u[O+2]==J&&(g[N+3]=0)}if(k==16)for(S=0;S<p;S++)N=S<<2,O=6*S,y[S]=255<<24|u[O+4]<<16|u[O+2]<<8|u[O],_(u,O)==b&&_(u,O+2)==$&&_(u,O+4)==J&&(g[N+3]=0)}}else if(x==3){const z=m.tabs.PLTE,$=m.tabs.tRNS,J=$?$.length:0;if(k==1)for(var C=0;C<h;C++){var T=C*w,R=C*d;for(S=0;S<d;S++){N=R+S<<2;var L=3*(I=u[T+(S>>3)]>>7-((7&S)<<0)&1);g[N]=z[L],g[N+1]=z[L+1],g[N+2]=z[L+2],g[N+3]=I<J?$[I]:255}}if(k==2)for(C=0;C<h;C++)for(T=C*w,R=C*d,S=0;S<d;S++)N=R+S<<2,L=3*(I=u[T+(S>>2)]>>6-((3&S)<<1)&3),g[N]=z[L],g[N+1]=z[L+1],g[N+2]=z[L+2],g[N+3]=I<J?$[I]:255;if(k==4)for(C=0;C<h;C++)for(T=C*w,R=C*d,S=0;S<d;S++)N=R+S<<2,L=3*(I=u[T+(S>>1)]>>4-((1&S)<<2)&15),g[N]=z[L],g[N+1]=z[L+1],g[N+2]=z[L+2],g[N+3]=I<J?$[I]:255;if(k==8)for(S=0;S<p;S++){var I;N=S<<2,L=3*(I=u[S]),g[N]=z[L],g[N+1]=z[L+1],g[N+2]=z[L+2],g[N+3]=I<J?$[I]:255}}else if(x==4){if(k==8)for(S=0;S<p;S++){N=S<<2;var H=u[A=S<<1];g[N]=H,g[N+1]=H,g[N+2]=H,g[N+3]=u[A+1]}if(k==16)for(S=0;S<p;S++){var A;N=S<<2,H=u[A=S<<2],g[N]=H,g[N+1]=H,g[N+2]=H,g[N+3]=u[A+2]}}else if(x==0)for(b=m.tabs.tRNS?m.tabs.tRNS:-1,C=0;C<h;C++){const z=C*w,$=C*d;if(k==1)for(var E=0;E<d;E++){var B=(H=255*(u[z+(E>>>3)]>>>7-(7&E)&1))==255*b?0:255;y[$+E]=B<<24|H<<16|H<<8|H}else if(k==2)for(E=0;E<d;E++)B=(H=85*(u[z+(E>>>2)]>>>6-((3&E)<<1)&3))==85*b?0:255,y[$+E]=B<<24|H<<16|H<<8|H;else if(k==4)for(E=0;E<d;E++)B=(H=17*(u[z+(E>>>1)]>>>4-((1&E)<<2)&15))==17*b?0:255,y[$+E]=B<<24|H<<16|H<<8|H;else if(k==8)for(E=0;E<d;E++)B=(H=u[z+E])==b?0:255,y[$+E]=B<<24|H<<16|H<<8|H;else if(k==16)for(E=0;E<d;E++)H=u[z+(E<<1)],B=_(u,z+(E<<1))==b?0:255,y[$+E]=B<<24|H<<16|H<<8|H}return g}function r(u,d,h,m){const p=i(u),v=Math.ceil(h*p/8),w=new Uint8Array((v+1+u.interlace)*m);return d=u.tabs.CgBI?s(d,w):n(d,w),u.interlace==0?d=a(d,u,0,h,m):u.interlace==1&&(d=function(y,x){const k=x.width,_=x.height,S=i(x),O=S>>3,b=Math.ceil(k*S/8),N=new Uint8Array(_*b);let C=0;const T=[0,0,4,0,2,0,1],R=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],I=[8,8,4,4,2,2,1];let H=0;for(;H<7;){const E=L[H],B=I[H];let z=0,$=0,J=T[H];for(;J<_;)J+=E,$++;let K=R[H];for(;K<k;)K+=B,z++;const ne=Math.ceil(z*S/8);a(y,x,C,z,$);let F=0,U=T[H];for(;U<_;){let ae=R[H],xe=C+F*ne<<3;for(;ae<k;){var A;if(S==1&&(A=(A=y[xe>>3])>>7-(7&xe)&1,N[U*b+(ae>>3)]|=A<<7-((7&ae)<<0)),S==2&&(A=(A=y[xe>>3])>>6-(7&xe)&3,N[U*b+(ae>>2)]|=A<<6-((3&ae)<<1)),S==4&&(A=(A=y[xe>>3])>>4-(7&xe)&15,N[U*b+(ae>>1)]|=A<<4-((1&ae)<<2)),S>=8){const ke=U*b+ae*O;for(let be=0;be<O;be++)N[ke+be]=y[(xe>>3)+be]}xe+=S,ae+=B}F++,U+=E}z*$!=0&&(C+=$*(1+ne)),H+=1}return N}(d,u)),d}function n(u,d){return s(new Uint8Array(u.buffer,2,u.length-6),d)}var s=function(){const u={H:{}};return u.H.N=function(d,h){const m=Uint8Array;let p,v,w=0,g=0,y=0,x=0,k=0,_=0,S=0,O=0,b=0;if(d[0]==3&&d[1]==0)return h||new m(0);const N=u.H,C=N.b,T=N.e,R=N.R,L=N.n,I=N.A,H=N.Z,A=N.m,E=h==null;for(E&&(h=new m(d.length>>>2<<5));w==0;)if(w=C(d,b,1),g=C(d,b+1,2),b+=3,g!=0){if(E&&(h=u.H.W(h,O+(1<<17))),g==1&&(p=A.J,v=A.h,_=511,S=31),g==2){y=T(d,b,5)+257,x=T(d,b+5,5)+1,k=T(d,b+10,4)+4,b+=14;let z=1;for(var B=0;B<38;B+=2)A.Q[B]=0,A.Q[B+1]=0;for(B=0;B<k;B++){const K=T(d,b+3*B,3);A.Q[1+(A.X[B]<<1)]=K,K>z&&(z=K)}b+=3*k,L(A.Q,z),I(A.Q,z,A.u),p=A.w,v=A.d,b=R(A.u,(1<<z)-1,y+x,d,b,A.v);const $=N.V(A.v,0,y,A.C);_=(1<<$)-1;const J=N.V(A.v,y,x,A.D);S=(1<<J)-1,L(A.C,$),I(A.C,$,p),L(A.D,J),I(A.D,J,v)}for(;;){const z=p[H(d,b)&_];b+=15&z;const $=z>>>4;if(!($>>>8))h[O++]=$;else{if($==256)break;{let J=O+$-254;if($>264){const ae=A.q[$-257];J=O+(ae>>>3)+T(d,b,7&ae),b+=7&ae}const K=v[H(d,b)&S];b+=15&K;const ne=K>>>4,F=A.c[ne],U=(F>>>4)+C(d,b,15&F);for(b+=15&F;O<J;)h[O]=h[O++-U],h[O]=h[O++-U],h[O]=h[O++-U],h[O]=h[O++-U];O=J}}}}else{7&b&&(b+=8-(7&b));const z=4+(b>>>3),$=d[z-4]|d[z-3]<<8;E&&(h=u.H.W(h,O+$)),h.set(new m(d.buffer,d.byteOffset+z,$),O),b=z+$<<3,O+=$}return h.length==O?h:h.slice(0,O)},u.H.W=function(d,h){const m=d.length;if(h<=m)return d;const p=new Uint8Array(m<<1);return p.set(d,0),p},u.H.R=function(d,h,m,p,v,w){const g=u.H.e,y=u.H.Z;let x=0;for(;x<m;){const k=d[y(p,v)&h];v+=15&k;const _=k>>>4;if(_<=15)w[x]=_,x++;else{let S=0,O=0;_==16?(O=3+g(p,v,2),v+=2,S=w[x-1]):_==17?(O=3+g(p,v,3),v+=3):_==18&&(O=11+g(p,v,7),v+=7);const b=x+O;for(;x<b;)w[x]=S,x++}}return v},u.H.V=function(d,h,m,p){let v=0,w=0;const g=p.length>>>1;for(;w<m;){const y=d[w+h];p[w<<1]=0,p[1+(w<<1)]=y,y>v&&(v=y),w++}for(;w<g;)p[w<<1]=0,p[1+(w<<1)]=0,w++;return v},u.H.n=function(d,h){const m=u.H.m,p=d.length;let v,w,g,y;const x=m.j;for(var k=0;k<=h;k++)x[k]=0;for(k=1;k<p;k+=2)x[d[k]]++;const _=m.K;for(v=0,x[0]=0,w=1;w<=h;w++)v=v+x[w-1]<<1,_[w]=v;for(g=0;g<p;g+=2)y=d[g+1],y!=0&&(d[g]=_[y],_[y]++)},u.H.A=function(d,h,m){const p=d.length,v=u.H.m.r;for(let w=0;w<p;w+=2)if(d[w+1]!=0){const g=w>>1,y=d[w+1],x=g<<4|y,k=h-y;let _=d[w]<<k;const S=_+(1<<k);for(;_!=S;)m[v[_]>>>15-h]=x,_++}},u.H.l=function(d,h){const m=u.H.m.r,p=15-h;for(let v=0;v<d.length;v+=2){const w=d[v]<<h-d[v+1];d[v]=m[w]>>>p}},u.H.M=function(d,h,m){m<<=7&h;const p=h>>>3;d[p]|=m,d[p+1]|=m>>>8},u.H.I=function(d,h,m){m<<=7&h;const p=h>>>3;d[p]|=m,d[p+1]|=m>>>8,d[p+2]|=m>>>16},u.H.e=function(d,h,m){return(d[h>>>3]|d[1+(h>>>3)]<<8)>>>(7&h)&(1<<m)-1},u.H.b=function(d,h,m){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)&(1<<m)-1},u.H.Z=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(d,h){return(d[h>>>3]|d[1+(h>>>3)]<<8|d[2+(h>>>3)]<<16|d[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const d=Uint16Array,h=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=u.H.m;for(var h=0;h<32768;h++){let p=h;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,d.r[h]=(p>>>16|p<<16)>>>17}function m(p,v,w){for(;v--!=0;)p.push(0,w)}for(h=0;h<32;h++)d.q[h]=d.S[h]<<3|d.T[h],d.c[h]=d.p[h]<<4|d.z[h];m(d._,144,8),m(d._,112,9),m(d._,24,7),m(d._,8,8),u.H.n(d._,9),u.H.A(d._,9,d.J),u.H.l(d._,9),m(d.$,32,5),u.H.n(d.$,5),u.H.A(d.$,5,d.h),u.H.l(d.$,5),m(d.Q,19,0),m(d.C,286,0),m(d.D,30,0),m(d.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,d,h,m,p){let v=i(d);const w=Math.ceil(m*v/8);let g,y;v=Math.ceil(v/8);let x=u[h],k=0;if(x>1&&(u[h]=[0,0,1][x-2]),x==3)for(k=v;k<w;k++)u[k+1]=u[k+1]+(u[k+1-v]>>>1)&255;for(let _=0;_<p;_++)if(g=h+_*w,y=g+_+1,x=u[y-1],k=0,x==0)for(;k<w;k++)u[g+k]=u[y+k];else if(x==1){for(;k<v;k++)u[g+k]=u[y+k];for(;k<w;k++)u[g+k]=u[y+k]+u[g+k-v]}else if(x==2)for(;k<w;k++)u[g+k]=u[y+k]+u[g+k-w];else if(x==3){for(;k<v;k++)u[g+k]=u[y+k]+(u[g+k-w]>>>1);for(;k<w;k++)u[g+k]=u[y+k]+(u[g+k-w]+u[g+k-v]>>>1)}else{for(;k<v;k++)u[g+k]=u[y+k]+o(0,u[g+k-w],0);for(;k<w;k++)u[g+k]=u[y+k]+o(u[g+k-v],u[g+k-w],u[g+k-v-w])}return u}function o(u,d,h){const m=u+d-h,p=m-u,v=m-d,w=m-h;return p*p<=v*v&&p*p<=w*w?u:v*v<=w*w?d:h}function c(u,d,h){h.width=t.readUint(u,d),d+=4,h.height=t.readUint(u,d),d+=4,h.depth=u[d],d++,h.ctype=u[d],d++,h.compress=u[d],d++,h.filter=u[d],d++,h.interlace=u[d],d++}function f(u,d,h,m,p,v,w,g,y){const x=Math.min(d,p),k=Math.min(h,v);let _=0,S=0;for(let H=0;H<k;H++)for(let A=0;A<x;A++)if(w>=0&&g>=0?(_=H*d+A<<2,S=(g+H)*p+w+A<<2):(_=(-g+H)*d-w+A<<2,S=H*p+A<<2),y==0)m[S]=u[_],m[S+1]=u[_+1],m[S+2]=u[_+2],m[S+3]=u[_+3];else if(y==1){var O=u[_+3]*.00392156862745098,b=u[_]*O,N=u[_+1]*O,C=u[_+2]*O,T=m[S+3]*(1/255),R=m[S]*T,L=m[S+1]*T,I=m[S+2]*T;const E=1-O,B=O+T*E,z=B==0?0:1/B;m[S+3]=255*B,m[S+0]=(b+R*E)*z,m[S+1]=(N+L*E)*z,m[S+2]=(C+I*E)*z}else if(y==2)O=u[_+3],b=u[_],N=u[_+1],C=u[_+2],T=m[S+3],R=m[S],L=m[S+1],I=m[S+2],O==T&&b==R&&N==L&&C==I?(m[S]=0,m[S+1]=0,m[S+2]=0,m[S+3]=0):(m[S]=b,m[S+1]=N,m[S+2]=C,m[S+3]=O);else if(y==3){if(O=u[_+3],b=u[_],N=u[_+1],C=u[_+2],T=m[S+3],R=m[S],L=m[S+1],I=m[S+2],O==T&&b==R&&N==L&&C==I)continue;if(O<220&&T>20)return!1}return!0}return{decode:function(d){const h=new Uint8Array(d);let m=8;const p=t,v=p.readUshort,w=p.readUint,g={tabs:{},frames:[]},y=new Uint8Array(h.length);let x,k=0,_=0;const S=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(h[O]!=S[O])throw"The input is not a PNG file!";for(;m<h.length;){const H=p.readUint(h,m);m+=4;const A=p.readASCII(h,m,4);if(m+=4,A=="IHDR")c(h,m,g);else if(A=="iCCP"){for(var b=m;h[b]!=0;)b++;p.readASCII(h,m,b-m),h[b+1];const E=h.slice(b+2,m+H);let B=null;try{B=n(E)}catch{B=s(E)}g.tabs[A]=B}else if(A=="CgBI")g.tabs[A]=h.slice(m,m+4);else if(A=="IDAT"){for(O=0;O<H;O++)y[k+O]=h[m+O];k+=H}else if(A=="acTL")g.tabs[A]={num_frames:w(h,m),num_plays:w(h,m+4)},x=new Uint8Array(h.length);else if(A=="fcTL"){_!=0&&((I=g.frames[g.frames.length-1]).data=r(g,x.slice(0,_),I.rect.width,I.rect.height),_=0);const E={x:w(h,m+12),y:w(h,m+16),width:w(h,m+4),height:w(h,m+8)};let B=v(h,m+22);B=v(h,m+20)/(B==0?100:B);const z={rect:E,delay:Math.round(1e3*B),dispose:h[m+24],blend:h[m+25]};g.frames.push(z)}else if(A=="fdAT"){for(O=0;O<H-4;O++)x[_+O]=h[m+O+4];_+=H-4}else if(A=="pHYs")g.tabs[A]=[p.readUint(h,m),p.readUint(h,m+4),h[m+8]];else if(A=="cHRM")for(g.tabs[A]=[],O=0;O<8;O++)g.tabs[A].push(p.readUint(h,m+4*O));else if(A=="tEXt"||A=="zTXt"){g.tabs[A]==null&&(g.tabs[A]={});var N=p.nextZero(h,m),C=p.readASCII(h,m,N-m),T=m+H-N-1;if(A=="tEXt")L=p.readASCII(h,N+1,T);else{var R=n(h.slice(N+2,N+2+T));L=p.readUTF8(R,0,R.length)}g.tabs[A][C]=L}else if(A=="iTXt"){g.tabs[A]==null&&(g.tabs[A]={}),N=0,b=m,N=p.nextZero(h,b),C=p.readASCII(h,b,N-b);const E=h[b=N+1];var L;h[b+1],b+=2,N=p.nextZero(h,b),p.readASCII(h,b,N-b),b=N+1,N=p.nextZero(h,b),p.readUTF8(h,b,N-b),T=H-((b=N+1)-m),E==0?L=p.readUTF8(h,b,T):(R=n(h.slice(b,b+T)),L=p.readUTF8(R,0,R.length)),g.tabs[A][C]=L}else if(A=="PLTE")g.tabs[A]=p.readBytes(h,m,H);else if(A=="hIST"){const E=g.tabs.PLTE.length/3;for(g.tabs[A]=[],O=0;O<E;O++)g.tabs[A].push(v(h,m+2*O))}else if(A=="tRNS")g.ctype==3?g.tabs[A]=p.readBytes(h,m,H):g.ctype==0?g.tabs[A]=v(h,m):g.ctype==2&&(g.tabs[A]=[v(h,m),v(h,m+2),v(h,m+4)]);else if(A=="gAMA")g.tabs[A]=p.readUint(h,m)/1e5;else if(A=="sRGB")g.tabs[A]=h[m];else if(A=="bKGD")g.ctype==0||g.ctype==4?g.tabs[A]=[v(h,m)]:g.ctype==2||g.ctype==6?g.tabs[A]=[v(h,m),v(h,m+2),v(h,m+4)]:g.ctype==3&&(g.tabs[A]=h[m]);else if(A=="IEND")break;m+=H,p.readUint(h,m),m+=4}var I;return _!=0&&((I=g.frames[g.frames.length-1]).data=r(g,x.slice(0,_),I.rect.width,I.rect.height)),g.data=r(g,y,g.width,g.height),delete g.compress,delete g.interlace,delete g.filter,g},toRGBA8:function(d){const h=d.width,m=d.height;if(d.tabs.acTL==null)return[e(d.data,h,m,d).buffer];const p=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const v=h*m*4,w=new Uint8Array(v),g=new Uint8Array(v),y=new Uint8Array(v);for(let k=0;k<d.frames.length;k++){const _=d.frames[k],S=_.rect.x,O=_.rect.y,b=_.rect.width,N=_.rect.height,C=e(_.data,b,N,d);if(k!=0)for(var x=0;x<v;x++)y[x]=w[x];if(_.blend==0?f(C,b,N,w,h,m,S,O,0):_.blend==1&&f(C,b,N,w,h,m,S,O,1),p.push(w.buffer.slice(0)),_.dispose!=0){if(_.dispose==1)f(g,b,N,w,h,m,S,O,0);else if(_.dispose==2)for(x=0;x<v;x++)w[x]=y[x]}}return p},_paeth:o,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Sr,{_bin:e}=Sr,r=Sr._paeth;var n={table:function(){const b=new Uint32Array(256);for(let N=0;N<256;N++){let C=N;for(let T=0;T<8;T++)1&C?C=3988292384^C>>>1:C>>>=1;b[N]=C}return b}(),update(b,N,C,T){for(let R=0;R<T;R++)b=n.table[255&(b^N[C+R])]^b>>>8;return b},crc:(b,N,C)=>4294967295^n.update(4294967295,b,N,C)};function s(b,N,C,T){N[C]+=b[0]*T>>4,N[C+1]+=b[1]*T>>4,N[C+2]+=b[2]*T>>4,N[C+3]+=b[3]*T>>4}function i(b){return Math.max(0,Math.min(255,b))}function a(b,N){const C=b[0]-N[0],T=b[1]-N[1],R=b[2]-N[2],L=b[3]-N[3];return C*C+T*T+R*R+L*L}function o(b,N,C,T,R,L,I){I==null&&(I=1);const H=T.length,A=[];for(var E=0;E<H;E++){const U=T[E];A.push([U>>>0&255,U>>>8&255,U>>>16&255,U>>>24&255])}for(E=0;E<H;E++){let U=4294967295;for(var B=0,z=0;z<H;z++){var $=a(A[E],A[z]);z!=E&&$<U&&(U=$,B=z)}}const J=new Uint32Array(R.buffer),K=new Int16Array(N*C*4),ne=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<ne.length;E++)ne[E]=255*((ne[E]+.5)/16-.5);for(let U=0;U<C;U++)for(let ae=0;ae<N;ae++){var F;E=4*(U*N+ae),I!=2?F=[i(b[E]+K[E]),i(b[E+1]+K[E+1]),i(b[E+2]+K[E+2]),i(b[E+3]+K[E+3])]:($=ne[4*(3&U)+(3&ae)],F=[i(b[E]+$),i(b[E+1]+$),i(b[E+2]+$),i(b[E+3]+$)]),B=0;let xe=16777215;for(z=0;z<H;z++){const Fe=a(F,A[z]);Fe<xe&&(xe=Fe,B=z)}const ke=A[B],be=[F[0]-ke[0],F[1]-ke[1],F[2]-ke[2],F[3]-ke[3]];I==1&&(ae!=N-1&&s(be,K,E+4,7),U!=C-1&&(ae!=0&&s(be,K,E+4*N-4,3),s(be,K,E+4*N,5),ae!=N-1&&s(be,K,E+4*N+4,1))),L[E>>2]=B,J[E>>2]=T[B]}}function c(b,N,C,T,R){R==null&&(R={});const{crc:L}=n,I=e.writeUint,H=e.writeUshort,A=e.writeASCII;let E=8;const B=b.frames.length>1;let z,$=!1,J=33+(B?20:0);if(R.sRGB!=null&&(J+=13),R.pHYs!=null&&(J+=21),R.iCCP!=null&&(z=pako.deflate(R.iCCP),J+=21+z.length+4),b.ctype==3){for(var K=b.plte.length,ne=0;ne<K;ne++)b.plte[ne]>>>24!=255&&($=!0);J+=8+3*K+4+($?8+1*K+4:0)}for(var F=0;F<b.frames.length;F++)B&&(J+=38),J+=(ke=b.frames[F]).cimg.length+12,F!=0&&(J+=4);J+=12;const U=new Uint8Array(J),ae=[137,80,78,71,13,10,26,10];for(ne=0;ne<8;ne++)U[ne]=ae[ne];if(I(U,E,13),E+=4,A(U,E,"IHDR"),E+=4,I(U,E,N),E+=4,I(U,E,C),E+=4,U[E]=b.depth,E++,U[E]=b.ctype,E++,U[E]=0,E++,U[E]=0,E++,U[E]=0,E++,I(U,E,L(U,E-17,17)),E+=4,R.sRGB!=null&&(I(U,E,1),E+=4,A(U,E,"sRGB"),E+=4,U[E]=R.sRGB,E++,I(U,E,L(U,E-5,5)),E+=4),R.iCCP!=null){const be=13+z.length;I(U,E,be),E+=4,A(U,E,"iCCP"),E+=4,A(U,E,"ICC profile"),E+=11,E+=2,U.set(z,E),E+=z.length,I(U,E,L(U,E-(be+4),be+4)),E+=4}if(R.pHYs!=null&&(I(U,E,9),E+=4,A(U,E,"pHYs"),E+=4,I(U,E,R.pHYs[0]),E+=4,I(U,E,R.pHYs[1]),E+=4,U[E]=R.pHYs[2],E++,I(U,E,L(U,E-13,13)),E+=4),B&&(I(U,E,8),E+=4,A(U,E,"acTL"),E+=4,I(U,E,b.frames.length),E+=4,I(U,E,R.loop!=null?R.loop:0),E+=4,I(U,E,L(U,E-12,12)),E+=4),b.ctype==3){for(I(U,E,3*(K=b.plte.length)),E+=4,A(U,E,"PLTE"),E+=4,ne=0;ne<K;ne++){const be=3*ne,Fe=b.plte[ne],Ge=255&Fe,et=Fe>>>8&255,fr=Fe>>>16&255;U[E+be+0]=Ge,U[E+be+1]=et,U[E+be+2]=fr}if(E+=3*K,I(U,E,L(U,E-3*K-4,3*K+4)),E+=4,$){for(I(U,E,K),E+=4,A(U,E,"tRNS"),E+=4,ne=0;ne<K;ne++)U[E+ne]=b.plte[ne]>>>24&255;E+=K,I(U,E,L(U,E-K-4,K+4)),E+=4}}let xe=0;for(F=0;F<b.frames.length;F++){var ke=b.frames[F];B&&(I(U,E,26),E+=4,A(U,E,"fcTL"),E+=4,I(U,E,xe++),E+=4,I(U,E,ke.rect.width),E+=4,I(U,E,ke.rect.height),E+=4,I(U,E,ke.rect.x),E+=4,I(U,E,ke.rect.y),E+=4,H(U,E,T[F]),E+=2,H(U,E,1e3),E+=2,U[E]=ke.dispose,E++,U[E]=ke.blend,E++,I(U,E,L(U,E-30,30)),E+=4);const be=ke.cimg;I(U,E,(K=be.length)+(F==0?0:4)),E+=4;const Fe=E;A(U,E,F==0?"IDAT":"fdAT"),E+=4,F!=0&&(I(U,E,xe++),E+=4),U.set(be,E),E+=K,I(U,E,L(U,Fe,E-Fe)),E+=4}return I(U,E,0),E+=4,A(U,E,"IEND"),E+=4,I(U,E,L(U,E-4,4)),E+=4,U.buffer}function f(b,N,C){for(let T=0;T<b.frames.length;T++){const R=b.frames[T];R.rect.width;const L=R.rect.height,I=new Uint8Array(L*R.bpl+L);R.cimg=m(R.img,L,R.bpp,R.bpl,I,N,C)}}function u(b,N,C,T,R){const L=R[0],I=R[1],H=R[2],A=R[3],E=R[4],B=R[5];let z=6,$=8,J=255;for(var K=0;K<b.length;K++){const pt=new Uint8Array(b[K]);for(var ne=pt.length,F=0;F<ne;F+=4)J&=pt[F+3]}const U=J!=255,ae=function(We,D,Z,Q,se,oe){const ee=[];for(var fe=0;fe<We.length;fe++){const it=new Uint8Array(We[fe]),xt=new Uint32Array(it.buffer);var we;let jt=0,Mt=0,Ct=D,mr=Z,Gi=Q?1:0;if(fe!=0){const Zi=oe||Q||fe==1||ee[fe-2].dispose!=0?1:2;let Bs=0,jo=1e9;for(let Ht=0;Ht<Zi;Ht++){var $e=new Uint8Array(We[fe-1-Ht]);const Wc=new Uint32Array(We[fe-1-Ht]);let Ur=D,jr=Z,jn=-1,as=-1;for(let an=0;an<Z;an++)for(let on=0;on<D;on++)xt[He=an*D+on]!=Wc[He]&&(on<Ur&&(Ur=on),on>jn&&(jn=on),an<jr&&(jr=an),an>as&&(as=an));jn==-1&&(Ur=jr=jn=as=0),se&&((1&Ur)==1&&Ur--,(1&jr)==1&&jr--);const No=(jn-Ur+1)*(as-jr+1);No<jo&&(jo=No,Bs=Ht,jt=Ur,Mt=jr,Ct=jn-Ur+1,mr=as-jr+1)}$e=new Uint8Array(We[fe-1-Bs]),Bs==1&&(ee[fe-1].dispose=2),we=new Uint8Array(Ct*mr*4),t($e,D,Z,we,Ct,mr,-jt,-Mt,0),Gi=t(it,D,Z,we,Ct,mr,-jt,-Mt,3)?1:0,Gi==1?h(it,D,Z,we,{x:jt,y:Mt,width:Ct,height:mr}):t(it,D,Z,we,Ct,mr,-jt,-Mt,0)}else we=it.slice(0);ee.push({rect:{x:jt,y:Mt,width:Ct,height:mr},img:we,blend:Gi,dispose:0})}if(Q)for(fe=0;fe<ee.length;fe++){if((hr=ee[fe]).blend==1)continue;const it=hr.rect,xt=ee[fe-1].rect,jt=Math.min(it.x,xt.x),Mt=Math.min(it.y,xt.y),Ct={x:jt,y:Mt,width:Math.max(it.x+it.width,xt.x+xt.width)-jt,height:Math.max(it.y+it.height,xt.y+xt.height)-Mt};ee[fe-1].dispose=1,fe-1!=0&&d(We,D,Z,ee,fe-1,Ct,se),d(We,D,Z,ee,fe,Ct,se)}let Ze=0;if(We.length!=1)for(var He=0;He<ee.length;He++){var hr;Ze+=(hr=ee[He]).rect.width*hr.rect.height}return ee}(b,N,C,L,I,H),xe={},ke=[],be=[];if(T!=0){const pt=[];for(F=0;F<ae.length;F++)pt.push(ae[F].img.buffer);const We=function(se){let oe=0;for(var ee=0;ee<se.length;ee++)oe+=se[ee].byteLength;const fe=new Uint8Array(oe);let we=0;for(ee=0;ee<se.length;ee++){const $e=new Uint8Array(se[ee]),Ze=$e.length;for(let He=0;He<Ze;He+=4){let hr=$e[He],it=$e[He+1],xt=$e[He+2];const jt=$e[He+3];jt==0&&(hr=it=xt=0),fe[we+He]=hr,fe[we+He+1]=it,fe[we+He+2]=xt,fe[we+He+3]=jt}we+=Ze}return fe.buffer}(pt),D=v(We,T);for(F=0;F<D.plte.length;F++)ke.push(D.plte[F].est.rgba);let Z=0;for(F=0;F<ae.length;F++){const Q=(Ge=ae[F]).img.length;var Fe=new Uint8Array(D.inds.buffer,Z>>2,Q>>2);be.push(Fe);const se=new Uint8Array(D.abuf,Z,Q);B&&o(Ge.img,Ge.rect.width,Ge.rect.height,ke,se,Fe),Ge.img.set(se),Z+=Q}}else for(K=0;K<ae.length;K++){var Ge=ae[K];const pt=new Uint32Array(Ge.img.buffer);var et=Ge.rect.width;for(ne=pt.length,Fe=new Uint8Array(ne),be.push(Fe),F=0;F<ne;F++){const We=pt[F];if(F!=0&&We==pt[F-1])Fe[F]=Fe[F-1];else if(F>et&&We==pt[F-et])Fe[F]=Fe[F-et];else{let D=xe[We];if(D==null&&(xe[We]=D=ke.length,ke.push(We),ke.length>=300))break;Fe[F]=D}}}const fr=ke.length;for(fr<=256&&E==0&&($=fr<=2?1:fr<=4?2:fr<=16?4:8,$=Math.max($,A)),K=0;K<ae.length;K++){(Ge=ae[K]).rect.x,Ge.rect.y,et=Ge.rect.width;const pt=Ge.rect.height;let We=Ge.img;new Uint32Array(We.buffer);let D=4*et,Z=4;if(fr<=256&&E==0){D=Math.ceil($*et/8);var Dt=new Uint8Array(D*pt);const Q=be[K];for(let se=0;se<pt;se++){F=se*D;const oe=se*et;if($==8)for(var Me=0;Me<et;Me++)Dt[F+Me]=Q[oe+Me];else if($==4)for(Me=0;Me<et;Me++)Dt[F+(Me>>1)]|=Q[oe+Me]<<4-4*(1&Me);else if($==2)for(Me=0;Me<et;Me++)Dt[F+(Me>>2)]|=Q[oe+Me]<<6-2*(3&Me);else if($==1)for(Me=0;Me<et;Me++)Dt[F+(Me>>3)]|=Q[oe+Me]<<7-1*(7&Me)}We=Dt,z=3,Z=1}else if(U==0&&ae.length==1){Dt=new Uint8Array(et*pt*3);const Q=et*pt;for(F=0;F<Q;F++){const se=3*F,oe=4*F;Dt[se]=We[oe],Dt[se+1]=We[oe+1],Dt[se+2]=We[oe+2]}We=Dt,z=2,Z=3,D=3*et}Ge.img=We,Ge.bpl=D,Ge.bpp=Z}return{ctype:z,depth:$,plte:ke,frames:ae}}function d(b,N,C,T,R,L,I){const H=Uint8Array,A=Uint32Array,E=new H(b[R-1]),B=new A(b[R-1]),z=R+1<b.length?new H(b[R+1]):null,$=new H(b[R]),J=new A($.buffer);let K=N,ne=C,F=-1,U=-1;for(let xe=0;xe<L.height;xe++)for(let ke=0;ke<L.width;ke++){const be=L.x+ke,Fe=L.y+xe,Ge=Fe*N+be,et=J[Ge];et==0||T[R-1].dispose==0&&B[Ge]==et&&(z==null||z[4*Ge+3]!=0)||(be<K&&(K=be),be>F&&(F=be),Fe<ne&&(ne=Fe),Fe>U&&(U=Fe))}F==-1&&(K=ne=F=U=0),I&&((1&K)==1&&K--,(1&ne)==1&&ne--),L={x:K,y:ne,width:F-K+1,height:U-ne+1};const ae=T[R];ae.rect=L,ae.blend=1,ae.img=new Uint8Array(L.width*L.height*4),T[R-1].dispose==0?(t(E,N,C,ae.img,L.width,L.height,-L.x,-L.y,0),h($,N,C,ae.img,L)):t($,N,C,ae.img,L.width,L.height,-L.x,-L.y,0)}function h(b,N,C,T,R){t(b,N,C,T,R.width,R.height,-R.x,-R.y,2)}function m(b,N,C,T,R,L,I){const H=[];let A,E=[0,1,2,3,4];L!=-1?E=[L]:(N*T>5e5||C==1)&&(E=[0]),I&&(A={level:0});const B=g3;for(var z=0;z<E.length;z++){for(let K=0;K<N;K++)p(R,b,K,T,C,E[z]);H.push(B.deflate(R,A))}let $,J=1e9;for(z=0;z<H.length;z++)H[z].length<J&&($=z,J=H[z].length);return H[$]}function p(b,N,C,T,R,L){const I=C*T;let H=I+C;if(b[H]=L,H++,L==0)if(T<500)for(var A=0;A<T;A++)b[H+A]=N[I+A];else b.set(new Uint8Array(N.buffer,I,T),H);else if(L==1){for(A=0;A<R;A++)b[H+A]=N[I+A];for(A=R;A<T;A++)b[H+A]=N[I+A]-N[I+A-R]+256&255}else if(C==0){for(A=0;A<R;A++)b[H+A]=N[I+A];if(L==2)for(A=R;A<T;A++)b[H+A]=N[I+A];if(L==3)for(A=R;A<T;A++)b[H+A]=N[I+A]-(N[I+A-R]>>1)+256&255;if(L==4)for(A=R;A<T;A++)b[H+A]=N[I+A]-r(N[I+A-R],0,0)+256&255}else{if(L==2)for(A=0;A<T;A++)b[H+A]=N[I+A]+256-N[I+A-T]&255;if(L==3){for(A=0;A<R;A++)b[H+A]=N[I+A]+256-(N[I+A-T]>>1)&255;for(A=R;A<T;A++)b[H+A]=N[I+A]+256-(N[I+A-T]+N[I+A-R]>>1)&255}if(L==4){for(A=0;A<R;A++)b[H+A]=N[I+A]+256-r(0,N[I+A-T],0)&255;for(A=R;A<T;A++)b[H+A]=N[I+A]+256-r(N[I+A-R],N[I+A-T],N[I+A-R-T])&255}}}function v(b,N){const C=new Uint8Array(b),T=C.slice(0),R=new Uint32Array(T.buffer),L=w(T,N),I=L[0],H=L[1],A=C.length,E=new Uint8Array(A>>2);let B;if(C.length<2e7)for(var z=0;z<A;z+=4)B=g(I,$=C[z]*(1/255),J=C[z+1]*(1/255),K=C[z+2]*(1/255),ne=C[z+3]*(1/255)),E[z>>2]=B.ind,R[z>>2]=B.est.rgba;else for(z=0;z<A;z+=4){var $=C[z]*.00392156862745098,J=C[z+1]*(1/255),K=C[z+2]*(1/255),ne=C[z+3]*(1/255);for(B=I;B.left;)B=y(B.est,$,J,K,ne)<=0?B.left:B.right;E[z>>2]=B.ind,R[z>>2]=B.est.rgba}return{abuf:T.buffer,inds:E,plte:H}}function w(b,N,C){C==null&&(C=1e-4);const T=new Uint32Array(b.buffer),R={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};R.bst=_(b,R.i0,R.i1),R.est=S(R.bst);const L=[R];for(;L.length<N;){let H=0,A=0;for(var I=0;I<L.length;I++)L[I].est.L>H&&(H=L[I].est.L,A=I);if(H<C)break;const E=L[A],B=x(b,T,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=B||E.i1<=B){E.est.L=0;continue}const z={i0:E.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};z.bst=_(b,z.i0,z.i1),z.est=S(z.bst);const $={i0:B,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for($.bst={R:[],m:[],N:E.bst.N-z.bst.N},I=0;I<16;I++)$.bst.R[I]=E.bst.R[I]-z.bst.R[I];for(I=0;I<4;I++)$.bst.m[I]=E.bst.m[I]-z.bst.m[I];$.est=S($.bst),E.left=z,E.right=$,L[A]=z,L.push($)}for(L.sort((H,A)=>A.bst.N-H.bst.N),I=0;I<L.length;I++)L[I].ind=I;return[R,L]}function g(b,N,C,T,R){if(b.left==null)return b.tdst=function(z,$,J,K,ne){const F=$-z[0],U=J-z[1],ae=K-z[2],xe=ne-z[3];return F*F+U*U+ae*ae+xe*xe}(b.est.q,N,C,T,R),b;const L=y(b.est,N,C,T,R);let I=b.left,H=b.right;L>0&&(I=b.right,H=b.left);const A=g(I,N,C,T,R);if(A.tdst<=L*L)return A;const E=g(H,N,C,T,R);return E.tdst<A.tdst?E:A}function y(b,N,C,T,R){const{e:L}=b;return L[0]*N+L[1]*C+L[2]*T+L[3]*R-b.eMq}function x(b,N,C,T,R,L){for(T-=4;C<T;){for(;k(b,C,R)<=L;)C+=4;for(;k(b,T,R)>L;)T-=4;if(C>=T)break;const I=N[C>>2];N[C>>2]=N[T>>2],N[T>>2]=I,C+=4,T-=4}for(;k(b,C,R)>L;)C-=4;return C+4}function k(b,N,C){return b[N]*C[0]+b[N+1]*C[1]+b[N+2]*C[2]+b[N+3]*C[3]}function _(b,N,C){const T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],R=[0,0,0,0],L=C-N>>2;for(let I=N;I<C;I+=4){const H=b[I]*.00392156862745098,A=b[I+1]*(1/255),E=b[I+2]*(1/255),B=b[I+3]*(1/255);R[0]+=H,R[1]+=A,R[2]+=E,R[3]+=B,T[0]+=H*H,T[1]+=H*A,T[2]+=H*E,T[3]+=H*B,T[5]+=A*A,T[6]+=A*E,T[7]+=A*B,T[10]+=E*E,T[11]+=E*B,T[15]+=B*B}return T[4]=T[1],T[8]=T[2],T[9]=T[6],T[12]=T[3],T[13]=T[7],T[14]=T[11],{R:T,m:R,N:L}}function S(b){const{R:N}=b,{m:C}=b,{N:T}=b,R=C[0],L=C[1],I=C[2],H=C[3],A=T==0?0:1/T,E=[N[0]-R*R*A,N[1]-R*L*A,N[2]-R*I*A,N[3]-R*H*A,N[4]-L*R*A,N[5]-L*L*A,N[6]-L*I*A,N[7]-L*H*A,N[8]-I*R*A,N[9]-I*L*A,N[10]-I*I*A,N[11]-I*H*A,N[12]-H*R*A,N[13]-H*L*A,N[14]-H*I*A,N[15]-H*H*A],B=E,z=O;let $=[Math.random(),Math.random(),Math.random(),Math.random()],J=0,K=0;if(T!=0)for(let F=0;F<16&&($=z.multVec(B,$),K=Math.sqrt(z.dot($,$)),$=z.sml(1/K,$),!(F!=0&&Math.abs(K-J)<1e-9));F++)J=K;const ne=[R*A,L*A,I*A,H*A];return{Cov:E,q:ne,e:$,L:J,eMq255:z.dot(z.sml(255,ne),$),eMq:z.dot($,ne),rgba:(Math.round(255*ne[3])<<24|Math.round(255*ne[2])<<16|Math.round(255*ne[1])<<8|Math.round(255*ne[0])<<0)>>>0}}var O={multVec:(b,N)=>[b[0]*N[0]+b[1]*N[1]+b[2]*N[2]+b[3]*N[3],b[4]*N[0]+b[5]*N[1]+b[6]*N[2]+b[7]*N[3],b[8]*N[0]+b[9]*N[1]+b[10]*N[2]+b[11]*N[3],b[12]*N[0]+b[13]*N[1]+b[14]*N[2]+b[15]*N[3]],dot:(b,N)=>b[0]*N[0]+b[1]*N[1]+b[2]*N[2]+b[3]*N[3],sml:(b,N)=>[b*N[0],b*N[1],b*N[2],b*N[3]]};Sr.encode=function(N,C,T,R,L,I,H){R==null&&(R=0),H==null&&(H=!1);const A=u(N,C,T,R,[!1,!1,!1,0,H,!1]);return f(A,-1),c(A,C,T,L,I)},Sr.encodeLL=function(N,C,T,R,L,I,H,A){const E={ctype:0+(R==1?0:2)+(L==0?0:4),depth:I,frames:[]},B=(R+L)*I,z=B*C;for(let $=0;$<N.length;$++)E.frames.push({rect:{x:0,y:0,width:C,height:T},img:new Uint8Array(N[$]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil(z/8)});return f(E,0,!0),c(E,C,T,H,A)},Sr.encode.compress=u,Sr.encode.dither=o,Sr.quantize=v,Sr.quantize.getKDtree=w,Sr.quantize.getNearest=g})();const Yv={toArrayBuffer(t,e){const r=t.width,n=t.height,s=r<<2,i=t.getContext("2d").getImageData(0,0,r,n),a=new Uint32Array(i.data.buffer),o=(32*r+31)/32<<2,c=o*n,f=122+c,u=new ArrayBuffer(f),d=new DataView(u),h=1<<20;let m,p,v,w,g=h,y=0,x=0,k=0;function _(b){d.setUint16(x,b,!0),x+=2}function S(b){d.setUint32(x,b,!0),x+=4}function O(b){x+=b}_(19778),S(f),O(4),S(122),S(108),S(r),S(-n>>>0),_(1),_(32),S(3),S(c),S(2835),S(2835),O(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function b(){for(;y<n&&g>0;){for(w=122+y*o,m=0;m<s;)g--,p=a[k++],v=p>>>24,d.setUint32(w+m,p<<8|v),m+=4;y++}k<a.length?(g=h,setTimeout(b,Yv._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var Kt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},y3={[Kt.CHROME]:16384,[Kt.FIREFOX]:11180,[Kt.DESKTOP_SAFARI]:16384,[Kt.IE]:8192,[Kt.IOS]:4096,[Kt.ETC]:8192};const yh=typeof window<"u",Jv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,rc=yh&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),v3=(yh||Jv)&&(rc&&rc.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Xv=(yh||Jv)&&(rc&&rc.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function vh(t,e,r=Date.now()){return new Promise(n=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],a=globalThis.atob(s[1]);let o=a.length;const c=new Uint8Array(o);for(;o--;)c[o]=a.charCodeAt(o);const f=new Blob([c],{type:i});f.name=e,f.lastModified=r,n(f)})}function ex(t){return new Promise((e,r)=>{const n=new Xv;n.onload=()=>e(n.result),n.onerror=s=>r(s),n.readAsDataURL(t)})}function tx(t){return new Promise((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=s=>r(s),n.src=t})}function xs(){if(xs.cachedResult!==void 0)return xs.cachedResult;let t=Kt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Kt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Kt.IOS:/Safari/i.test(e)?t=Kt.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Kt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Kt.IE),xs.cachedResult=t,xs.cachedResult}function rx(t,e){const r=xs(),n=y3[r];let s=t,i=e,a=s*i;const o=s>i?i/s:s/i;for(;a>n*n;){const c=(n+s)/2,f=(n+i)/2;c<f?(i=f,s=f*o):(i=c*o,s=c),a=s*i}return{width:s,height:i}}function Vc(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function nx(t,e){const{width:r,height:n}=rx(t.width,t.height),[s,i]=Vc(r,n);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function fl(){return fl.cachedResult!==void 0||(fl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),fl.cachedResult}function nc(t,e={}){return new Promise(function(r,n){let s,i;var a=function(){try{return i=nx(s,e.fileType||t.type),r([s,i])}catch(c){return n(c)}},o=function(c){try{var f=function(u){try{throw u}catch(d){return n(d)}};try{let u;return ex(t).then(function(d){try{return u=d,tx(u).then(function(h){try{return s=h,function(){try{return a()}catch(m){return n(m)}}()}catch(m){return f(m)}},f)}catch(h){return f(h)}},f)}catch(u){f(u)}}catch(u){return n(u)}};try{if(fl()||[Kt.DESKTOP_SAFARI,Kt.MOBILE_SAFARI].includes(xs()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(c){try{return s=c,a()}catch{return o()}},o)}catch{o()}})}function sc(t,e,r,n,s=1){return new Promise(function(i,a){let o;if(e==="image/png"){let f,u,d;return f=t.getContext("2d"),{data:u}=f.getImageData(0,0,t.width,t.height),d=Sr.encode([u.buffer],t.width,t.height,4096*s),o=new Blob([d],{type:e}),o.name=r,o.lastModified=n,c.call(this)}{let f=function(){return c.call(this)};if(e==="image/bmp")return new Promise(u=>Yv.toBlob(t,u)).then((function(u){try{return o=u,o.name=r,o.lastModified=n,f.call(this)}catch(d){return a(d)}}).bind(this),a);{let u=function(){return f.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(d){try{return o=d,o.name=r,o.lastModified=n,u.call(this)}catch(h){return a(h)}}).bind(this),a);{let d;return d=t.toDataURL(e,s),vh(d,r,n).then((function(h){try{return o=h,u.call(this)}catch(m){return a(m)}}).bind(this),a)}}}function c(){return i(o)}})}function qr(t){t.width=0,t.height=0}function hi(){return new Promise(function(t,e){let r,n,s,i;return hi.cachedResult!==void 0?t(hi.cachedResult):vh("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,nc(r).then(function(o){try{return n=o[1],sc(n,r.type,r.name,r.lastModified).then(function(c){try{return s=c,qr(n),nc(s).then(function(f){try{return i=f[0],hi.cachedResult=i.width===1&&i.height===2,t(hi.cachedResult)}catch(u){return e(u)}},e)}catch(f){return e(f)}},e)}catch(c){return e(c)}},e)}catch(o){return e(o)}},e)})}function sx(t){return new Promise((e,r)=>{const n=new Xv;n.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const a=i.byteLength;let o=2;for(;o<a;){if(i.getUint16(o+2,!1)<=8)return e(-1);const c=i.getUint16(o,!1);if(o+=2,c==65505){if(i.getUint32(o+=2,!1)!=1165519206)return e(-1);const f=i.getUint16(o+=6,!1)==18761;o+=i.getUint32(o+4,f);const u=i.getUint16(o,f);o+=2;for(let d=0;d<u;d++)if(i.getUint16(o+12*d,f)==274)return e(i.getUint16(o+12*d+8,f))}else{if((65280&c)!=65280)break;o+=i.getUint16(o,!1)}}return e(-1)},n.onerror=s=>r(s),n.readAsArrayBuffer(t)})}function ix(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:s}=e;let i,a=t;return isFinite(s)&&(r>s||n>s)&&([a,i]=Vc(r,n),r>n?(a.width=s,a.height=n/r*s):(a.width=r/n*s,a.height=s),i.drawImage(t,0,0,a.width,a.height),qr(t)),a}function ax(t,e){const{width:r}=t,{height:n}=t,[s,i]=Vc(r,n);switch(e>4&&e<9?(s.width=n,s.height=r):(s.width=r,s.height=n),e){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r)}return i.drawImage(t,0,0,r,n),qr(t),s}function Wp(t,e,r=0){return new Promise(function(n,s){let i,a,o,c,f,u,d,h,m,p,v,w,g,y,x,k,_,S,O,b;function N(T=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=T,e.onProgress(Math.min(i,100))}function C(T){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(T,i),100),e.onProgress(i)}return i=r,a=e.maxIteration||10,o=1024*e.maxSizeMB*1024,N(),nc(t,e).then((function(T){try{return[,c]=T,N(),f=ix(c,e),N(),new Promise(function(R,L){var I;if(!(I=e.exifOrientation))return sx(t).then((function(A){try{return I=A,H.call(this)}catch(E){return L(E)}}).bind(this),L);function H(){return R(I)}return H.call(this)}).then((function(R){try{return u=R,N(),hi().then((function(L){try{return d=L?f:ax(f,u),N(),h=e.initialQuality||1,m=e.fileType||t.type,sc(d,m,t.name,t.lastModified,h).then((function(I){try{{let A=function(){if(a--&&(x>o||x>g)){let B,z;return B=b?.95*O.width:O.width,z=b?.95*O.height:O.height,[_,S]=Vc(B,z),S.drawImage(O,0,0,B,z),h*=m==="image/png"?.85:.95,sc(_,m,t.name,t.lastModified,h).then(function($){try{return k=$,qr(O),O=_,x=k.size,C(Math.min(99,Math.floor((y-x)/(y-o)*100))),A}catch(J){return s(J)}},s)}return[1]},E=function(){return qr(O),qr(_),qr(f),qr(d),qr(c),C(100),n(k)};if(p=I,N(),v=p.size>o,w=p.size>t.size,!v&&!w)return C(100),n(p);var H;return g=t.size,y=p.size,x=y,O=d,b=!e.alwaysKeepResolution&&v,(H=(function(B){for(;B;){if(B.then)return void B.then(H,s);try{if(B.pop){if(B.length)return B.pop()?E.call(this):B;B=A}else B=B.call(this)}catch(z){return s(z)}}}).bind(this))(A)}}catch(A){return s(A)}}).bind(this),s)}catch(I){return s(I)}}).bind(this),s)}catch(L){return s(L)}}).bind(this),s)}catch(R){return s(R)}}).bind(this),s)})}const x3=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Lu;function w3(t,e){return new Promise((r,n)=>{Lu||(Lu=function(a){const o=[];return o.push(a),URL.createObjectURL(new Blob(o))}(x3));const s=new Worker(Lu);s.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)s.terminate();else if(a.data.progress===void 0){if(a.data.error)return n(new Error(a.data.error)),void s.terminate();r(a.data.file),s.terminate()}else e.onProgress(a.data.progress)}),s.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",()=>{n(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function wt(t,e){return new Promise(function(r,n){let s,i,a,o,c,f;if(s={...e},a=0,{onProgress:o}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=m=>{a=m,typeof o=="function"&&o(a)},!(t instanceof Blob||t instanceof v3))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||f)return Wp(t,s).then((function(m){try{return i=m,h.call(this)}catch(p){return n(p)}}).bind(this),n);var u=(function(){try{return h.call(this)}catch(m){return n(m)}}).bind(this),d=function(m){try{return Wp(t,s).then(function(p){try{return i=p,u()}catch(v){return n(v)}},n)}catch(p){return n(p)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",w3(t,s).then(function(m){try{return i=m,u()}catch{return d()}},d)}catch{d()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=Kv(t,i))}catch{}return r(i)}})}wt.getDataUrlFromFile=ex,wt.getFilefromDataUrl=vh,wt.loadImage=tx,wt.drawImageInCanvas=nx,wt.drawFileInCanvas=nc,wt.canvasToFile=sc,wt.getExifOrientation=sx,wt.handleMaxWidthOrHeight=ix,wt.followExifOrientation=ax,wt.cleanupCanvasMemory=qr,wt.isAutoOrientationInBrowser=hi,wt.approximateBelowMaximumCanvasSizeOfBrowser=rx,wt.copyExifWithoutOrientation=Kv,wt.getBrowserName=xs,wt.version="2.0.2";tn.config({name:"sgvauto",storeName:"files",version:1,description:"Storage for uploaded files"});const b3={maxSizeMB:.2,maxWidthOrHeight:1200,useWebWorker:!0,quality:.8,fileType:"image/jpeg",alwaysKeepResolution:!1,initialQuality:.8,maxIteration:10,exifOrientation:!0},_3=async(t,e)=>{try{const r={...b3,onProgress:e},n=await wt(t,r);if(n.size>200*1024){const s={...r,maxSizeMB:.15,quality:.7};return await wt(n,s)}return n}catch(r){return console.error("Error compressing image:",r),t}},xh=async(t,e,r)=>{try{const n=t.type.startsWith("image/")?"jpg":t.name.split(".").pop(),s=`${e}/${Date.now()}_${Math.random().toString(36).substring(2,15)}.${n}`,i=t.type.startsWith("image/")?await _3(t,r):t,a=new FileReader,o=await new Promise((f,u)=>{a.onload=()=>f(a.result),a.onerror=u,a.readAsDataURL(i)}),c={fileName:i.name,fileType:i.type,fileSize:i.size,uploadDate:new Date().toISOString(),compressed:t.type.startsWith("image/")};return await tn.setItem(`${s}_metadata`,c),await tn.setItem(s,o),s}catch(n){throw console.error("Error uploading file:",n),n}},wh=async t=>{var e;try{const r=await tn.getItem(t),n=await tn.getItem(`${t}_metadata`);if(!r)throw new Error(`File not found: ${t}`);if(!r.startsWith("data:"))throw new Error("Invalid file data format");if((e=n==null?void 0:n.fileType)!=null&&e.startsWith("image/")){const[s,i]=r.split(",");if(!s.includes("base64")||!i)throw new Error("Invalid image data format")}return r}catch(r){throw console.error("Error getting file:",r),r}},k3=async t=>{try{await tn.removeItem(t),await tn.removeItem(`${t}_metadata`)}catch(e){throw console.error("Error deleting file:",e),e}},j3=async()=>{try{await tn.ready(),console.log("Local storage initialized successfully");const t=await tn.keys(),e=new Date;for(const r of t)if(r.endsWith("_metadata")){const n=await tn.getItem(r);if(n!=null&&n.uploadDate){const s=new Date(n.uploadDate);if(e.getTime()-s.getTime()>24*60*60*1e3){const i=r.replace("_metadata","");await k3(i)}}}}catch(t){throw console.error("Error initializing storage:",t),t}},N3=Se.object({brand:Se.string().min(1,"Выберите марку"),model:Se.string().min(1,"Выберите модель"),generation:Se.string().min(1,"Укажите поколение"),year:Se.string().min(1,"Укажите год"),price:Se.string().min(1,"Укажите цену"),engine:Se.string().min(1,"Укажите двигатель"),power:Se.string().min(1,"Укажите мощность"),transmission:Se.string().min(1,"Укажите трансмиссию"),drivetrain:Se.string().min(1,"Укажите привод"),mileage:Se.string().min(1,"Укажите пробег"),description:Se.string().min(10,"Описание должно содержать минимум 10 символов"),status:Se.enum(["in_stock","on_order","in_transit"],{required_error:"Выберите статус"})}),S3={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,fileType:"image/jpeg",quality:.8};function E3({onSubmit:t,initialData:e,editMode:r=!1,carId:n}){const[s,i]=V.useState(!1),[a,o]=V.useState([]),[c,f]=V.useState([]),[u,d]=V.useState([]),[h,m]=V.useState(null),[p,v]=V.useState(0),[w,g]=V.useState(null),[y,x]=V.useState(null),k=V.useRef(null),{register:_,handleSubmit:S,formState:{errors:O},reset:b,setValue:N}=Hi({resolver:qi(N3),defaultValues:e||{}});V.useEffect(()=>{e&&b(e)},[e,b]),V.useEffect(()=>{r&&n&&C(n)},[r,n]);const C=async $=>{try{const{data:J,error:K}=await Te.from("car_images").select("id, image_url").eq("car_id",$);if(K)throw K;J&&J.length>0&&d(J.map(ne=>({id:ne.id,url:ne.image_url})))}catch(J){console.error("Error fetching existing images:",J)}},T=async $=>{try{const J={...S3,onProgress:K=>{v(K)}};return await wt($,J)}catch(J){return console.error("Error compressing image:",J),$}},R=async $=>{if($.target.files){const J=Array.from($.target.files);v(0);const K=[],ne=[];for(const F of J)try{const U=await T(F);K.push(U),ne.push(URL.createObjectURL(U))}catch(U){console.error("Error processing image:",U)}o(F=>[...F,...K]),f(F=>[...F,...ne]),v(0)}},L=$=>{o(J=>J.filter((K,ne)=>ne!==$)),f(J=>(URL.revokeObjectURL(J[$]),J.filter((K,ne)=>ne!==$)))},I=async($,J)=>{try{const{error:K}=await Te.from("car_images").delete().eq("id",$);if(K)throw K;d(ne=>ne.filter((F,U)=>U!==J))}catch(K){console.error("Error removing existing image:",K),alert("Ошибка при удалении изображения")}},H=($,J)=>{J?x($):g($)},A=()=>{g(null),x(null)},E=$=>{$.preventDefault()},B=($,J)=>{if(w!==null&&!J){const K=[...a],ne=[...c],[F]=K.splice(w,1),[U]=ne.splice(w,1);K.splice($,0,F),ne.splice($,0,U),o(K),f(ne)}else if(y!==null&&J){const K=[...u],[ne]=K.splice(y,1);K.splice($,0,ne),d(K)}A()},z=async $=>{var J;i(!0),m(null);try{const K=`${$.brand} ${$.model} ${$.generation}`;let ne;if(r&&n){const{data:F,error:U}=await Te.from("cars").update({name:K,price:parseInt($.price),year:parseInt($.year),mileage:$.mileage,engine:$.engine,power:$.power,transmission:$.transmission,drivetrain:$.drivetrain,description:$.description,status:$.status}).eq("id",n).select();if(U)throw U;ne=F}else{const{data:F,error:U}=await Te.from("cars").insert([{name:K,price:parseInt($.price),year:parseInt($.year),mileage:$.mileage,engine:$.engine,power:$.power,transmission:$.transmission,drivetrain:$.drivetrain,description:$.description,status:$.status,main_image:"https://images.unsplash.com/photo-1583121274602-3e2820c69888?auto=format&fit=crop&w=800"}]).select();if(U)throw U;ne=F,n=(J=F==null?void 0:F[0])==null?void 0:J.id}if(console.log("Car saved successfully:",ne),n&&a.length>0){const F=[];for(const[U,ae]of a.entries())try{const xe=await xh(ae,`car-images/${n}`),ke=await wh(xe);F.push(ke),U===0&&u.length===0&&await Te.from("cars").update({main_image:ke}).eq("id",n);const{error:be}=await Te.from("car_images").insert([{car_id:n,image_url:ke}]);be&&console.error(`Error inserting image record ${U+1}:`,be)}catch(xe){console.error(`Error processing image ${U+1}:`,xe)}}console.log("Form submission completed successfully"),t()}catch(K){console.error("Error saving car:",K),m(K.message||"Ошибка при сохранении автомобиля")}finally{i(!1)}};return l.jsxs("form",{onSubmit:S(z),className:"space-y-6",children:[h&&l.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:h}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Марка"}),l.jsx("input",{type:"text",..._("brand"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.brand&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.brand.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Модель"}),l.jsx("input",{type:"text",..._("model"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.model&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.model.message})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Поколение"}),l.jsx("input",{type:"text",..._("generation"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.generation&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.generation.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Год выпуска"}),l.jsx("input",{type:"number",..._("year"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.year&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.year.message})]})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Двигатель"}),l.jsx("input",{type:"text",..._("engine"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.engine&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.engine.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Мощность"}),l.jsx("input",{type:"text",..._("power"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.power&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.power.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Пробег"}),l.jsx("input",{type:"text",..._("mileage"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.mileage&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.mileage.message})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Трансмиссия"}),l.jsx("input",{type:"text",..._("transmission"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.transmission&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.transmission.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Привод"}),l.jsx("input",{type:"text",..._("drivetrain"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.drivetrain&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.drivetrain.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Цена"}),l.jsx("input",{type:"text",..._("price"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.price&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.price.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Описание"}),l.jsx("textarea",{..._("description"),rows:6,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600"}),O.description&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.description.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Статус"}),l.jsxs("select",{..._("status"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"in_stock",children:"В наличии"}),l.jsx("option",{value:"on_order",children:"Под заказ"}),l.jsx("option",{value:"in_transit",children:"В пути"})]}),O.status&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:O.status.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Фотографии"}),u.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Существующие фотографии:"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map(($,J)=>l.jsxs("div",{className:`relative aspect-square cursor-move ${y===J?"opacity-50":""}`,draggable:!0,onDragStart:()=>H(J,!0),onDragEnd:A,onDragOver:E,onDrop:K=>{K.preventDefault(),B(J,!0)},children:[l.jsx("div",{className:"absolute top-2 left-2 cursor-move",children:l.jsx(sp,{className:"w-4 h-4 text-white drop-shadow-lg"})}),l.jsx("img",{src:$.url,alt:`Existing ${J+1}`,className:"w-full h-full object-cover rounded-lg",onError:K=>{K.target.src="https://via.placeholder.com/150?text=Ошибка"}}),l.jsx("button",{type:"button",onClick:()=>I($.id,J),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:l.jsx(rn,{className:"w-4 h-4"})})]},$.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.map(($,J)=>l.jsxs("div",{className:`relative aspect-square cursor-move ${w===J?"opacity-50":""}`,draggable:!0,onDragStart:()=>H(J,!1),onDragEnd:A,onDragOver:E,onDrop:K=>{K.preventDefault(),B(J,!1)},children:[l.jsx("div",{className:"absolute top-2 left-2 cursor-move",children:l.jsx(sp,{className:"w-4 h-4 text-white drop-shadow-lg"})}),l.jsx("img",{src:$,alt:`Preview ${J+1}`,className:"w-full h-full object-cover rounded-lg"}),l.jsx("button",{type:"button",onClick:()=>L(J),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:l.jsx(rn,{className:"w-4 h-4"})})]},J)),l.jsxs("label",{className:"aspect-square border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-red-500 transition-colors",children:[l.jsx(ih,{className:"w-8 h-8 text-gray-400"}),l.jsx("span",{className:"mt-2 text-sm text-gray-500",children:"Добавить фото"}),l.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:R,className:"hidden",ref:k})]})]}),p>0&&p<100&&l.jsxs("div",{className:"mt-2",children:[l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:l.jsx("div",{className:"bg-red-500 h-2.5 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Сжатие изображений: ",Math.round(p),"%"]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition flex items-center",children:s?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mr-2",children:"Сохранение..."}),l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):l.jsxs(l.Fragment,{children:[l.jsx(xo,{className:"w-5 h-5 mr-2"}),"Сохранить"]})})})]})}function C3(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState(!1),[a,o]=V.useState(""),[c,f]=V.useState(null),[u,d]=V.useState(null);V.useEffect(()=>{h()},[]);async function h(){n(!0);try{const{data:k,error:_}=await Te.from("cars").select("*").order("created_at",{ascending:!1});if(_)throw _;console.log("Fetched cars:",k),e(k||[])}catch(k){console.error("Error fetching cars:",k)}finally{n(!1)}}const m=()=>{f(null),d(null),i(!0)},p=async k=>{f(k);const _=k.name.split(" "),S=_[0]||"",O=_.length>2?_[_.length-1]:"",b=_.slice(1,O?-1:void 0).join(" "),N={brand:S,model:b,generation:O,year:k.year.toString(),price:k.price.toString(),engine:k.engine,power:k.power||"",transmission:k.transmission,drivetrain:k.drivetrain||"",mileage:k.mileage,description:k.description,status:k.status||"in_stock"};d(N),i(!0)},v=async k=>{if(confirm("Вы уверены, что хотите удалить этот автомобиль?"))try{const{error:_}=await Te.from("car_images").delete().eq("car_id",k);_&&console.error("Error deleting car images:",_);const{error:S}=await Te.from("cars").delete().eq("id",k);if(S)throw S;e(t.filter(O=>O.id!==k))}catch(_){console.error("Error deleting car:",_),alert("Ошибка при удалении автомобиля")}},w=()=>{i(!1),h()},g=t.filter(k=>k.name.toLowerCase().includes(a.toLowerCase())),y=k=>{switch(k){case"in_stock":return"В наличии";case"on_order":return"Под заказ";case"in_transit":return"В пути";default:return"Неизвестно"}},x=k=>{switch(k){case"in_stock":return"text-green-500";case"on_order":return"text-yellow-500";case"in_transit":return"text-blue-500";default:return"text-gray-500"}};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Управление автомобилями"}),l.jsxs("button",{onClick:m,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:[l.jsx(xo,{className:"w-5 h-5 mr-2"}),"Добавить автомобиль"]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Поиск по названию",value:a,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]})}),s?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:c?"Редактировать автомобиль":"Добавить автомобиль"}),l.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Отмена"})]}),l.jsx(E3,{onSubmit:w,initialData:u,editMode:!!c,carId:c==null?void 0:c.id})]}):l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):g.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Фото"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Название"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Цена"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Год"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Статус"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Дата добавления"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map(k=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"w-12 h-12 rounded overflow-hidden",children:l.jsx("img",{src:k.main_image,alt:k.name,className:"w-full h-full object-cover",onError:_=>{_.target.src="https://via.placeholder.com/150?text=No+Image"}})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:k.name})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:[k.price.toLocaleString()," ₽"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:k.year})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`text-sm ${x(k.status)}`,children:y(k.status)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:new Date(k.created_at).toLocaleDateString()})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>p(k),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3",children:l.jsx(Rc,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>v(k.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:l.jsx(Oc,{className:"w-5 h-5"})})]})]},k.id))})]})}):l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:a?"Автомобили не найдены":"Список автомобилей пуст"})})]})}var ox={exports:{}},T3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",A3=T3,P3=A3;function lx(){}function cx(){}cx.resetWarningCache=lx;var R3=function(){function t(n,s,i,a,o,c){if(c!==P3){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cx,resetWarningCache:lx};return r.PropTypes=r,r};ox.exports=R3();var te=ox.exports,Jd=function(){return Jd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Jd.apply(this,arguments)},ux={onActivate:te.func,onAddUndo:te.func,onBeforeAddUndo:te.func,onBeforeExecCommand:te.func,onBeforeGetContent:te.func,onBeforeRenderUI:te.func,onBeforeSetContent:te.func,onBeforePaste:te.func,onBlur:te.func,onChange:te.func,onClearUndos:te.func,onClick:te.func,onContextMenu:te.func,onCommentChange:te.func,onCopy:te.func,onCut:te.func,onDblclick:te.func,onDeactivate:te.func,onDirty:te.func,onDrag:te.func,onDragDrop:te.func,onDragEnd:te.func,onDragGesture:te.func,onDragOver:te.func,onDrop:te.func,onExecCommand:te.func,onFocus:te.func,onFocusIn:te.func,onFocusOut:te.func,onGetContent:te.func,onHide:te.func,onInit:te.func,onKeyDown:te.func,onKeyPress:te.func,onKeyUp:te.func,onLoadContent:te.func,onMouseDown:te.func,onMouseEnter:te.func,onMouseLeave:te.func,onMouseMove:te.func,onMouseOut:te.func,onMouseOver:te.func,onMouseUp:te.func,onNodeChange:te.func,onObjectResizeStart:te.func,onObjectResized:te.func,onObjectSelected:te.func,onPaste:te.func,onPostProcess:te.func,onPostRender:te.func,onPreProcess:te.func,onProgressState:te.func,onRedo:te.func,onRemove:te.func,onReset:te.func,onSaveContent:te.func,onSelectionChange:te.func,onSetAttrib:te.func,onSetContent:te.func,onShow:te.func,onSubmit:te.func,onUndo:te.func,onVisualAid:te.func,onSkinLoadError:te.func,onThemeLoadError:te.func,onModelLoadError:te.func,onPluginLoadError:te.func,onIconsLoadError:te.func,onLanguageLoadError:te.func,onScriptsLoad:te.func,onScriptsLoadError:te.func},O3=Jd({apiKey:te.string,id:te.string,inline:te.bool,init:te.object,initialValue:te.string,onEditorChange:te.func,value:te.string,tagName:te.string,cloudChannel:te.string,plugins:te.oneOfType([te.string,te.array]),toolbar:te.oneOfType([te.string,te.array]),disabled:te.bool,textareaName:te.string,tinymceScriptSrc:te.oneOfType([te.string,te.arrayOf(te.string),te.arrayOf(te.shape({src:te.string,async:te.bool,defer:te.bool}))]),rollback:te.oneOfType([te.number,te.oneOf([!1])]),scriptLoading:te.shape({async:te.bool,defer:te.bool,delay:te.number})},ux),Du=function(t){return typeof t=="function"},Hp=function(t){return t in ux},qp=function(t){return t.substr(2)},I3=function(t,e,r,n,s,i,a){var o=Object.keys(s).filter(Hp),c=Object.keys(i).filter(Hp),f=o.filter(function(d){return i[d]===void 0}),u=c.filter(function(d){return s[d]===void 0});f.forEach(function(d){var h=qp(d),m=a[h];r(h,m),delete a[h]}),u.forEach(function(d){var h=n(t,d),m=qp(d);a[m]=h,e(m,h)})},L3=function(t,e,r,n,s){return I3(s,t.on.bind(t),t.off.bind(t),function(i,a){return function(o){var c;return(c=i(a))===null||c===void 0?void 0:c(o,t)}},e,r,n)},Gp=0,dx=function(t){var e=Date.now(),r=Math.floor(Math.random()*1e9);return Gp++,t+"_"+r+Gp+String(e)},Zp=function(t){return t!==null&&(t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input")},Qp=function(t){return typeof t>"u"||t===""?[]:Array.isArray(t)?t:t.split(" ")},D3=function(t,e){return Qp(t).concat(Qp(e))},M3=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},F3=function(t){if(!("isConnected"in Node.prototype)){for(var e=t,r=t.parentNode;r!=null;)e=r,r=e.parentNode;return e===t.ownerDocument}return t.isConnected},Kp=function(t,e){t!==void 0&&(t.mode!=null&&typeof t.mode=="object"&&typeof t.mode.set=="function"?t.mode.set(e):t.setMode(e))},Xd=function(){return Xd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Xd.apply(this,arguments)},$3=function(t,e,r){var n,s,i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e.id,i.src=e.src,i.async=(n=e.async)!==null&&n!==void 0?n:!1,i.defer=(s=e.defer)!==null&&s!==void 0?s:!1;var a=function(){i.removeEventListener("load",a),i.removeEventListener("error",o),r(e.src)},o=function(c){i.removeEventListener("load",a),i.removeEventListener("error",o),r(e.src,c)};i.addEventListener("load",a),i.addEventListener("error",o),t.head&&t.head.appendChild(i)},U3=function(t){var e={},r=function(a,o){var c=e[a];c.done=!0,c.error=o;for(var f=0,u=c.handlers;f<u.length;f++){var d=u[f];d(a,o)}c.handlers=[]},n=function(a,o,c){var f=function(y){return c!==void 0?c(y):console.error(y)};if(a.length===0){f(new Error("At least one script must be provided"));return}for(var u=0,d=!1,h=function(y,x){d||(x?(d=!0,f(x)):++u===a.length&&o())},m=0,p=a;m<p.length;m++){var v=p[m],w=e[v.src];if(w)w.done?h(v.src,w.error):w.handlers.push(h);else{var g=dx("tiny-");e[v.src]={id:g,src:v.src,done:!1,error:null,handlers:[h]},$3(t,Xd({id:g},v),r)}}},s=function(){for(var a,o=0,c=Object.values(e);o<c.length;o++){var f=c[o],u=t.getElementById(f.id);u!=null&&u.tagName==="SCRIPT"&&((a=u.parentNode)===null||a===void 0||a.removeChild(u))}e={}},i=function(){return t};return{loadScripts:n,deleteScripts:s,getDocument:i}},z3=function(){var t=[],e=function(s){var i=t.find(function(a){return a.getDocument()===s});return i===void 0&&(i=U3(s),t.push(i)),i},r=function(s,i,a,o,c){var f=function(){return e(s).loadScripts(i,o,c)};a>0?setTimeout(f,a):f()},n=function(){for(var s=t.pop();s!=null;s=t.pop())s.deleteScripts()};return{loadList:r,reinitialize:n}},B3=z3(),Mu=function(t){var e=t;return e&&e.tinymce?e.tinymce:null},V3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ic=function(){return ic=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},ic.apply(this,arguments)},W3=function(t){V3(e,t);function e(r){var n,s,i,a=t.call(this,r)||this;return a.rollbackTimer=void 0,a.valueCursor=void 0,a.rollbackChange=function(){var o=a.editor,c=a.props.value;o&&c&&c!==a.currentContent&&o.undoManager.ignore(function(){if(o.setContent(c),a.valueCursor&&(!a.inline||o.hasFocus()))try{o.selection.moveToBookmark(a.valueCursor)}catch{}}),a.rollbackTimer=void 0},a.handleBeforeInput=function(o){if(a.props.value!==void 0&&a.props.value===a.currentContent&&a.editor&&(!a.inline||a.editor.hasFocus()))try{a.valueCursor=a.editor.selection.getBookmark(3)}catch{}},a.handleBeforeInputSpecial=function(o){(o.key==="Enter"||o.key==="Backspace"||o.key==="Delete")&&a.handleBeforeInput(o)},a.handleEditorChange=function(o){var c=a.editor;if(c&&c.initialized){var f=c.getContent();a.props.value!==void 0&&a.props.value!==f&&a.props.rollback!==!1&&(a.rollbackTimer||(a.rollbackTimer=window.setTimeout(a.rollbackChange,typeof a.props.rollback=="number"?a.props.rollback:200))),f!==a.currentContent&&(a.currentContent=f,Du(a.props.onEditorChange)&&a.props.onEditorChange(f,c))}},a.handleEditorChangeSpecial=function(o){(o.key==="Backspace"||o.key==="Delete")&&a.handleEditorChange(o)},a.initialise=function(o){var c,f,u;o===void 0&&(o=0);var d=a.elementRef.current;if(d){if(!F3(d)){if(o===0)setTimeout(function(){return a.initialise(1)},1);else if(o<100)setTimeout(function(){return a.initialise(o+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var h=Mu(a.view);if(!h)throw new Error("tinymce should have been loaded into global scope");var m=ic(ic({},a.props.init),{selector:void 0,target:d,readonly:a.props.disabled,inline:a.inline,plugins:D3((c=a.props.init)===null||c===void 0?void 0:c.plugins,a.props.plugins),toolbar:(f=a.props.toolbar)!==null&&f!==void 0?f:(u=a.props.init)===null||u===void 0?void 0:u.toolbar,setup:function(p){a.editor=p,a.bindHandlers({}),a.inline&&!Zp(d)&&p.once("PostRender",function(v){p.setContent(a.getInitialValue(),{no_events:!0})}),a.props.init&&Du(a.props.init.setup)&&a.props.init.setup(p)},init_instance_callback:function(p){var v,w,g=a.getInitialValue();a.currentContent=(v=a.currentContent)!==null&&v!==void 0?v:p.getContent(),a.currentContent!==g&&(a.currentContent=g,p.setContent(g),p.undoManager.clear(),p.undoManager.add(),p.setDirty(!1));var y=(w=a.props.disabled)!==null&&w!==void 0?w:!1;Kp(a.editor,y?"readonly":"design"),a.props.init&&Du(a.props.init.init_instance_callback)&&a.props.init.init_instance_callback(p)}});a.inline||(d.style.visibility=""),Zp(d)&&(d.value=a.getInitialValue()),h.init(m)}},a.id=a.props.id||dx("tiny-react"),a.elementRef=V.createRef(),a.inline=(i=(n=a.props.inline)!==null&&n!==void 0?n:(s=a.props.init)===null||s===void 0?void 0:s.inline)!==null&&i!==void 0?i:!1,a.boundHandlers={},a}return Object.defineProperty(e.prototype,"view",{get:function(){var r,n;return(n=(r=this.elementRef.current)===null||r===void 0?void 0:r.ownerDocument.defaultView)!==null&&n!==void 0?n:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(r){var n=this,s,i;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(r),this.editor.initialized)){if(this.currentContent=(s=this.currentContent)!==null&&s!==void 0?s:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==r.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact(function(){var c;if(!n.inline||a.hasFocus())try{c=a.selection.getBookmark(3)}catch{}var f=n.valueCursor;if(a.setContent(n.props.value),!n.inline||a.hasFocus())for(var u=0,d=[c,f];u<d.length;u++){var h=d[u];if(h)try{a.selection.moveToBookmark(h),n.valueCursor=h;break}catch{}}})}if(this.props.disabled!==r.disabled){var o=(i=this.props.disabled)!==null&&i!==void 0?i:!1;Kp(this.editor,o?"readonly":"design")}}},e.prototype.componentDidMount=function(){var r=this,n,s,i,a,o;if(Mu(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(s=(n=this.props).onScriptsLoadError)===null||s===void 0||s.call(n,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((i=this.elementRef.current)===null||i===void 0)&&i.ownerDocument){var c=function(){var u,d;(d=(u=r.props).onScriptsLoad)===null||d===void 0||d.call(u),r.initialise()},f=function(u){var d,h;(h=(d=r.props).onScriptsLoadError)===null||h===void 0||h.call(d,u)};B3.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(o=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.delay)!==null&&o!==void 0?o:0,c,f)}},e.prototype.componentWillUnmount=function(){var r=this,n=this.editor;n&&(n.off(this.changeEvents(),this.handleEditorChange),n.off(this.beforeInputEvent(),this.handleBeforeInput),n.off("keypress",this.handleEditorChangeSpecial),n.off("keydown",this.handleBeforeInputSpecial),n.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(s){n.off(s,r.boundHandlers[s])}),this.boundHandlers={},n.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.changeEvents=function(){var r,n,s,i=(s=(n=(r=Mu(this.view))===null||r===void 0?void 0:r.Env)===null||n===void 0?void 0:n.browser)===null||s===void 0?void 0:s.isIE();return i?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},e.prototype.beforeInputEvent=function(){return M3()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var r=this.props.tagName,n=r===void 0?"div":r;return V.createElement(n,{ref:this.elementRef,id:this.id})},e.prototype.renderIframe=function(){return V.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},e.prototype.getScriptSources=function(){var r,n,s=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.async,i=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:s,defer:i}]:this.props.tinymceScriptSrc.map(function(f){return typeof f=="string"?{src:f,async:s,defer:i}:f});var a=this.props.cloudChannel,o=this.props.apiKey?this.props.apiKey:"no-api-key",c="https://cdn.tiny.cloud/1/".concat(o,"/tinymce/").concat(a,"/tinymce.min.js");return[{src:c,async:s,defer:i}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(r){var n=this;if(this.editor!==void 0){L3(this.editor,r,this.props,this.boundHandlers,function(o){return n.props[o]});var s=function(o){return o.onEditorChange!==void 0||o.value!==void 0},i=s(r),a=s(this.props);!i&&a?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):i&&!a&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=O3,e.defaultProps={cloudChannel:"6"},e}(V.Component);function H3({value:t,onChange:e,height:r=400,placeholder:n}){return l.jsx(W3,{apiKey:"obz0wiivzl0wmmsbvsedaw0t2eqm0aqn3gjc56dkuuwsq6so",value:t,onEditorChange:e,init:{height:r,menubar:!1,plugins:["advlist","autolink","lists","link","charmap","preview","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","wordcount"],toolbar:"undo redo | formatselect | bold italic | bullist numlist | removeformat",formats:{p:{block:"p"},h1:{block:"h1"},h2:{block:"h2"},h3:{block:"h3"},h4:{block:"h4"},h5:{block:"h5"},h6:{block:"h6"},ul:{block:"ul"},ol:{block:"ol"},li:{block:"li"}},content_style:`
          body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            font-size: 16px;
            line-height: 1.5;
            color: #1f2937;
            margin: 1rem;
          }
          body.dark-mode {
            background-color: #1f2937;
            color: #f3f4f6;
          }
          p { margin: 0 0 1em 0; }
          ul, ol { margin: 0 0 1em 0; padding-left: 2em; }
          li { margin: 0.5em 0; }
        `,placeholder:n,skin:"oxide",content_css:"default",setup:s=>{document.documentElement.classList.contains("dark")&&s.on("init",()=>{const a=s.getBody();a&&a.classList.add("dark-mode")}),s.on("PastePreProcess",a=>{let o=a.content;o=o.split(`

`).map(c=>c.trim()?`<!-- wp:paragraph -->
<p>${c.trim()}</p>
<!-- /wp:paragraph -->`:"").join(`

`),a.content=o})}}})}const q3=t=>t?t.split(`

`).map(n=>{const s=n.trim();return s?s.startsWith("- ")||s.startsWith("* ")?`<!-- wp:list -->
<ul>
${s.split(`
`).map(a=>`<!-- wp:list-item -->
<li>${a.replace(/^[-*]\s+/,"").trim()}</li>
<!-- /wp:list-item -->`).join(`
`)}
</ul>
<!-- /wp:list -->`:`<!-- wp:paragraph -->
<p>${s}</p>
<!-- /wp:paragraph -->`:""}).filter(Boolean).join(`

`):"",G3=t=>t?t.replace(/<!-- wp:paragraph -->\s*<p>(.*?)<\/p>\s*<!-- \/wp:paragraph -->/gs,`$1

`).replace(/<!-- wp:list -->\s*<ul>(.*?)<\/ul>\s*<!-- \/wp:list -->/gs,`$1

`).replace(/<!-- wp:list-item -->\s*<li>(.*?)<\/li>\s*<!-- \/wp:list-item -->/g,`- $1
`).replace(/<[^>]+>/g,"").replace(/<!--[\s\S]*?-->/g,"").replace(/\n{3,}/g,`

`).trim():"",Z3=Se.object({title:Se.string().min(5,"Заголовок должен содержать минимум 5 символов"),excerpt:Se.string().min(10,"Краткое описание должно содержать минимум 10 символов"),content:Se.string().min(20,"Содержание должно содержать минимум 20 символов"),category:Se.string().min(1,"Выберите категорию"),created_at:Se.string().min(1,"Выберите дату"),image_url:Se.string().optional()}),Q3=["Компания","Законодательство","Автомобили","Акции","Мероприятия"];function K3({onSubmit:t,initialData:e,editMode:r=!1}){const[n,s]=V.useState(!1),[i,a]=V.useState(null),[o,c]=V.useState(null),[f,u]=V.useState((e==null?void 0:e.image_url)||null),d=V.useRef(null),[h,m]=V.useState((e==null?void 0:e.content)||""),{register:p,handleSubmit:v,formState:{errors:w},setValue:g}=Hi({resolver:qi(Z3),defaultValues:{...e,created_at:e!=null&&e.created_at?ks(new Date(e.created_at),"yyyy-MM-dd'T'HH:mm"):ks(new Date,"yyyy-MM-dd'T'HH:mm"),image_url:(e==null?void 0:e.image_url)||""}}),y=_=>{if(_.target.files&&_.target.files[0]){const S=_.target.files[0];c(S),u(URL.createObjectURL(S))}},x=()=>{c(null),f&&!(e!=null&&e.image_url)&&URL.revokeObjectURL(f),u(null),g("image_url",""),d.current&&(d.current.value="")},k=async _=>{s(!0),a(null);try{let S=f;if(o){const N=await xh(o,"news-images");S=await wh(N)}const O=q3(h),b={..._,content:O,image_url:S||_.image_url};await t(b)}catch(S){console.error("Error saving news:",S),a(S.message||"Ошибка при сохранении новости")}finally{s(!1)}};return l.jsxs("form",{onSubmit:v(k),className:"space-y-6",children:[i&&l.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:i}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Заголовок"}),l.jsx("input",{type:"text",...p("title"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),w.title&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Категория"}),l.jsxs("select",{...p("category"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[l.jsx("option",{value:"",children:"Выберите категорию"}),Q3.map(_=>l.jsx("option",{value:_,children:_},_))]}),w.category&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.category.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Дата публикации"}),l.jsx("input",{type:"datetime-local",...p("created_at"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),w.created_at&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.created_at.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Краткое описание"}),l.jsx("input",{type:"text",...p("excerpt"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),w.excerpt&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.excerpt.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Содержание"}),l.jsx(H3,{value:h,onChange:_=>{m(_),g("content",_)},placeholder:"Введите содержание новости..."}),w.content&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:w.content.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Изображение"}),l.jsx("input",{type:"hidden",...p("image_url")}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx(ih,{className:"w-5 h-5 mr-2 text-gray-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Выбрать файл"}),l.jsx("input",{type:"file",ref:d,onChange:y,accept:"image/*",className:"hidden"})]})}),f&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:f,alt:"Предпросмотр",className:"w-full h-64 object-cover rounded-lg",onError:_=>{_.target.src="https://via.placeholder.com/800x400?text=Ошибка+загрузки"}}),l.jsx("button",{type:"button",onClick:x,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:l.jsx(rn,{className:"w-4 h-4"})})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:n,className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:n?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mr-2",children:"Сохранение..."}),l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"Сохранить"})})]})}function Y3(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState(""),[a,o]=V.useState(!1),[c,f]=V.useState(null),[u,d]=V.useState(!0);V.useEffect(()=>{h()},[]);async function h(){n(!0);try{const{data:y,error:x}=await Te.from("news").select("*").order("created_at",{ascending:!1});if(x)if(x.code==="42P01")console.log("News table doesn't exist yet"),d(!1),e([]);else throw x;else d(!0),e(y||[])}catch(y){console.error("Error fetching news:",y)}finally{n(!1)}}const m=()=>{f(null),o(!0)},p=y=>{const x=G3(y.content);f({...y,content:x}),o(!0)},v=async y=>{if(confirm("Вы уверены, что хотите удалить эту новость?"))try{const{error:x}=await Te.from("news").delete().eq("id",y);if(x)throw x;e(t.filter(k=>k.id!==y))}catch(x){console.error("Error deleting news:",x),alert("Ошибка при удалении новости")}},w=async y=>{try{if(c){const{error:x}=await Te.from("news").update(y).eq("id",c.id);if(x)throw x}else{const{error:x}=await Te.from("news").insert([y]);if(x)throw x}o(!1),h()}catch(x){throw console.error("Error saving news:",x),x}},g=t.filter(y=>y.title.toLowerCase().includes(s.toLowerCase())||y.category.toLowerCase().includes(s.toLowerCase()));return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Управление новостями"}),l.jsxs("button",{onClick:m,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:[l.jsx(xo,{className:"w-5 h-5 mr-2"}),"Добавить новость"]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Поиск по заголовку или категории",value:s,onChange:y=>i(y.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]})}),a?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:c?"Редактировать новость":"Добавить новость"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Отмена"})]}),l.jsx(K3,{onSubmit:w,initialData:c,editMode:!!c})]}):l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):g.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Изображение"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Заголовок"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Категория"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Дата"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map(y=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"w-12 h-12 rounded overflow-hidden",children:l.jsx("img",{src:y.image_url,alt:y.title,className:"w-full h-full object-cover",onError:x=>{x.target.src="https://via.placeholder.com/150?text=No+Image"}})})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:y.title}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:y.excerpt})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100",children:y.category})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:new Date(y.created_at).toLocaleDateString()})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>p(y),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3",disabled:!u,children:l.jsx(Rc,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>v(y.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",disabled:!u,children:l.jsx(Oc,{className:"w-5 h-5"})})]})]},y.id))})]})}):l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:s?"Новости не найдены":"Список новостей пуст"})})]})}const J3=Se.object({author:Se.string().min(1,"Введите имя автора"),rating:Se.number().min(1,"Выберите рейтинг").max(5),text:Se.string().min(10,"Текст отзыва должен содержать минимум 10 символов"),source:Se.string().min(1,"Укажите источник"),source_url:Se.string().optional(),image_url:Se.string().optional(),images:Se.array(Se.string()).optional()});function X3(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState(""),[a,o]=V.useState(!1),[c,f]=V.useState(null),[u,d]=V.useState(5),[h,m]=V.useState(null),[p,v]=V.useState(!1),[w,g]=V.useState([]),[y,x]=V.useState([]);V.useState("");const k=V.useRef(null),{register:_,handleSubmit:S,reset:O,setValue:b,formState:{errors:N},watch:C}=Hi({resolver:qi(J3),defaultValues:{author:"",rating:5,text:"",source:"",source_url:"",image_url:"",images:[]}});V.useEffect(()=>{T()},[]),V.useEffect(()=>{if(c){b("author",c.author),b("rating",c.rating),b("text",$(c.text)),b("source",c.source),b("source_url",c.source_url||""),b("image_url",c.image_url||"");const F=c.images||[];c.image_url&&!F.includes(c.image_url)&&F.push(c.image_url),b("images",F),x(F),d(c.rating)}else O(),g([]),x([]),d(5)},[c,b,O]);async function T(){n(!0);try{const{data:F,error:U}=await Te.from("reviews").select("*").order("created_at",{ascending:!1});if(U)throw U;console.log("Fetched reviews:",F),e(F||[])}catch(F){console.error("Error fetching reviews:",F)}finally{n(!1)}}const R=()=>{f(null),o(!0),g([]),x([])},L=F=>{f(F),o(!0)},I=async F=>{if(confirm("Вы уверены, что хотите удалить этот отзыв?"))try{const{error:U}=await Te.from("reviews").delete().eq("id",F);if(U)throw U;e(t.filter(ae=>ae.id!==F))}catch(U){console.error("Error deleting review:",U),alert("Ошибка при удалении отзыва")}},H=F=>{if(F.target.files){const U=Array.from(F.target.files);g(xe=>[...xe,...U]);const ae=U.map(xe=>URL.createObjectURL(xe));x(xe=>[...xe,...ae])}},A=F=>{g(U=>U.filter((ae,xe)=>xe!==F)),x(U=>(URL.revokeObjectURL(U[F]),U.filter((ae,xe)=>xe!==F)))},E=F=>{if(F===0)return;const U=[...w],ae=[...y];[U[F],U[F-1]]=[U[F-1],U[F]],[ae[F],ae[F-1]]=[ae[F-1],ae[F]],g(U),x(ae)},B=F=>{if(F===y.length-1)return;const U=[...w],ae=[...y];[U[F],U[F+1]]=[U[F+1],U[F]],[ae[F],ae[F+1]]=[ae[F+1],ae[F]],g(U),x(ae)},z=F=>{if(!F)return"";let U=F.split(`

`).map(be=>be.trim()).filter(be=>be.length>0).map(be=>`<!-- wp:paragraph -->
<p>${be}</p>
<!-- /wp:paragraph -->`).join(`

`);U=U.replace(/<!-- wp:paragraph -->\n<p>[-*]\s+(.+?)<\/p>\n<!-- \/wp:paragraph -->/g,`<!-- wp:list-item -->
<li>$1</li>
<!-- /wp:list-item -->`);const ae=/<!-- wp:list-item -->\n<li>(.+?)<\/li>\n<!-- \/wp:list-item -->/g,xe=[];let ke;for(;(ke=ae.exec(U))!==null;)xe.push(ke[0]);if(xe.length>0){const be=xe.join(`
`);U=U.replace(ae,""),U+=`

<!-- wp:list -->
<ul>
${be}
</ul>
<!-- /wp:list -->`}return U},$=F=>{if(!F)return"";let U=F.replace(/<!-- wp:paragraph -->\n<p>(.*?)<\/p>\n<!-- \/wp:paragraph -->/g,`$1

`).replace(/<!-- wp:list -->\n<ul>\n(.*?)\n<\/ul>\n<!-- \/wp:list -->/g,`$1

`).replace(/<!-- wp:list-item -->\n<li>(.*?)<\/li>\n<!-- \/wp:list-item -->/g,`- $1
`);return U=U.replace(/<[^>]*>/g,""),U.trim()},J=async F=>{v(!0),m(null);try{console.log("Submitting review data:",F);const U=z(F.text),ae=[];if(w.length>0)for(const ke of w)try{const be=await xh(ke,"review-images"),Fe=await wh(be);ae.push(Fe)}catch(be){console.error("Error processing image:",be)}const xe=ae.length>0?ae[0]:null;if(c){const{error:ke}=await Te.from("reviews").update({author:F.author,rating:F.rating,text:U,source:F.source,source_url:F.source_url||null,image_url:xe||F.image_url||null,images:ae.length>0?ae:null}).eq("id",c.id);if(ke)throw ke}else{const{error:ke}=await Te.from("reviews").insert([{author:F.author,rating:F.rating,text:U,source:F.source,source_url:F.source_url||null,image_url:xe||null,images:ae.length>0?ae:null}]);if(ke)throw ke}o(!1),T()}catch(U){console.error("Error saving review:",U),m(U.message||"Ошибка при сохранении отзыва")}finally{v(!1)}},K=F=>{d(F),b("rating",F)},ne=t.filter(F=>F.author.toLowerCase().includes(s.toLowerCase())||F.text.toLowerCase().includes(s.toLowerCase()));return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Управление отзывами"}),l.jsxs("button",{onClick:R,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:[l.jsx(xo,{className:"w-5 h-5 mr-2"}),"Добавить отзыв"]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Поиск по автору или тексту",value:s,onChange:F=>i(F.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]})}),a?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:c?"Редактировать отзыв":"Добавить отзыв"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Отмена"})]}),h&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:h}),l.jsxs("form",{onSubmit:S(J),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Автор"}),l.jsx("input",{type:"text",..._("author"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),N.author&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.author.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Рейтинг"}),l.jsxs("div",{className:"flex space-x-2",children:[[1,2,3,4,5].map(F=>l.jsx("button",{type:"button",onClick:()=>K(F),className:`text-${u>=F?"yellow-400":"gray-300"}`,children:l.jsx(Ul,{className:`w-6 h-6 ${u>=F?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},F)),l.jsx("input",{type:"hidden",..._("rating"),value:u})]}),N.rating&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.rating.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Текст отзыва"}),l.jsxs("div",{className:"mb-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("p",{children:"Используйте формат WordPress:"}),l.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[l.jsx("li",{children:"Разделяйте параграфы пустой строкой"}),l.jsx("li",{children:"Начните строку с - для создания списка"})]})]}),l.jsx("textarea",{rows:6,..._("text"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white font-mono"}),N.text&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.text.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Источник"}),l.jsx("input",{type:"text",..._("source"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Например: VL.ru"}),N.source&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:N.source.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ссылка на источник (опционально)"}),l.jsx("input",{type:"text",..._("source_url"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"https://vl.ru/review/123"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Изображения"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx(ih,{className:"w-5 h-5 mr-2 text-gray-500"}),l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Выбрать файлы"}),l.jsx("input",{type:"file",ref:k,onChange:H,multiple:!0,accept:"image/*",className:"hidden"})]})}),y.length>0&&l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3",children:y.map((F,U)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:F,alt:`Изображение ${U+1}`,className:"w-full h-32 object-cover rounded-lg",onError:ae=>{ae.target.src="https://via.placeholder.com/150?text=Ошибка+загрузки"}}),l.jsx("div",{className:"absolute top-2 right-2 flex space-x-1",children:l.jsx("button",{type:"button",onClick:()=>A(U),className:"p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:l.jsx(rn,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"absolute bottom-2 right-2 flex space-x-1",children:[l.jsx("button",{type:"button",onClick:()=>E(U),disabled:U===0,className:`p-1 bg-gray-800/70 text-white rounded-full ${U===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-700"}`,children:l.jsx(Gy,{className:"w-4 h-4"})}),l.jsx("button",{type:"button",onClick:()=>B(U),disabled:U===y.length-1,className:`p-1 bg-gray-800/70 text-white rounded-full ${U===y.length-1?"opacity-50 cursor-not-allowed":"hover:bg-gray-700"}`,children:l.jsx(qy,{className:"w-4 h-4"})})]})]},U))})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:p,className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:p?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mr-2",children:"Сохранение..."}),l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"Сохранить"})})]})]}):l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):ne.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Автор"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Рейтинг"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Текст"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Изображения"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Источник"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Дата"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ne.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:F.author})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"flex",children:[...Array(F.rating)].map((U,ae)=>l.jsx(Ul,{className:"w-4 h-4 text-yellow-400 fill-current"},ae))})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-300 truncate max-w-xs",children:[$(F.text).substring(0,100),"..."]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex space-x-1",children:[F.image_url&&l.jsx("div",{className:"w-10 h-10 rounded overflow-hidden",children:l.jsx("img",{src:F.image_url,alt:`Изображение ${F.author}`,className:"w-full h-full object-cover",onError:U=>{U.target.src="https://via.placeholder.com/150?text=Ошибка"}})}),F.images&&F.images.length>1&&l.jsxs("div",{className:"bg-gray-200 dark:bg-gray-700 w-10 h-10 rounded flex items-center justify-center text-xs",children:["+",F.images.length-1]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:F.source_url?l.jsx("a",{href:F.source_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:F.source}):F.source})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:new Date(F.created_at).toLocaleDateString()})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[l.jsx("button",{onClick:()=>L(F),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3",children:l.jsx(Rc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>I(F.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:l.jsx(Oc,{className:"w-4 h-4"})})]})]},F.id))})]})}):l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:s?"Отзывы не найдены":"Список отзывов пуст"})})]})}const eC=Se.object({question:Se.string().min(5,"Вопрос должен содержать минимум 5 символов"),answer:Se.string().min(10,"Ответ должен содержать минимум 10 символов"),order_number:Se.number().optional()});function tC(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState(""),[a,o]=V.useState(!1),[c,f]=V.useState(null),[u,d]=V.useState(null),[h,m]=V.useState(!1),{register:p,handleSubmit:v,reset:w,setValue:g,formState:{errors:y}}=Hi({resolver:qi(eC),defaultValues:{question:"",answer:""}});V.useEffect(()=>{x()},[]),V.useEffect(()=>{c?(g("question",c.question),g("answer",c.answer),g("order_number",c.order_number)):w()},[c,g,w]);async function x(){n(!0);try{const{data:T,error:R}=await Te.from("faqs").select("*").order("order_number",{ascending:!0});if(R)throw R;e(T||[])}catch(T){console.error("Error fetching FAQs:",T)}finally{n(!1)}}const k=()=>{f(null),o(!0)},_=T=>{f(T),o(!0)},S=async T=>{if(confirm("Вы уверены, что хотите удалить этот вопрос?"))try{const{error:R}=await Te.from("faqs").delete().eq("id",T);if(R)throw R;e(t.filter(I=>I.id!==T));const L=t.filter(I=>I.id!==T).sort((I,H)=>I.order_number-H.order_number).map((I,H)=>({...I,order_number:H+1}));for(const I of L)await Te.from("faqs").update({order_number:I.order_number}).eq("id",I.id);e(L)}catch(R){console.error("Error deleting FAQ:",R),alert("Ошибка при удалении вопроса")}},O=async T=>{const R=t.findIndex(L=>L.id===T);if(R>0)try{const L=[...t],I=L[R],H=L[R-1],A=I.order_number;I.order_number=H.order_number,H.order_number=A,await Te.from("faqs").update({order_number:I.order_number}).eq("id",I.id),await Te.from("faqs").update({order_number:H.order_number}).eq("id",H.id),L.sort((E,B)=>E.order_number-B.order_number),e(L)}catch(L){console.error("Error moving FAQ up:",L)}},b=async T=>{const R=t.findIndex(L=>L.id===T);if(R<t.length-1)try{const L=[...t],I=L[R],H=L[R+1],A=I.order_number;I.order_number=H.order_number,H.order_number=A,await Te.from("faqs").update({order_number:I.order_number}).eq("id",I.id),await Te.from("faqs").update({order_number:H.order_number}).eq("id",H.id),L.sort((E,B)=>E.order_number-B.order_number),e(L)}catch(L){console.error("Error moving FAQ down:",L)}},N=async T=>{m(!0),d(null);try{if(c){const{error:R}=await Te.from("faqs").update({question:T.question,answer:T.answer}).eq("id",c.id);if(R)throw R}else{const R=t.length>0?Math.max(...t.map(I=>I.order_number)):0,{error:L}=await Te.from("faqs").insert([{question:T.question,answer:T.answer,order_number:R+1}]);if(L)throw L}o(!1),x()}catch(R){console.error("Error saving FAQ:",R),d(R.message||"Ошибка при сохранении вопроса")}finally{m(!1)}},C=t.filter(T=>T.question.toLowerCase().includes(s.toLowerCase())||T.answer.toLowerCase().includes(s.toLowerCase())).sort((T,R)=>T.order_number-R.order_number);return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Управление FAQ"}),l.jsxs("button",{onClick:k,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:[l.jsx(xo,{className:"w-5 h-5 mr-2"}),"Добавить вопрос"]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Поиск по вопросу или ответу",value:s,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]})}),a?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold",children:c?"Редактировать вопрос":"Добавить вопрос"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Отмена"})]}),u&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 rounded-lg",children:u}),l.jsxs("form",{onSubmit:v(N),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Вопрос"}),l.jsx("input",{type:"text",...p("question"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),y.question&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.question.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Ответ"}),l.jsx("textarea",{rows:6,...p("answer"),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),y.answer&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.answer.message})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",disabled:h,className:"bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition flex items-center",children:h?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"mr-2",children:"Сохранение..."}),l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})]}):"Сохранить"})})]})]}):l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):C.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Порядок"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Вопрос"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:C.map(T=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>O(T.id),disabled:T.order_number===1,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 disabled:opacity-50",children:l.jsx(Gy,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>b(T.id),disabled:T.order_number===t.length,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 disabled:opacity-50",children:l.jsx(qy,{className:"w-4 h-4"})}),l.jsx("span",{children:T.order_number})]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:T.question}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:T.answer})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>_(T),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:l.jsx(Rc,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>S(T.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:l.jsx(Oc,{className:"w-4 h-4"})})]})})]},T.id))})]})}):l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:s?"Вопросы не найдены":"Список вопросов пуст"})})]})}function rC(){const[t,e]=V.useState([]),[r,n]=V.useState(!0),[s,i]=V.useState("");V.useEffect(()=>{a()},[]);async function a(){n(!0);try{const{data:h,error:m}=await Te.from("contact_form_submissions").select("*").order("created_at",{ascending:!1});if(m)throw m;e(h||[])}catch(h){console.error("Error fetching submissions:",h)}finally{n(!1)}}const o=async(h,m)=>{try{const{error:p}=await Te.from("contact_form_submissions").update({status:m,processed_at:m==="processed"?new Date().toISOString():null}).eq("id",h);if(p)throw p;e(t.map(v=>v.id===h?{...v,status:m,processed_at:m==="processed"?new Date().toISOString():null}:v))}catch(p){console.error("Error updating submission status:",p),alert("Ошибка при обновлении статуса")}},c=h=>{switch(h){case"new":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"processed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},f=h=>{switch(h){case"new":return"Новая";case"processed":return"Обработана";case"rejected":return"Отклонена";default:return"Неизвестно"}},u=h=>{switch(h){case"whatsapp":return"WhatsApp";case"telegram":return"Telegram";case"phone":return"Звонок";default:return h}},d=t.filter(h=>h.name.toLowerCase().includes(s.toLowerCase())||h.email.toLowerCase().includes(s.toLowerCase())||h.phone.toLowerCase().includes(s.toLowerCase())||h.city.toLowerCase().includes(s.toLowerCase()));return l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Заявки"})}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Поиск по имени, email, телефону или городу",value:s,onChange:h=>i(h.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500"})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:r?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500"})}):d.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Дата"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Имя"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Контакты"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Город"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Бюджет"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Способ связи"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Статус"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Действия"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:d.map(h=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:ks(new Date(h.created_at),"d MMMM yyyy",{locale:Wl})}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ks(new Date(h.created_at),"HH:mm")})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.name})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:h.phone}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.email})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:h.city})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:h.budget})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:u(h.contact_method)})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c(h.status)}`,children:f(h.status)}),h.processed_at&&l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:ks(new Date(h.processed_at),"d MMM HH:mm",{locale:Wl})})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[h.status==="new"&&l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>o(h.id,"processed"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Отметить как обработанную",children:l.jsx(A2,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>o(h.id,"rejected"),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Отклонить",children:l.jsx(rn,{className:"w-5 h-5"})})]}),h.status!=="new"&&l.jsx("button",{onClick:()=>o(h.id,"new"),className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300",title:"Вернуть в новые",children:l.jsx(R2,{className:"w-5 h-5"})})]})]},h.id))})]})}):l.jsx("div",{className:"p-6 text-center text-gray-500 dark:text-gray-400",children:s?"Заявки не найдены":"Список заявок пуст"})})]})}function Ys({children:t}){const{user:e,loading:r}=sh(),n=is();return V.useEffect(()=>{console.log("Auth state:",{user:e,loading:r,path:n.pathname})},[e,r,n]),r?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(Pd,{to:"/admin/login",state:{from:n},replace:!0})}function Js({children:t}){const e=kc(),{user:r,signOut:n}=sh(),s=is();V.useEffect(()=>{r||(console.log("No user found in AdminLayout, redirecting to login"),e("/admin/login",{replace:!0}))},[r,e]);const i=async()=>{try{await n(),e("/admin/login")}catch(o){console.error("Error signing out:",o)}},a=o=>s.pathname===`/admin${o}`?"text-red-500 border-red-500":"text-gray-500 border-transparent hover:text-gray-700 dark:hover:text-gray-300";return l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:[l.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0 flex items-center",children:l.jsx(os,{to:"/admin",className:"text-xl font-bold text-gray-900 dark:text-white",children:"SGV Auto Admin"})}),l.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[l.jsxs(os,{to:"/admin",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${a("")}`,children:[l.jsx(U2,{className:"w-4 h-4 mr-2"}),"Дашборд"]}),l.jsxs(os,{to:"/admin/cars",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${a("/cars")}`,children:[l.jsx(bi,{className:"w-4 h-4 mr-2"}),"Автомобили"]}),l.jsxs(os,{to:"/admin/news",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${a("/news")}`,children:[l.jsx(q2,{className:"w-4 h-4 mr-2"}),"Новости"]}),l.jsxs(os,{to:"/admin/reviews",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${a("/reviews")}`,children:[l.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Отзывы"]}),l.jsxs(os,{to:"/admin/faq",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${a("/faq")}`,children:[l.jsx(F2,{className:"w-4 h-4 mr-2"}),"FAQ"]}),l.jsxs(os,{to:"/admin/submissions",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${a("/submissions")}`,children:[l.jsx($2,{className:"w-4 h-4 mr-2"}),"Заявки"]})]})]}),l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:i,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-500 hover:bg-red-600",children:[l.jsx(z2,{className:"w-4 h-4 mr-2"}),"Выйти"]})})]})})}),l.jsx("main",{className:"py-10",children:l.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:t})})]})}function nC(){return l.jsx(N2,{children:l.jsx(by,{children:l.jsxs(s_,{children:[l.jsx(gr,{path:"/",element:l.jsx(a3,{})}),l.jsx(gr,{path:"/news",element:l.jsx(l3,{})}),l.jsx(gr,{path:"/admin/login",element:l.jsx(u3,{})}),l.jsx(gr,{path:"/admin",element:l.jsx(Ys,{children:l.jsx(Js,{children:l.jsx(d3,{})})})}),l.jsx(gr,{path:"/admin/cars",element:l.jsx(Ys,{children:l.jsx(Js,{children:l.jsx(C3,{})})})}),l.jsx(gr,{path:"/admin/news",element:l.jsx(Ys,{children:l.jsx(Js,{children:l.jsx(Y3,{})})})}),l.jsx(gr,{path:"/admin/reviews",element:l.jsx(Ys,{children:l.jsx(Js,{children:l.jsx(X3,{})})})}),l.jsx(gr,{path:"/admin/faq",element:l.jsx(Ys,{children:l.jsx(Js,{children:l.jsx(tC,{})})})}),l.jsx(gr,{path:"/admin/submissions",element:l.jsx(Ys,{children:l.jsx(Js,{children:l.jsx(rC,{})})})}),l.jsx(gr,{path:"/admin/index.html",element:l.jsx(Pd,{to:"/admin",replace:!0})}),l.jsx(gr,{path:"*",element:l.jsx(Pd,{to:"/",replace:!0})})]})})})}async function sC(){try{console.log("Initializing services..."),await j3(),console.log("All services initialized successfully")}catch(t){throw console.error("Error initializing services:",t),t}}sC().catch(console.error);const fx=document.getElementById("root");if(!fx)throw new Error("Root element not found");uy(fx).render(l.jsx(V.StrictMode,{children:l.jsx(d_,{children:l.jsx(by,{children:l.jsx(nC,{})})})}));export{Yp as g};
